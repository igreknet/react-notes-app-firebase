(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hm={exports:{}},Xs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Sh=Object.getOwnPropertySymbols,i0=Object.prototype.hasOwnProperty,s0=Object.prototype.propertyIsEnumerable;function o0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var qm=a0()?Object.assign:function(t,e){for(var n,r=o0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var a in n)i0.call(n,a)&&(r[a]=n[a]);if(Sh){i=Sh(n);for(var l=0;l<i.length;l++)s0.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r},Wm={exports:{}},pe={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=qm,pi=60103,Km=60106;pe.Fragment=60107;pe.StrictMode=60108;pe.Profiler=60114;var Gm=60109,Qm=60110,Xm=60112;pe.Suspense=60113;var Ym=60115,Jm=60116;if(typeof Symbol=="function"&&Symbol.for){var Lt=Symbol.for;pi=Lt("react.element"),Km=Lt("react.portal"),pe.Fragment=Lt("react.fragment"),pe.StrictMode=Lt("react.strict_mode"),pe.Profiler=Lt("react.profiler"),Gm=Lt("react.provider"),Qm=Lt("react.context"),Xm=Lt("react.forward_ref"),pe.Suspense=Lt("react.suspense"),Ym=Lt("react.memo"),Jm=Lt("react.lazy")}var kh=typeof Symbol=="function"&&Symbol.iterator;function u0(t){return t===null||typeof t!="object"?null:(t=kh&&t[kh]||t["@@iterator"],typeof t=="function"?t:null)}function Ys(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eg={};function mi(t,e,n){this.props=t,this.context=e,this.refs=eg,this.updater=n||Zm}mi.prototype.isReactComponent={};mi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ys(85));this.updater.enqueueSetState(this,t,e,"setState")};mi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tg(){}tg.prototype=mi.prototype;function Xc(t,e,n){this.props=t,this.context=e,this.refs=eg,this.updater=n||Zm}var Yc=Xc.prototype=new tg;Yc.constructor=Xc;Qc(Yc,mi.prototype);Yc.isPureReactComponent=!0;var Jc={current:null},ng=Object.prototype.hasOwnProperty,rg={key:!0,ref:!0,__self:!0,__source:!0};function ig(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)ng.call(e,r)&&!rg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:pi,type:t,key:s,ref:a,props:i,_owner:Jc.current}}function l0(t,e){return{$$typeof:pi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zc(t){return typeof t=="object"&&t!==null&&t.$$typeof===pi}function c0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ch=/\/+/g;function nl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c0(""+t.key):e.toString(36)}function Xo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case pi:case Km:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+nl(a,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Ch,"$&/")+"/"),Xo(i,e,n,"",function(f){return f})):i!=null&&(Zc(i)&&(i=l0(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ch,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+nl(s,l);a+=Xo(s,e,n,c,i)}else if(c=u0(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+nl(s,l++),a+=Xo(s,e,n,c,i);else if(s==="object")throw e=""+t,Error(Ys(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Ro(t,e,n){if(t==null)return t;var r=[],i=0;return Xo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function d0(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var sg={current:null};function mn(){var t=sg.current;if(t===null)throw Error(Ys(321));return t}var f0={ReactCurrentDispatcher:sg,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Jc,IsSomeRendererActing:{current:!1},assign:Qc};pe.Children={map:Ro,forEach:function(t,e,n){Ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ro(t,function(){e++}),e},toArray:function(t){return Ro(t,function(e){return e})||[]},only:function(t){if(!Zc(t))throw Error(Ys(143));return t}};pe.Component=mi;pe.PureComponent=Xc;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f0;pe.cloneElement=function(t,e,n){if(t==null)throw Error(Ys(267,t));var r=Qc({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Jc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ng.call(e,c)&&!rg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:pi,type:t.type,key:i,ref:s,props:r,_owner:a}};pe.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Qm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Gm,_context:t},t.Consumer=t};pe.createElement=ig;pe.createFactory=function(t){var e=ig.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:Xm,render:t}};pe.isValidElement=Zc;pe.lazy=function(t){return{$$typeof:Jm,_payload:{_status:-1,_result:t},_init:d0}};pe.memo=function(t,e){return{$$typeof:Ym,type:t,compare:e===void 0?null:e}};pe.useCallback=function(t,e){return mn().useCallback(t,e)};pe.useContext=function(t,e){return mn().useContext(t,e)};pe.useDebugValue=function(){};pe.useEffect=function(t,e){return mn().useEffect(t,e)};pe.useImperativeHandle=function(t,e,n){return mn().useImperativeHandle(t,e,n)};pe.useLayoutEffect=function(t,e){return mn().useLayoutEffect(t,e)};pe.useMemo=function(t,e){return mn().useMemo(t,e)};pe.useReducer=function(t,e,n){return mn().useReducer(t,e,n)};pe.useRef=function(t){return mn().useRef(t)};pe.useState=function(t){return mn().useState(t)};pe.version="17.0.2";Wm.exports=pe;var je=Wm.exports;const Ah=Qs(je);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=je,og=60103;Xs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Ih=Symbol.for;og=Ih("react.element"),Xs.Fragment=Ih("react.fragment")}var p0=h0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0=Object.prototype.hasOwnProperty,g0={key:!0,ref:!0,__self:!0,__source:!0};function ag(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)m0.call(e,r)&&!g0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:og,type:t,key:s,ref:a,props:i,_owner:p0.current}}Xs.jsx=ag;Xs.jsxs=ag;Hm.exports=Xs;var ze=Hm.exports,ug={exports:{}},Mt={},lg={exports:{}},cg={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,f=null,w=function(){if(c!==null)try{var x=t.unstable_now();c(!0,x),c=null}catch(Q){throw setTimeout(w,0),Q}};e=function(x){c!==null?setTimeout(e,0,x):(c=x,setTimeout(w,0))},n=function(x,Q){f=setTimeout(x,Q)},r=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var P=window.setTimeout,A=window.clearTimeout;if(typeof console<"u"){var M=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof M!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var V=!1,N=null,C=-1,k=5,I=0;t.unstable_shouldYield=function(){return t.unstable_now()>=I},i=function(){},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<x?Math.floor(1e3/x):5};var D=new MessageChannel,u=D.port2;D.port1.onmessage=function(){if(N!==null){var x=t.unstable_now();I=x+k;try{N(!0,x)?u.postMessage(null):(V=!1,N=null)}catch(Q){throw u.postMessage(null),Q}}else V=!1},e=function(x){N=x,V||(V=!0,u.postMessage(null))},n=function(x,Q){C=P(function(){x(t.unstable_now())},Q)},r=function(){A(C),C=-1}}function p(x,Q){var X=x.length;x.push(Q);e:for(;;){var ae=X-1>>>1,se=x[ae];if(se!==void 0&&0<g(se,Q))x[ae]=Q,x[X]=se,X=ae;else break e}}function h(x){return x=x[0],x===void 0?null:x}function m(x){var Q=x[0];if(Q!==void 0){var X=x.pop();if(X!==Q){x[0]=X;e:for(var ae=0,se=x.length;ae<se;){var ve=2*(ae+1)-1,_e=x[ve],q=ve+1,B=x[q];if(_e!==void 0&&0>g(_e,X))B!==void 0&&0>g(B,_e)?(x[ae]=B,x[q]=X,ae=q):(x[ae]=_e,x[ve]=X,ae=ve);else if(B!==void 0&&0>g(B,X))x[ae]=B,x[q]=X,ae=q;else break e}}return Q}return null}function g(x,Q){var X=x.sortIndex-Q.sortIndex;return X!==0?X:x.id-Q.id}var v=[],y=[],E=1,b=null,T=3,j=!1,z=!1,R=!1;function F(x){for(var Q=h(y);Q!==null;){if(Q.callback===null)m(y);else if(Q.startTime<=x)m(y),Q.sortIndex=Q.expirationTime,p(v,Q);else break;Q=h(y)}}function G(x){if(R=!1,F(x),!z)if(h(v)!==null)z=!0,e(Y);else{var Q=h(y);Q!==null&&n(G,Q.startTime-x)}}function Y(x,Q){z=!1,R&&(R=!1,r()),j=!0;var X=T;try{for(F(Q),b=h(v);b!==null&&(!(b.expirationTime>Q)||x&&!t.unstable_shouldYield());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,T=b.priorityLevel;var se=ae(b.expirationTime<=Q);Q=t.unstable_now(),typeof se=="function"?b.callback=se:b===h(v)&&m(v),F(Q)}else m(v);b=h(v)}if(b!==null)var ve=!0;else{var _e=h(y);_e!==null&&n(G,_e.startTime-Q),ve=!1}return ve}finally{b=null,T=X,j=!1}}var ce=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){z||j||(z=!0,e(Y))},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return h(v)},t.unstable_next=function(x){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var X=T;T=Q;try{return x()}finally{T=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ce,t.unstable_runWithPriority=function(x,Q){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var X=T;T=x;try{return Q()}finally{T=X}},t.unstable_scheduleCallback=function(x,Q,X){var ae=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,x){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,x={id:E++,callback:Q,priorityLevel:x,startTime:X,expirationTime:se,sortIndex:-1},X>ae?(x.sortIndex=X,p(y,x),h(v)===null&&x===h(y)&&(R?r():R=!0,n(G,X-ae))):(x.sortIndex=se,p(v,x),z||j||(z=!0,e(Y))),x},t.unstable_wrapCallback=function(x){var Q=T;return function(){var X=T;T=Q;try{return x.apply(this,arguments)}finally{T=X}}}})(cg);lg.exports=cg;var _0=lg.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=je,be=qm,We=_0;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Wa)throw Error(H(227));var dg=new Set,As={};function yr(t,e){ti(t,e),ti(t+"Capture",e)}function ti(t,e){for(As[t]=e,t=0;t<e.length;t++)dg.add(e[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph=Object.prototype.hasOwnProperty,bh={},Rh={};function y0(t){return Ph.call(Rh,t)?!0:Ph.call(bh,t)?!1:v0.test(t)?Rh[t]=!0:(bh[t]=!0,!1)}function w0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E0(t,e,n,r){if(e===null||typeof e>"u"||w0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function td(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ed,td);et[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ed,td);et[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ed,td);et[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nd(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(E0(e,n,i,r)&&(n=null),r||i===null?y0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=60103,rr=60106,En=60107,rd=60108,cs=60114,id=60109,sd=60110,Ka=60112,ds=60113,fa=60120,Ga=60115,od=60116,ad=60121,ud=60128,fg=60129,ld=60130,Ul=60131;if(typeof Symbol=="function"&&Symbol.for){var He=Symbol.for;ts=He("react.element"),rr=He("react.portal"),En=He("react.fragment"),rd=He("react.strict_mode"),cs=He("react.profiler"),id=He("react.provider"),sd=He("react.context"),Ka=He("react.forward_ref"),ds=He("react.suspense"),fa=He("react.suspense_list"),Ga=He("react.memo"),od=He("react.lazy"),ad=He("react.block"),He("react.scope"),ud=He("react.opaque.id"),fg=He("react.debug_trace_mode"),ld=He("react.offscreen"),Ul=He("react.legacy_hidden")}var Dh=typeof Symbol=="function"&&Symbol.iterator;function zi(t){return t===null||typeof t!="object"?null:(t=Dh&&t[Dh]||t["@@iterator"],typeof t=="function"?t:null)}var rl;function ns(t){if(rl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rl=e&&e[1]||""}return`
`+rl+t}var il=!1;function Do(t,e){if(!t||il)return"";il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=l);break}}}finally{il=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ns(t):""}function T0(t){switch(t.tag){case 5:return ns(t.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 2:case 15:return t=Do(t.type,!1),t;case 11:return t=Do(t.type.render,!1),t;case 22:return t=Do(t.type._render,!1),t;case 1:return t=Do(t.type,!0),t;default:return""}}function $r(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case En:return"Fragment";case rr:return"Portal";case cs:return"Profiler";case rd:return"StrictMode";case ds:return"Suspense";case fa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sd:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case Ka:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Ga:return $r(t.type);case ad:return $r(t._render);case od:e=t._payload,t=t._init;try{return $r(t(e))}catch{}}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S0(t){var e=hg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function No(t){t._valueTracker||(t._valueTracker=S0(t))}function pg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ha(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $l(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mg(t,e){e=e.checked,e!=null&&nd(t,"checked",e,!1)}function Hl(t,e){mg(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&ql(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Mh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ql(t,e,n){(e!=="number"||ha(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function k0(t){var e="";return Wa.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Wl(t,e){return t=be({children:void 0},e),(e=k0(e.children))&&(t.children=e),t}function Hr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function gg(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Gl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function _g(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_g(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mo,vg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Gl.svg||"innerHTML"in t)t.innerHTML=e;else{for(Mo=Mo||document.createElement("div"),Mo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C0=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){C0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function yg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function wg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var A0=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(t,e){if(e){if(A0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Yl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jl=null,qr=null,Wr=null;function Lh(t){if(t=Zs(t)){if(typeof Jl!="function")throw Error(H(280));var e=t.stateNode;e&&(e=eu(e),Jl(t.stateNode,t.type,e))}}function Eg(t){qr?Wr?Wr.push(t):Wr=[t]:qr=t}function Tg(){if(qr){var t=qr,e=Wr;if(Wr=qr=null,Lh(t),e)for(t=0;t<e.length;t++)Lh(e[t])}}function dd(t,e){return t(e)}function Sg(t,e,n,r,i){return t(e,n,r,i)}function fd(){}var kg=dd,ir=!1,sl=!1;function hd(){(qr!==null||Wr!==null)&&(fd(),Tg())}function I0(t,e,n){if(sl)return t(e,n);sl=!0;try{return kg(t,e,n)}finally{sl=!1,hd()}}function Ps(t,e){var n=t.stateNode;if(n===null)return null;var r=eu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Zl=!1;if(fn)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Zl=!1}function P0(t,e,n,r,i,s,a,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(w){this.onError(w)}}var hs=!1,pa=null,ma=!1,ec=null,b0={onError:function(t){hs=!0,pa=t}};function R0(t,e,n,r,i,s,a,l,c){hs=!1,pa=null,P0.apply(b0,arguments)}function D0(t,e,n,r,i,s,a,l,c){if(R0.apply(this,arguments),hs){if(hs){var f=pa;hs=!1,pa=null}else throw Error(H(198));ma||(ma=!0,ec=f)}}function Er(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Cg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xh(t){if(Er(t)!==t)throw Error(H(188))}function N0(t){var e=t.alternate;if(!e){if(e=Er(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xh(i),t;if(s===r)return xh(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Ag(t){if(t=N0(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function jh(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Ig,pd,Pg,bg,tc=!1,qt=[],An=null,In=null,Pn=null,bs=new Map,Rs=new Map,Ui=[],Fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function zh(t,e){switch(t){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":bs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function $i(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=nc(e,n,r,i,s),e!==null&&(e=Zs(e),e!==null&&pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M0(t,e,n,r,i){switch(e){case"focusin":return An=$i(An,t,e,n,r,i),!0;case"dragenter":return In=$i(In,t,e,n,r,i),!0;case"mouseover":return Pn=$i(Pn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bs.set(s,$i(bs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rs.set(s,$i(Rs.get(s)||null,t,e,n,r,i)),!0}return!1}function V0(t){var e=sr(t.target);if(e!==null){var n=Er(e);if(n!==null){if(e=n.tag,e===13){if(e=Cg(n),e!==null){t.blockedOn=e,bg(t.lanePriority,function(){We.unstable_runWithPriority(t.priority,function(){Pg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Zs(n),e!==null&&pd(e),t.blockedOn=n,!1;e.shift()}return!0}function Bh(t,e,n){Yo(t)&&n.delete(e)}function O0(){for(tc=!1;0<qt.length;){var t=qt[0];if(t.blockedOn!==null){t=Zs(t.blockedOn),t!==null&&Ig(t);break}for(var e=t.targetContainers;0<e.length;){var n=vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&qt.shift()}An!==null&&Yo(An)&&(An=null),In!==null&&Yo(In)&&(In=null),Pn!==null&&Yo(Pn)&&(Pn=null),bs.forEach(Bh),Rs.forEach(Bh)}function Hi(t,e){t.blockedOn===e&&(t.blockedOn=null,tc||(tc=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,O0)))}function Rg(t){function e(i){return Hi(i,t)}if(0<qt.length){Hi(qt[0],t);for(var n=1;n<qt.length;n++){var r=qt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(An!==null&&Hi(An,t),In!==null&&Hi(In,t),Pn!==null&&Hi(Pn,t),bs.forEach(e),Rs.forEach(e),n=0;n<Ui.length;n++)r=Ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ui.length&&(n=Ui[0],n.blockedOn===null);)V0(n),n.blockedOn===null&&Ui.shift()}function Vo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Or={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionend:Vo("Transition","TransitionEnd")},ol={},Dg={};fn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Qa(t){if(ol[t])return ol[t];if(!Or[t])return t;var e=Or[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dg)return ol[t]=e[n];return t}var Ng=Qa("animationend"),Mg=Qa("animationiteration"),Vg=Qa("animationstart"),Og=Qa("transitionend"),Lg=new Map,md=new Map,L0=["abort","abort",Ng,"animationEnd",Mg,"animationIteration",Vg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Og,"transitionEnd","waiting","waiting"];function gd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),md.set(r,e),Lg.set(r,i),yr(i,[r])}}var x0=We.unstable_now;x0();var Te=8;function Rr(t){if(1&t)return Te=15,1;if(2&t)return Te=14,2;if(4&t)return Te=13,4;var e=24&t;return e!==0?(Te=12,e):t&32?(Te=11,32):(e=192&t,e!==0?(Te=10,e):t&256?(Te=9,256):(e=3584&t,e!==0?(Te=8,e):t&4096?(Te=7,4096):(e=4186112&t,e!==0?(Te=6,e):(e=62914560&t,e!==0?(Te=5,e):t&67108864?(Te=4,67108864):t&134217728?(Te=3,134217728):(e=805306368&t,e!==0?(Te=2,e):1073741824&t?(Te=1,1073741824):(Te=8,t))))))}function j0(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function F0(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(H(358,t))}}function Ds(t,e){var n=t.pendingLanes;if(n===0)return Te=0;var r=0,i=0,s=t.expiredLanes,a=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=Te=15;else if(s=n&134217727,s!==0){var c=s&~a;c!==0?(r=Rr(c),i=Te):(l&=s,l!==0&&(r=Rr(l),i=Te))}else s=n&~a,s!==0?(r=Rr(s),i=Te):l!==0&&(r=Rr(l),i=Te);if(r===0)return 0;if(r=31-Fn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&a)){if(Rr(e),i<=Te)return e;Te=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ga(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Dr(24&~e),t===0?ga(10,e):t;case 10:return t=Dr(192&~e),t===0?ga(8,e):t;case 8:return t=Dr(3584&~e),t===0&&(t=Dr(4186112&~e),t===0&&(t=512)),t;case 2:return e=Dr(805306368&~e),e===0&&(e=268435456),e}throw Error(H(358,t))}function Dr(t){return t&-t}function al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xa(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Fn(e),t[e]=n}var Fn=Math.clz32?Math.clz32:U0,z0=Math.log,B0=Math.LN2;function U0(t){return t===0?32:31-(z0(t)/B0|0)|0}var $0=We.unstable_UserBlockingPriority,H0=We.unstable_runWithPriority,Jo=!0;function q0(t,e,n,r){ir||fd();var i=_d,s=ir;ir=!0;try{Sg(i,t,e,n,r)}finally{(ir=s)||hd()}}function W0(t,e,n,r){H0($0,_d.bind(null,t,e,n,r))}function _d(t,e,n,r){if(Jo){var i;if((i=(e&4)===0)&&0<qt.length&&-1<Fh.indexOf(t))t=nc(null,t,e,n,r),qt.push(t);else{var s=vd(t,e,n,r);if(s===null)i&&zh(t,r);else{if(i){if(-1<Fh.indexOf(t)){t=nc(s,t,e,n,r),qt.push(t);return}if(M0(s,t,e,n,r))return;zh(t,r)}Xg(t,e,r,null,n)}}}}function vd(t,e,n,r){var i=cd(r);if(i=sr(i),i!==null){var s=Er(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=Cg(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Xg(t,e,r,i,n),null}var Tn=null,yd=null,Zo=null;function jg(){if(Zo)return Zo;var t,e=yd,n=e.length,r,i="value"in Tn?Tn.value:Tn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Zo=i.slice(t,1<r?1-r:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function Uh(){return!1}function Ct(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oo:Uh,this.isPropagationStopped=Uh,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=Ct(gi),Js=be({},gi,{view:0,detail:0}),K0=Ct(Js),ul,ll,qi,Ya=be({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qi&&(qi&&t.type==="mousemove"?(ul=t.screenX-qi.screenX,ll=t.screenY-qi.screenY):ll=ul=0,qi=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),$h=Ct(Ya),G0=be({},Ya,{dataTransfer:0}),Q0=Ct(G0),X0=be({},Js,{relatedTarget:0}),cl=Ct(X0),Y0=be({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),J0=Ct(Y0),Z0=be({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e1=Ct(Z0),t1=be({},gi,{data:0}),Hh=Ct(t1),n1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=i1[t])?!!e[t]:!1}function Ed(){return s1}var o1=be({},Js,{key:function(t){if(t.key){var e=n1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),a1=Ct(o1),u1=be({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qh=Ct(u1),l1=be({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),c1=Ct(l1),d1=be({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),f1=Ct(d1),h1=be({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),p1=Ct(h1),m1=[9,13,27,32],Td=fn&&"CompositionEvent"in window,ps=null;fn&&"documentMode"in document&&(ps=document.documentMode);var g1=fn&&"TextEvent"in window&&!ps,Fg=fn&&(!Td||ps&&8<ps&&11>=ps),Wh=String.fromCharCode(32),Kh=!1;function zg(t,e){switch(t){case"keyup":return m1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function _1(t,e){switch(t){case"compositionend":return Bg(e);case"keypress":return e.which!==32?null:(Kh=!0,Wh);case"textInput":return t=e.data,t===Wh&&Kh?null:t;default:return null}}function v1(t,e){if(Lr)return t==="compositionend"||!Td&&zg(t,e)?(t=jg(),Zo=yd=Tn=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fg&&e.locale!=="ko"?null:e.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!y1[t.type]:e==="textarea"}function Ug(t,e,n,r){Eg(r),e=_a(e,"onChange"),0<e.length&&(n=new wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ms=null,Ns=null;function w1(t){Kg(t,0)}function Ja(t){var e=jr(t);if(pg(e))return t}function E1(t,e){if(t==="change")return e}var $g=!1;if(fn){var dl;if(fn){var fl="oninput"in document;if(!fl){var Qh=document.createElement("div");Qh.setAttribute("oninput","return;"),fl=typeof Qh.oninput=="function"}dl=fl}else dl=!1;$g=dl&&(!document.documentMode||9<document.documentMode)}function Xh(){ms&&(ms.detachEvent("onpropertychange",Hg),Ns=ms=null)}function Hg(t){if(t.propertyName==="value"&&Ja(Ns)){var e=[];if(Ug(e,Ns,t,cd(t)),t=w1,ir)t(e);else{ir=!0;try{dd(t,e)}finally{ir=!1,hd()}}}}function T1(t,e,n){t==="focusin"?(Xh(),ms=e,Ns=n,ms.attachEvent("onpropertychange",Hg)):t==="focusout"&&Xh()}function S1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ja(Ns)}function k1(t,e){if(t==="click")return Ja(e)}function C1(t,e){if(t==="input"||t==="change")return Ja(e)}function A1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:A1,I1=Object.prototype.hasOwnProperty;function Ms(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!I1.call(e,n[r])||!It(t[n[r]],e[n[r]]))return!1;return!0}function Yh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jh(t,e){var n=Yh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yh(n)}}function qg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zh(){for(var t=window,e=ha();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ha(t.document)}return e}function rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var P1=fn&&"documentMode"in document&&11>=document.documentMode,xr=null,ic=null,gs=null,sc=!1;function ep(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||xr==null||xr!==ha(r)||(r=xr,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gs&&Ms(gs,r)||(gs=r,r=_a(ic,"onSelect"),0<r.length&&(e=new wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xr)))}gd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);gd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);gd(L0,2);for(var tp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),hl=0;hl<tp.length;hl++)md.set(tp[hl],0);ti("onMouseEnter",["mouseout","mouseover"]);ti("onMouseLeave",["mouseout","mouseover"]);ti("onPointerEnter",["pointerout","pointerover"]);ti("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function np(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,D0(r,e,void 0,t),t.currentTarget=null}function Kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;np(i,l,f),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;np(i,l,f),s=c}}}if(ma)throw t=ec,ma=!1,ec=null,t}function Ae(t,e){var n=Jg(e),r=t+"__bubble";n.has(r)||(Qg(e,t,2,!1),n.add(r))}var rp="_reactListening"+Math.random().toString(36).slice(2);function Gg(t){t[rp]||(t[rp]=!0,dg.forEach(function(e){Wg.has(e)||ip(e,!1,t,null),ip(e,!0,t,null)}))}function ip(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&Wg.has(t)){if(t!=="scroll")return;i|=2,s=r}var a=Jg(s),l=t+"__"+(e?"capture":"bubble");a.has(l)||(e&&(i|=4),Qg(s,t,i,e),a.add(l))}function Qg(t,e,n,r){var i=md.get(e);switch(i===void 0?2:i){case 0:i=q0;break;case 1:i=W0;break;default:i=_d}n=i.bind(null,e,n,t),i=void 0,!Zl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=sr(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}I0(function(){var f=s,w=cd(n),P=[];e:{var A=Lg.get(t);if(A!==void 0){var M=wd,V=t;switch(t){case"keypress":if(ea(n)===0)break e;case"keydown":case"keyup":M=a1;break;case"focusin":V="focus",M=cl;break;case"focusout":V="blur",M=cl;break;case"beforeblur":case"afterblur":M=cl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=c1;break;case Ng:case Mg:case Vg:M=J0;break;case Og:M=f1;break;case"scroll":M=K0;break;case"wheel":M=p1;break;case"copy":case"cut":case"paste":M=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=qh}var N=(e&4)!==0,C=!N&&t==="scroll",k=N?A!==null?A+"Capture":null:A;N=[];for(var I=f,D;I!==null;){D=I;var u=D.stateNode;if(D.tag===5&&u!==null&&(D=u,k!==null&&(u=Ps(I,k),u!=null&&N.push(Vs(I,u,D)))),C)break;I=I.return}0<N.length&&(A=new M(A,V,null,n,w),P.push({event:A,listeners:N}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",A&&!(e&16)&&(V=n.relatedTarget||n.fromElement)&&(sr(V)||V[_i]))break e;if((M||A)&&(A=w.window===w?w:(A=w.ownerDocument)?A.defaultView||A.parentWindow:window,M?(V=n.relatedTarget||n.toElement,M=f,V=V?sr(V):null,V!==null&&(C=Er(V),V!==C||V.tag!==5&&V.tag!==6)&&(V=null)):(M=null,V=f),M!==V)){if(N=$h,u="onMouseLeave",k="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=qh,u="onPointerLeave",k="onPointerEnter",I="pointer"),C=M==null?A:jr(M),D=V==null?A:jr(V),A=new N(u,I+"leave",M,n,w),A.target=C,A.relatedTarget=D,u=null,sr(w)===f&&(N=new N(k,I+"enter",V,n,w),N.target=D,N.relatedTarget=C,u=N),C=u,M&&V)t:{for(N=M,k=V,I=0,D=N;D;D=br(D))I++;for(D=0,u=k;u;u=br(u))D++;for(;0<I-D;)N=br(N),I--;for(;0<D-I;)k=br(k),D--;for(;I--;){if(N===k||k!==null&&N===k.alternate)break t;N=br(N),k=br(k)}N=null}else N=null;M!==null&&sp(P,A,M,N,!1),V!==null&&C!==null&&sp(P,C,V,N,!0)}}e:{if(A=f?jr(f):window,M=A.nodeName&&A.nodeName.toLowerCase(),M==="select"||M==="input"&&A.type==="file")var p=E1;else if(Gh(A))if($g)p=C1;else{p=S1;var h=T1}else(M=A.nodeName)&&M.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(p=k1);if(p&&(p=p(t,f))){Ug(P,p,n,w);break e}h&&h(t,A,f),t==="focusout"&&(h=A._wrapperState)&&h.controlled&&A.type==="number"&&ql(A,"number",A.value)}switch(h=f?jr(f):window,t){case"focusin":(Gh(h)||h.contentEditable==="true")&&(xr=h,ic=f,gs=null);break;case"focusout":gs=ic=xr=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,ep(P,n,w);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":ep(P,n,w)}var m;if(Td)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Lr?zg(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Fg&&n.locale!=="ko"&&(Lr||g!=="onCompositionStart"?g==="onCompositionEnd"&&Lr&&(m=jg()):(Tn=w,yd="value"in Tn?Tn.value:Tn.textContent,Lr=!0)),h=_a(f,g),0<h.length&&(g=new Hh(g,t,null,n,w),P.push({event:g,listeners:h}),m?g.data=m:(m=Bg(n),m!==null&&(g.data=m)))),(m=g1?_1(t,n):v1(t,n))&&(f=_a(f,"onBeforeInput"),0<f.length&&(w=new Hh("onBeforeInput","beforeinput",null,n,w),P.push({event:w,listeners:f}),w.data=m))}Kg(P,e)})}function Vs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _a(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ps(t,n),s!=null&&r.unshift(Vs(t,s,i)),s=Ps(t,e),s!=null&&r.push(Vs(t,s,i))),t=t.return}return r}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=Ps(n,s),c!=null&&a.unshift(Vs(n,c,l))):i||(c=Ps(n,s),c!=null&&a.push(Vs(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}function va(){}var pl=null,ml=null;function Yg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function oc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var op=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0;function Sd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gl=0;function R1(t){return{$$typeof:ud,toString:t,valueOf:t}}var Za=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Za,ya="__reactProps$"+Za,_i="__reactContainer$"+Za,up="__reactEvents$"+Za;function sr(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ap(t);t!==null;){if(n=t[Sn])return n;t=ap(t)}return e}t=n,n=t.parentNode}return null}function Zs(t){return t=t[Sn]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function eu(t){return t[ya]||null}function Jg(t){var e=t[up];return e===void 0&&(e=t[up]=new Set),e}var ac=[],Fr=-1;function Wn(t){return{current:t}}function Ie(t){0>Fr||(t.current=ac[Fr],ac[Fr]=null,Fr--)}function Me(t,e){Fr++,ac[Fr]=t.current,t.current=e}var zn={},dt=Wn(zn),yt=Wn(!1),fr=zn;function ni(t,e){var n=t.type.contextTypes;if(!n)return zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function wa(){Ie(yt),Ie(dt)}function lp(t,e,n){if(dt.current!==zn)throw Error(H(168));Me(dt,e),Me(yt,n)}function Zg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,$r(e)||"Unknown",i));return be({},n,r)}function ta(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zn,fr=dt.current,Me(dt,t),Me(yt,yt.current),!0}function cp(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Zg(t,e,fr),r.__reactInternalMemoizedMergedChildContext=t,Ie(yt),Ie(dt),Me(dt,t)):Ie(yt),Me(yt,n)}var kd=null,lr=null,D1=We.unstable_runWithPriority,Cd=We.unstable_scheduleCallback,uc=We.unstable_cancelCallback,N1=We.unstable_shouldYield,dp=We.unstable_requestPaint,lc=We.unstable_now,M1=We.unstable_getCurrentPriorityLevel,tu=We.unstable_ImmediatePriority,e_=We.unstable_UserBlockingPriority,t_=We.unstable_NormalPriority,n_=We.unstable_LowPriority,r_=We.unstable_IdlePriority,_l={},V1=dp!==void 0?dp:function(){},an=null,na=null,vl=!1,fp=lc(),lt=1e4>fp?lc:function(){return lc()-fp};function ri(){switch(M1()){case tu:return 99;case e_:return 98;case t_:return 97;case n_:return 96;case r_:return 95;default:throw Error(H(332))}}function i_(t){switch(t){case 99:return tu;case 98:return e_;case 97:return t_;case 96:return n_;case 95:return r_;default:throw Error(H(332))}}function hr(t,e){return t=i_(t),D1(t,e)}function Os(t,e,n){return t=i_(t),Cd(t,e,n)}function tn(){if(na!==null){var t=na;na=null,uc(t)}s_()}function s_(){if(!vl&&an!==null){vl=!0;var t=0;try{var e=an;hr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),an=null}catch(n){throw an!==null&&(an=an.slice(t+1)),Cd(tu,tn),n}finally{vl=!1}}}var O1=wr.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ea=Wn(null),Ta=null,zr=null,Sa=null;function Ad(){Sa=zr=Ta=null}function Id(t){var e=Ea.current;Ie(Ea),t.type._context._currentValue=e}function o_(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Gr(t,e){Ta=t,Sa=zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function Dt(t,e){if(Sa!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Sa=t,e=1073741823),e={context:t,observedBits:e,next:null},zr===null){if(Ta===null)throw Error(H(308));zr=e,Ta.dependencies={lanes:0,firstContext:e,responders:null}}else zr=zr.next=e;return t._currentValue}var wn=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function a_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function hp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ls(t,e,n,r){var i=t.updateQueue;wn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var w=t.alternate;if(w!==null){w=w.updateQueue;var P=w.lastBaseUpdate;P!==a&&(P===null?w.firstBaseUpdate=f:P.next=f,w.lastBaseUpdate=c)}}if(s!==null){P=i.baseState,a=0,w=f=c=null;do{l=s.lane;var A=s.eventTime;if((r&l)===l){w!==null&&(w=w.next={eventTime:A,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var M=t,V=s;switch(l=e,A=n,V.tag){case 1:if(M=V.payload,typeof M=="function"){P=M.call(A,P,l);break e}P=M;break e;case 3:M.flags=M.flags&-4097|64;case 0:if(M=V.payload,l=typeof M=="function"?M.call(A,P,l):M,l==null)break e;P=be({},P,l);break e;case 2:wn=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else A={eventTime:A,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},w===null?(f=w=A,c=P):w=w.next=A,a|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);w===null&&(c=P),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=w,to|=a,t.lanes=a,t.memoizedState=P}}function pp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var u_=new Wa.Component().refs;function ka(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nu={isMounted:function(t){return(t=t._reactInternals)?Er(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=Dn(t),s=bn(r,i);s.payload=e,n!=null&&(s.callback=n),Rn(t,s),Nn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=Dn(t),s=bn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Rn(t,s),Nn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=Dn(t),i=bn(n,r);i.tag=2,e!=null&&(i.callback=e),Rn(t,i),Nn(t,r,n)}};function mp(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ms(n,r)||!Ms(i,s):!0}function l_(t,e,n){var r=!1,i=zn,s=e.contextType;return typeof s=="object"&&s!==null?s=Dt(s):(i=wt(e)?fr:dt.current,r=e.contextTypes,s=(r=r!=null)?ni(t,i):zn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nu.enqueueReplaceState(e,e.state,null)}function cc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=u_,Pd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dt(s):(s=wt(e)?fr:dt.current,i.context=ni(t,s)),Ls(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ka(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nu.enqueueReplaceState(i,i.state,null),Ls(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Lo=Array.isArray;function Wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=r.refs;a===u_&&(a=r.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function xo(t,e){if(t.type!=="textarea")throw Error(H(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function c_(t){function e(C,k){if(t){var I=C.lastEffect;I!==null?(I.nextEffect=k,C.lastEffect=k):C.firstEffect=C.lastEffect=k,k.nextEffect=null,k.flags=8}}function n(C,k){if(!t)return null;for(;k!==null;)e(C,k),k=k.sibling;return null}function r(C,k){for(C=new Map;k!==null;)k.key!==null?C.set(k.key,k):C.set(k.index,k),k=k.sibling;return C}function i(C,k){return C=Un(C,k),C.index=0,C.sibling=null,C}function s(C,k,I){return C.index=I,t?(I=C.alternate,I!==null?(I=I.index,I<k?(C.flags=2,k):I):(C.flags=2,k)):k}function a(C){return t&&C.alternate===null&&(C.flags=2),C}function l(C,k,I,D){return k===null||k.tag!==6?(k=Sl(I,C.mode,D),k.return=C,k):(k=i(k,I),k.return=C,k)}function c(C,k,I,D){return k!==null&&k.elementType===I.type?(D=i(k,I.props),D.ref=Wi(C,k,I),D.return=C,D):(D=oa(I.type,I.key,I.props,null,C.mode,D),D.ref=Wi(C,k,I),D.return=C,D)}function f(C,k,I,D){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=kl(I,C.mode,D),k.return=C,k):(k=i(k,I.children||[]),k.return=C,k)}function w(C,k,I,D,u){return k===null||k.tag!==7?(k=Jr(I,C.mode,D,u),k.return=C,k):(k=i(k,I),k.return=C,k)}function P(C,k,I){if(typeof k=="string"||typeof k=="number")return k=Sl(""+k,C.mode,I),k.return=C,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ts:return I=oa(k.type,k.key,k.props,null,C.mode,I),I.ref=Wi(C,null,k),I.return=C,I;case rr:return k=kl(k,C.mode,I),k.return=C,k}if(Lo(k)||zi(k))return k=Jr(k,C.mode,I,null),k.return=C,k;xo(C,k)}return null}function A(C,k,I,D){var u=k!==null?k.key:null;if(typeof I=="string"||typeof I=="number")return u!==null?null:l(C,k,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ts:return I.key===u?I.type===En?w(C,k,I.props.children,D,u):c(C,k,I,D):null;case rr:return I.key===u?f(C,k,I,D):null}if(Lo(I)||zi(I))return u!==null?null:w(C,k,I,D,null);xo(C,I)}return null}function M(C,k,I,D,u){if(typeof D=="string"||typeof D=="number")return C=C.get(I)||null,l(k,C,""+D,u);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ts:return C=C.get(D.key===null?I:D.key)||null,D.type===En?w(k,C,D.props.children,u,D.key):c(k,C,D,u);case rr:return C=C.get(D.key===null?I:D.key)||null,f(k,C,D,u)}if(Lo(D)||zi(D))return C=C.get(I)||null,w(k,C,D,u,null);xo(k,D)}return null}function V(C,k,I,D){for(var u=null,p=null,h=k,m=k=0,g=null;h!==null&&m<I.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=A(C,h,I[m],D);if(v===null){h===null&&(h=g);break}t&&h&&v.alternate===null&&e(C,h),k=s(v,k,m),p===null?u=v:p.sibling=v,p=v,h=g}if(m===I.length)return n(C,h),u;if(h===null){for(;m<I.length;m++)h=P(C,I[m],D),h!==null&&(k=s(h,k,m),p===null?u=h:p.sibling=h,p=h);return u}for(h=r(C,h);m<I.length;m++)g=M(h,C,m,I[m],D),g!==null&&(t&&g.alternate!==null&&h.delete(g.key===null?m:g.key),k=s(g,k,m),p===null?u=g:p.sibling=g,p=g);return t&&h.forEach(function(y){return e(C,y)}),u}function N(C,k,I,D){var u=zi(I);if(typeof u!="function")throw Error(H(150));if(I=u.call(I),I==null)throw Error(H(151));for(var p=u=null,h=k,m=k=0,g=null,v=I.next();h!==null&&!v.done;m++,v=I.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=A(C,h,v.value,D);if(y===null){h===null&&(h=g);break}t&&h&&y.alternate===null&&e(C,h),k=s(y,k,m),p===null?u=y:p.sibling=y,p=y,h=g}if(v.done)return n(C,h),u;if(h===null){for(;!v.done;m++,v=I.next())v=P(C,v.value,D),v!==null&&(k=s(v,k,m),p===null?u=v:p.sibling=v,p=v);return u}for(h=r(C,h);!v.done;m++,v=I.next())v=M(h,C,m,v.value,D),v!==null&&(t&&v.alternate!==null&&h.delete(v.key===null?m:v.key),k=s(v,k,m),p===null?u=v:p.sibling=v,p=v);return t&&h.forEach(function(E){return e(C,E)}),u}return function(C,k,I,D){var u=typeof I=="object"&&I!==null&&I.type===En&&I.key===null;u&&(I=I.props.children);var p=typeof I=="object"&&I!==null;if(p)switch(I.$$typeof){case ts:e:{for(p=I.key,u=k;u!==null;){if(u.key===p){switch(u.tag){case 7:if(I.type===En){n(C,u.sibling),k=i(u,I.props.children),k.return=C,C=k;break e}break;default:if(u.elementType===I.type){n(C,u.sibling),k=i(u,I.props),k.ref=Wi(C,u,I),k.return=C,C=k;break e}}n(C,u);break}else e(C,u);u=u.sibling}I.type===En?(k=Jr(I.props.children,C.mode,D,I.key),k.return=C,C=k):(D=oa(I.type,I.key,I.props,null,C.mode,D),D.ref=Wi(C,k,I),D.return=C,C=D)}return a(C);case rr:e:{for(u=I.key;k!==null;){if(k.key===u)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){n(C,k.sibling),k=i(k,I.children||[]),k.return=C,C=k;break e}else{n(C,k);break}else e(C,k);k=k.sibling}k=kl(I,C.mode,D),k.return=C,C=k}return a(C)}if(typeof I=="string"||typeof I=="number")return I=""+I,k!==null&&k.tag===6?(n(C,k.sibling),k=i(k,I),k.return=C,C=k):(n(C,k),k=Sl(I,C.mode,D),k.return=C,C=k),a(C);if(Lo(I))return V(C,k,I,D);if(zi(I))return N(C,k,I,D);if(p&&xo(C,I),typeof I>"u"&&!u)switch(C.tag){case 1:case 22:case 0:case 11:case 15:throw Error(H(152,$r(C.type)||"Component"))}return n(C,k)}}var Ca=c_(!0),d_=c_(!1),eo={},Gt=Wn(eo),xs=Wn(eo),js=Wn(eo);function or(t){if(t===eo)throw Error(H(174));return t}function dc(t,e){switch(Me(js,e),Me(xs,t),Me(Gt,eo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ql(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ql(e,t)}Ie(Gt),Me(Gt,e)}function ii(){Ie(Gt),Ie(xs),Ie(js)}function _p(t){or(js.current);var e=or(Gt.current),n=Ql(e,t.type);e!==n&&(Me(xs,t),Me(Gt,n))}function bd(t){xs.current===t&&(Ie(Gt),Ie(xs))}var Ne=Wn(0);function Aa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ln=null,kn=null,Qt=!1;function f_(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function vp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function fc(t){if(Qt){var e=kn;if(e){var n=e;if(!vp(t,e)){if(e=Kr(n.nextSibling),!e||!vp(t,e)){t.flags=t.flags&-1025|2,Qt=!1,ln=t;return}f_(ln,n)}ln=t,kn=Kr(e.firstChild)}else t.flags=t.flags&-1025|2,Qt=!1,ln=t}}function yp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ln=t}function jo(t){if(t!==ln)return!1;if(!Qt)return yp(t),Qt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!oc(e,t.memoizedProps))for(e=kn;e;)f_(t,e),e=Kr(e.nextSibling);if(yp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=ln?Kr(t.stateNode.nextSibling):null;return!0}function yl(){kn=ln=null,Qt=!1}var Qr=[];function Rd(){for(var t=0;t<Qr.length;t++)Qr[t]._workInProgressVersionPrimary=null;Qr.length=0}var _s=wr.ReactCurrentDispatcher,Rt=wr.ReactCurrentBatchConfig,Fs=0,Oe=null,ot=null,Qe=null,Ia=!1,vs=!1;function _t(){throw Error(H(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,i,s){if(Fs=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_s.current=t===null||t.memoizedState===null?x1:j1,t=n(r,i),vs){s=0;do{if(vs=!1,!(25>s))throw Error(H(301));s+=1,Qe=ot=null,e.updateQueue=null,_s.current=F1,t=n(r,i)}while(vs)}if(_s.current=Da,e=ot!==null&&ot.next!==null,Fs=0,Qe=ot=Oe=null,Ia=!1,e)throw Error(H(300));return t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Oe.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Tr(){if(ot===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var e=Qe===null?Oe.memoizedState:Qe.next;if(e!==null)Qe=e,ot=t;else{if(t===null)throw Error(H(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Qe===null?Oe.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Wt(t,e){return typeof e=="function"?e(t):e}function Ki(t){var e=Tr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=a=s=null,c=i;do{var f=c.lane;if((Fs&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===t?c.eagerState:t(r,c.action);else{var w={lane:f,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};l===null?(a=l=w,s=r):l=l.next=w,Oe.lanes|=f,to|=f}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,It(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Gi(t){var e=Tr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);It(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wp(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Fs&t)===t)&&(e._workInProgressVersionPrimary=r,Qr.push(e))),t)return n(e._source);throw Qr.push(e),Error(H(350))}function h_(t,e,n,r){var i=mt;if(i===null)throw Error(H(349));var s=e._getVersion,a=s(e._source),l=_s.current,c=l.useState(function(){return wp(i,e,n)}),f=c[1],w=c[0];c=Qe;var P=t.memoizedState,A=P.refs,M=A.getSnapshot,V=P.source;P=P.subscribe;var N=Oe;return t.memoizedState={refs:A,source:e,subscribe:r},l.useEffect(function(){A.getSnapshot=n,A.setSnapshot=f;var C=s(e._source);if(!It(a,C)){C=n(e._source),It(w,C)||(f(C),C=Dn(N),i.mutableReadLanes|=C&i.pendingLanes),C=i.mutableReadLanes,i.entangledLanes|=C;for(var k=i.entanglements,I=C;0<I;){var D=31-Fn(I),u=1<<D;k[D]|=C,I&=~u}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var C=A.getSnapshot,k=A.setSnapshot;try{k(C(e._source));var I=Dn(N);i.mutableReadLanes|=I&i.pendingLanes}catch(D){k(function(){throw D})}})},[e,r]),It(M,n)&&It(V,e)&&It(P,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:w},t.dispatch=f=Od.bind(null,Oe,t),c.queue=t,c.baseQueue=null,w=wp(i,e,n),c.memoizedState=c.baseState=w),w}function p_(t,e,n){var r=Tr();return h_(r,t,e,n)}function Qi(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:t},t=t.dispatch=Od.bind(null,Oe,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ep(t){var e=ar();return t={current:t},e.memoizedState=t}function ba(){return Tr().memoizedState}function hc(t,e,n,r){var i=ar();Oe.flags|=t,i.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function Md(t,e,n,r){var i=Tr();r=r===void 0?null:r;var s=void 0;if(ot!==null){var a=ot.memoizedState;if(s=a.destroy,r!==null&&Dd(r,a.deps)){Pa(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=Pa(1|e,n,s,r)}function Tp(t,e){return hc(516,4,t,e)}function Ra(t,e){return Md(516,4,t,e)}function m_(t,e){return Md(4,2,t,e)}function g_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function __(t,e,n){return n=n!=null?n.concat([t]):null,Md(4,2,g_.bind(null,e,t),n)}function Vd(){}function v_(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y_(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L1(t,e){var n=ri();hr(98>n?98:n,function(){t(!0)}),hr(97<n?97:n,function(){var r=Rt.transition;Rt.transition=1;try{t(!1),e()}finally{Rt.transition=r}})}function Od(t,e,n){var r=St(),i=Dn(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===Oe||a!==null&&a===Oe)vs=Ia=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(s.eagerReducer=a,s.eagerState=c,It(c,l))return}catch{}finally{}Nn(t,i,r)}}var Da={readContext:Dt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useOpaqueIdentifier:_t,unstable_isNewReconciler:!1},x1={readContext:Dt,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Tp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hc(4,2,g_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hc(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Od.bind(null,Oe,t),[r.memoizedState,t]},useRef:Ep,useState:Qi,useDebugValue:Vd,useDeferredValue:function(t){var e=Qi(t),n=e[0],r=e[1];return Tp(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Qi(!1),e=t[0];return t=L1.bind(null,t[1]),Ep(t),[t,e]},useMutableSource:function(t,e,n){var r=ar();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},h_(r,t,e,n)},useOpaqueIdentifier:function(){if(Qt){var t=!1,e=R1(function(){throw t||(t=!0,n("r:"+(gl++).toString(36))),Error(H(355))}),n=Qi(e)[1];return!(Oe.mode&2)&&(Oe.flags|=516,Pa(5,function(){n("r:"+(gl++).toString(36))},void 0,null)),e}return e="r:"+(gl++).toString(36),Qi(e),e},unstable_isNewReconciler:!1},j1={readContext:Dt,useCallback:v_,useContext:Dt,useEffect:Ra,useImperativeHandle:__,useLayoutEffect:m_,useMemo:y_,useReducer:Ki,useRef:ba,useState:function(){return Ki(Wt)},useDebugValue:Vd,useDeferredValue:function(t){var e=Ki(Wt),n=e[0],r=e[1];return Ra(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Ki(Wt)[0];return[ba().current,t]},useMutableSource:p_,useOpaqueIdentifier:function(){return Ki(Wt)[0]},unstable_isNewReconciler:!1},F1={readContext:Dt,useCallback:v_,useContext:Dt,useEffect:Ra,useImperativeHandle:__,useLayoutEffect:m_,useMemo:y_,useReducer:Gi,useRef:ba,useState:function(){return Gi(Wt)},useDebugValue:Vd,useDeferredValue:function(t){var e=Gi(Wt),n=e[0],r=e[1];return Ra(function(){var i=Rt.transition;Rt.transition=1;try{r(t)}finally{Rt.transition=i}},[t]),n},useTransition:function(){var t=Gi(Wt)[0];return[ba().current,t]},useMutableSource:p_,useOpaqueIdentifier:function(){return Gi(Wt)[0]},unstable_isNewReconciler:!1},z1=wr.ReactCurrentOwner,Ut=!1;function vt(t,e,n,r){e.child=t===null?d_(e,null,n,r):Ca(e,t.child,n,r)}function Sp(t,e,n,r,i){n=n.render;var s=e.ref;return Gr(e,i),r=Nd(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,cn(t,e,i)):(e.flags|=1,vt(t,e,r,i),e.child)}function kp(t,e,n,r,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Bd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,w_(t,e,a,r,i,s)):(t=oa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,!(i&s)&&(i=a.memoizedProps,n=n.compare,n=n!==null?n:Ms,n(i,r)&&t.ref===e.ref)?cn(t,e,s):(e.flags|=1,t=Un(a,r),t.ref=e.ref,t.return=e,e.child=t)}function w_(t,e,n,r,i,s){if(t!==null&&Ms(t.memoizedProps,r)&&t.ref===e.ref)if(Ut=!1,(s&i)!==0)t.flags&16384&&(Ut=!0);else return e.lanes=t.lanes,cn(t,e,s);return pc(t,e,n,r,s)}function wl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},zo(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},zo(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},zo(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,zo(e,r);return vt(t,e,i,n),e.child}function E_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function pc(t,e,n,r,i){var s=wt(n)?fr:dt.current;return s=ni(e,s),Gr(e,i),n=Nd(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,cn(t,e,i)):(e.flags|=1,vt(t,e,n,i),e.child)}function Cp(t,e,n,r,i){if(wt(n)){var s=!0;ta(e)}else s=!1;if(Gr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),l_(e,n,r),cc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Dt(f):(f=wt(n)?fr:dt.current,f=ni(e,f));var w=n.getDerivedStateFromProps,P=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function";P||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==f)&&gp(e,a,r,f),wn=!1;var A=e.memoizedState;a.state=A,Ls(e,r,a,i),c=e.memoizedState,l!==r||A!==c||yt.current||wn?(typeof w=="function"&&(ka(e,n,w,r),c=e.memoizedState),(l=wn||mp(e,n,l,r,A,c,f))?(P||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,a_(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:Bt(e.type,l),a.props=f,P=e.pendingProps,A=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=wt(n)?fr:dt.current,c=ni(e,c));var M=n.getDerivedStateFromProps;(w=typeof M=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==P||A!==c)&&gp(e,a,r,c),wn=!1,A=e.memoizedState,a.state=A,Ls(e,r,a,i);var V=e.memoizedState;l!==P||A!==V||yt.current||wn?(typeof M=="function"&&(ka(e,n,M,r),V=e.memoizedState),(f=wn||mp(e,n,f,r,A,V,c))?(w||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,V,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,V,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=V),a.props=r,a.state=V,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=256),r=!1)}return mc(t,e,n,r,s,i)}function mc(t,e,n,r,i,s){E_(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return i&&cp(e,n,!1),cn(t,e,s);r=e.stateNode,z1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,l,s)):vt(t,e,l,s),e.memoizedState=r.state,i&&cp(e,n,!0),e.child}function Ap(t){var e=t.stateNode;e.pendingContext?lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lp(t,e.context,!1),dc(t,e.containerInfo)}var Fo={dehydrated:null,retryLane:0};function Ip(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Me(Ne,i&1),t===null?(r.fallback!==void 0&&fc(e),t=r.children,i=r.fallback,s?(t=Pp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Fo,t):typeof r.unstable_expectedLoadTime=="number"?(t=Pp(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Fo,e.lanes=33554432,t):(n=Ud({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Rp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Fo,r):(n=bp(t,e,r.children,n),e.memoizedState=null,n):s?(r=Rp(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Fo,r):(n=bp(t,e,r.children,n),e.memoizedState=null,n)}function Pp(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Ud(e,i,0,null),n=Jr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function bp(t,e,n,r){var i=t.child;return t=i.sibling,n=Un(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Rp(t,e,n,r,i){var s=e.mode,a=t.child;t=a.sibling;var l={mode:"hidden",children:n};return!(s&2)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,a=n.lastEffect,a!==null?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Un(a,l),t!==null?r=Un(t,r):(r=Jr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Dp(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),o_(t.return,e)}function El(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=s)}function Np(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dp(t,n);else if(t.tag===19)Dp(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Ne,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Aa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),El(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Aa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}El(e,!0,n,null,s,e.lastEffect);break;case"together":El(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function cn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Un(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Un(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var T_,gc,S_,k_;T_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};S_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,or(Gt.current);var s=null;switch(n){case"input":i=$l(t,i),r=$l(t,r),s=[];break;case"option":i=Wl(t,i),r=Wl(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=Kl(t,i),r=Kl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=va)}Xl(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(As.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(As.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ae("scroll",t),s||l===c||(s=[])):typeof c=="object"&&c!==null&&c.$$typeof===ud?c.toString():(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};k_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xi(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function B1(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wt(e.type)&&wa(),null;case 3:return ii(),Ie(yt),Ie(dt),Rd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),gc(e),null;case 5:bd(e);var i=or(js.current);if(n=e.type,t!==null&&e.stateNode!=null)S_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(H(166));return null}if(t=or(Gt.current),jo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[ya]=s,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(t=0;t<rs.length;t++)Ae(rs[t],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Nh(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Vh(r,s),Ae("invalid",r)}Xl(n,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(i=s[a],a==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):As.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ae("scroll",r));switch(n){case"input":No(r),Mh(r,s,!0);break;case"textarea":No(r),Oh(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=va)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===Gl.html&&(t=_g(n)),t===Gl.html?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Sn]=e,t[ya]=r,T_(t,e,!1,!1),e.stateNode=t,a=Yl(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<rs.length;i++)Ae(rs[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":Nh(t,r),i=$l(t,r),Ae("invalid",t);break;case"option":i=Wl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Vh(t,r),i=Kl(t,r),Ae("invalid",t);break;default:i=r}Xl(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?wg(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vg(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Is(t,c):typeof c=="number"&&Is(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(As.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&nd(t,s,c,a))}switch(n){case"input":No(t),Mh(t,r,!1);break;case"textarea":No(t),Oh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=va)}Yg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)k_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));n=or(js.current),or(Gt.current),jo(e)?(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r)}return null;case 13:return Ie(Ne),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&jo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ne.current&1?Ye===0&&(Ye=3):((Ye===0||Ye===3)&&(Ye=4),mt===null||!(to&134217727)&&!(yi&134217727)||Xr(mt,ct))),(r||n)&&(e.flags|=4),null);case 4:return ii(),gc(e),t===null&&Gg(e.stateNode.containerInfo),null;case 10:return Id(e),null;case 17:return wt(e.type)&&wa(),null;case 19:if(Ie(Ne),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,a=r.rendering,a===null)if(s)Xi(r,!1);else{if(Ye!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(a=Aa(t),a!==null){for(e.flags|=64,Xi(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Ne,Ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&lt()>Tc&&(e.flags|=64,s=!0,Xi(r,!1),e.lanes=33554432)}else{if(!s)if(t=Aa(a),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xi(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Qt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*lt()-r.renderingStartTime>Tc&&n!==1073741824&&(e.flags|=64,s=!0,Xi(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(n=r.last,n!==null?n.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=lt(),n.sibling=null,e=Ne.current,Me(Ne,s?e&1|2:e&1),n):null;case 23:case 24:return zd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(H(156,e.tag))}function U1(t){switch(t.tag){case 1:wt(t.type)&&wa();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(ii(),Ie(yt),Ie(dt),Rd(),e=t.flags,e&64)throw Error(H(285));return t.flags=e&-4097|64,t;case 5:return bd(t),null;case 13:return Ie(Ne),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ie(Ne),null;case 4:return ii(),null;case 10:return Id(t),null;case 23:case 24:return zd(),null;default:return null}}function Ld(t,e){try{var n="",r=e;do n+=T0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function _c(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $1=typeof WeakMap=="function"?WeakMap:Map;function C_(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ma||(Ma=!0,Sc=r),_c(t,e)},n}function A_(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return _c(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this),_c(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}var H1=typeof WeakSet=="function"?WeakSet:Set;function Mp(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Mn(t,n)}else e.current=null}function q1(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Bt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Sd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(H(163))}function W1(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(O_(n,t),ew(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Bt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&pp(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}pp(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Yg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Rg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(H(163))}function Vp(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=yg("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Op(t,e){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(kd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)O_(e,n);else{r=e;try{i()}catch(s){Mn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Mp(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Mn(e,s)}break;case 5:Mp(e);break;case 4:I_(t,e)}}function Lp(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function jp(t){e:{for(var e=t.return;e!==null;){if(xp(e))break e;e=e.return}throw Error(H(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(H(161))}n.flags&16&&(Is(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||xp(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?vc(t,n,e):yc(t,n,e)}function vc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=va));else if(r!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function yc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}function I_(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(H(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var a=t,l=n,c=l;;)if(Op(a,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}s?(a=i,l=n.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Op(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Tl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[ya]=r,t==="input"&&r.type==="radio"&&r.name!=null&&mg(n,r),Yl(t,i),e=Yl(t,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];a==="style"?wg(n,l):a==="dangerouslySetInnerHTML"?vg(n,l):a==="children"?Is(n,l):nd(n,a,l,e)}switch(t){case"input":Hl(n,r);break;case"textarea":gg(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Hr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Hr(n,!!r.multiple,r.defaultValue,!0):Hr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(H(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Rg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Fd=lt(),Vp(e.child,!0)),Fp(e);return;case 19:Fp(e);return;case 17:return;case 23:case 24:Vp(e,e.memoizedState!==null);return}throw Error(H(163))}function Fp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H1),e.forEach(function(r){var i=rw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function K1(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var G1=Math.ceil,Na=wr.ReactCurrentDispatcher,xd=wr.ReactCurrentOwner,re=0,mt=null,Ue=null,ct=0,pr=0,wc=Wn(0),Ye=0,ru=null,vi=0,to=0,yi=0,jd=0,Ec=null,Fd=0,Tc=1/0;function wi(){Tc=lt()+500}var J=null,Ma=!1,Sc=null,Kt=null,Bn=!1,ys=null,is=90,kc=[],Cc=[],dn=null,ws=0,Ac=null,ra=-1,un=0,ia=0,Es=null,sa=!1;function St(){return re&48?lt():ra!==-1?ra:ra=lt()}function Dn(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return ri()===99?1:2;if(un===0&&(un=vi),O1.transition!==0){ia!==0&&(ia=Ec!==null?Ec.pendingLanes:0),t=un;var e=4186112&~ia;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=ri(),re&4&&t===98?t=ga(12,un):(t=j0(t),t=ga(t,un)),t}function Nn(t,e,n){if(50<ws)throw ws=0,Ac=null,Error(H(185));if(t=iu(t,e),t===null)return null;Xa(t,e,n),t===mt&&(yi|=e,Ye===4&&Xr(t,ct));var r=ri();e===1?re&8&&!(re&48)?Ic(t):(Nt(t,n),re===0&&(wi(),tn())):(!(re&4)||r!==98&&r!==99||(dn===null?dn=new Set([t]):dn.add(t)),Nt(t,n)),Ec=t}function iu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Nt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Fn(a),c=1<<l,f=s[l];if(f===-1){if(!(c&r)||c&i){f=e,Rr(c);var w=Te;s[l]=10<=w?f+250:6<=w?f+5e3:-1}}else f<=e&&(t.expiredLanes|=c);a&=~c}if(r=Ds(t,t===mt?ct:0),e=Te,r===0)n!==null&&(n!==_l&&uc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==_l&&uc(n)}e===15?(n=Ic.bind(null,t),an===null?(an=[n],na=Cd(tu,s_)):an.push(n),n=_l):e===14?n=Os(99,Ic.bind(null,t)):(n=F0(e),n=Os(n,P_.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function P_(t){if(ra=-1,ia=un=0,re&48)throw Error(H(327));var e=t.callbackNode;if(Kn()&&t.callbackNode!==e)return null;var n=Ds(t,t===mt?ct:0);if(n===0)return null;var r=n,i=re;re|=16;var s=N_();(mt!==t||ct!==r)&&(wi(),Yr(t,r));do try{Y1();break}catch(l){D_(t,l)}while(1);if(Ad(),Na.current=s,re=i,Ue!==null?r=0:(mt=null,ct=0,r=Ye),vi&yi)Yr(t,0);else if(r!==0){if(r===2&&(re|=64,t.hydrate&&(t.hydrate=!1,Sd(t.containerInfo)),n=xg(t),n!==0&&(r=ss(t,n))),r===1)throw e=ru,Yr(t,0),Xr(t,n),Nt(t,lt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(H(345));case 2:tr(t);break;case 3:if(Xr(t,n),(n&62914560)===n&&(r=Fd+500-lt(),10<r)){if(Ds(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=op(tr.bind(null,t),r);break}tr(t);break;case 4:if(Xr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-Fn(n);s=1<<a,a=r[a],a>i&&(i=a),n&=~s}if(n=i,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*G1(n/1960))-n,10<n){t.timeoutHandle=op(tr.bind(null,t),n);break}tr(t);break;case 5:tr(t);break;default:throw Error(H(329))}}return Nt(t,lt()),t.callbackNode===e?P_.bind(null,t):null}function Xr(t,e){for(e&=~jd,e&=~yi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ic(t){if(re&48)throw Error(H(327));if(Kn(),t===mt&&t.expiredLanes&ct){var e=ct,n=ss(t,e);vi&yi&&(e=Ds(t,e),n=ss(t,e))}else e=Ds(t,0),n=ss(t,e);if(t.tag!==0&&n===2&&(re|=64,t.hydrate&&(t.hydrate=!1,Sd(t.containerInfo)),e=xg(t),e!==0&&(n=ss(t,e))),n===1)throw n=ru,Yr(t,0),Xr(t,e),Nt(t,lt()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,tr(t),Nt(t,lt()),null}function Q1(){if(dn!==null){var t=dn;dn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Nt(e,lt())})}tn()}function b_(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(wi(),tn())}}function R_(t,e){var n=re;re&=-2,re|=8;try{return t(e)}finally{re=n,re===0&&(wi(),tn())}}function zo(t,e){Me(wc,pr),pr|=e,vi|=e}function zd(){pr=wc.current,Ie(wc)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,b1(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&wa();break;case 3:ii(),Ie(yt),Ie(dt),Rd();break;case 5:bd(r);break;case 4:ii();break;case 13:Ie(Ne);break;case 19:Ie(Ne);break;case 10:Id(r);break;case 23:case 24:zd()}n=n.return}mt=t,Ue=Un(t.current,null),ct=pr=vi=e,Ye=0,ru=null,jd=yi=to=0}function D_(t,e){do{var n=Ue;try{if(Ad(),_s.current=Da,Ia){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ia=!1}if(Fs=0,Qe=ot=Oe=null,vs=!1,xd.current=null,n===null||n.return===null){Ye=1,ru=e,Ue=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=ct,l.flags|=2048,l.firstEffect=l.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c;if(!(l.mode&2)){var w=l.alternate;w?(l.updateQueue=w.updateQueue,l.memoizedState=w.memoizedState,l.lanes=w.lanes):(l.updateQueue=null,l.memoizedState=null)}var P=(Ne.current&1)!==0,A=a;do{var M;if(M=A.tag===13){var V=A.memoizedState;if(V!==null)M=V.dehydrated!==null;else{var N=A.memoizedProps;M=N.fallback===void 0?!1:N.unstable_avoidThisFallback!==!0?!0:!P}}if(M){var C=A.updateQueue;if(C===null){var k=new Set;k.add(f),A.updateQueue=k}else C.add(f);if(!(A.mode&2)){if(A.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var I=bn(-1,1);I.tag=2,Rn(l,I)}l.lanes|=1;break e}c=void 0,l=e;var D=s.pingCache;if(D===null?(D=s.pingCache=new $1,c=new Set,D.set(f,c)):(c=D.get(f),c===void 0&&(c=new Set,D.set(f,c))),!c.has(l)){c.add(l);var u=nw.bind(null,s,f,l);f.then(u,u)}A.flags|=4096,A.lanes=e;break e}A=A.return}while(A!==null);c=Error(($r(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ye!==5&&(Ye=2),c=Ld(c,l),A=a;do{switch(A.tag){case 3:s=c,A.flags|=4096,e&=-e,A.lanes|=e;var p=C_(A,s,e);hp(A,p);break e;case 1:s=c;var h=A.type,m=A.stateNode;if(!(A.flags&64)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kt===null||!Kt.has(m)))){A.flags|=4096,e&=-e,A.lanes|=e;var g=A_(A,s,e);hp(A,g);break e}}A=A.return}while(A!==null)}V_(n)}catch(v){e=v,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function N_(){var t=Na.current;return Na.current=Da,t===null?Da:t}function ss(t,e){var n=re;re|=16;var r=N_();mt===t&&ct===e||Yr(t,e);do try{X1();break}catch(i){D_(t,i)}while(1);if(Ad(),re=n,Na.current=r,Ue!==null)throw Error(H(261));return mt=null,ct=0,Ye}function X1(){for(;Ue!==null;)M_(Ue)}function Y1(){for(;Ue!==null&&!N1();)M_(Ue)}function M_(t){var e=L_(t.alternate,t,pr);t.memoizedProps=t.pendingProps,e===null?V_(t):Ue=e,xd.current=null}function V_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=U1(e),n!==null){n.flags&=2047,Ue=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=B1(n,e,pr),n!==null){Ue=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||pr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);Ye===0&&(Ye=5)}function tr(t){var e=ri();return hr(99,J1.bind(null,t,e)),null}function J1(t,e){do Kn();while(ys!==null);if(re&48)throw Error(H(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<s;){var c=31-Fn(s),f=1<<c;i[c]=0,a[c]=-1,l[c]=-1,s&=~f}if(dn!==null&&!(r&24)&&dn.has(t)&&dn.delete(t),t===mt&&(Ue=mt=null,ct=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=re,re|=32,xd.current=null,pl=Jo,a=Zh(),rc(a)){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(f=l.getSelection&&l.getSelection())&&f.rangeCount!==0){l=f.anchorNode,s=f.anchorOffset,c=f.focusNode,f=f.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var w=0,P=-1,A=-1,M=0,V=0,N=a,C=null;t:for(;;){for(var k;N!==l||s!==0&&N.nodeType!==3||(P=w+s),N!==c||f!==0&&N.nodeType!==3||(A=w+f),N.nodeType===3&&(w+=N.nodeValue.length),(k=N.firstChild)!==null;)C=N,N=k;for(;;){if(N===a)break t;if(C===l&&++M===s&&(P=w),C===c&&++V===f&&(A=w),(k=N.nextSibling)!==null)break;N=C,C=N.parentNode}N=k}l=P===-1||A===-1?null:{start:P,end:A}}else l=null;l=l||{start:0,end:0}}else l=null;ml={focusedElem:a,selectionRange:l},Jo=!1,Es=null,sa=!1,J=r;do try{Z1()}catch(v){if(J===null)throw Error(H(330));Mn(J,v),J=J.nextEffect}while(J!==null);Es=null,J=r;do try{for(a=t;J!==null;){var I=J.flags;if(I&16&&Is(J.stateNode,""),I&128){var D=J.alternate;if(D!==null){var u=D.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(I&1038){case 2:jp(J),J.flags&=-3;break;case 6:jp(J),J.flags&=-3,Tl(J.alternate,J);break;case 1024:J.flags&=-1025;break;case 1028:J.flags&=-1025,Tl(J.alternate,J);break;case 4:Tl(J.alternate,J);break;case 8:l=J,I_(a,l);var p=l.alternate;Lp(l),p!==null&&Lp(p)}J=J.nextEffect}}catch(v){if(J===null)throw Error(H(330));Mn(J,v),J=J.nextEffect}while(J!==null);if(u=ml,D=Zh(),I=u.focusedElem,a=u.selectionRange,D!==I&&I&&I.ownerDocument&&qg(I.ownerDocument.documentElement,I)){for(a!==null&&rc(I)&&(D=a.start,u=a.end,u===void 0&&(u=D),"selectionStart"in I?(I.selectionStart=D,I.selectionEnd=Math.min(u,I.value.length)):(u=(D=I.ownerDocument||document)&&D.defaultView||window,u.getSelection&&(u=u.getSelection(),l=I.textContent.length,p=Math.min(a.start,l),a=a.end===void 0?p:Math.min(a.end,l),!u.extend&&p>a&&(l=a,a=p,p=l),l=Jh(I,p),s=Jh(I,a),l&&s&&(u.rangeCount!==1||u.anchorNode!==l.node||u.anchorOffset!==l.offset||u.focusNode!==s.node||u.focusOffset!==s.offset)&&(D=D.createRange(),D.setStart(l.node,l.offset),u.removeAllRanges(),p>a?(u.addRange(D),u.extend(s.node,s.offset)):(D.setEnd(s.node,s.offset),u.addRange(D)))))),D=[],u=I;u=u.parentNode;)u.nodeType===1&&D.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<D.length;I++)u=D[I],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}Jo=!!pl,ml=pl=null,t.current=n,J=r;do try{for(I=t;J!==null;){var h=J.flags;if(h&36&&W1(I,J.alternate,J),h&128){D=void 0;var m=J.ref;if(m!==null){var g=J.stateNode;switch(J.tag){case 5:D=g;break;default:D=g}typeof m=="function"?m(D):m.current=D}}J=J.nextEffect}}catch(v){if(J===null)throw Error(H(330));Mn(J,v),J=J.nextEffect}while(J!==null);J=null,V1(),re=i}else t.current=n;if(Bn)Bn=!1,ys=t,is=e;else for(J=r;J!==null;)e=J.nextEffect,J.nextEffect=null,J.flags&8&&(h=J,h.sibling=null,h.stateNode=null),J=e;if(r=t.pendingLanes,r===0&&(Kt=null),r===1?t===Ac?ws++:(ws=0,Ac=t):ws=0,n=n.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(kd,n,void 0,(n.current.flags&64)===64)}catch{}if(Nt(t,lt()),Ma)throw Ma=!1,t=Sc,Sc=null,t;return re&8||tn(),null}function Z1(){for(;J!==null;){var t=J.alternate;sa||Es===null||(J.flags&8?jh(J,Es)&&(sa=!0):J.tag===13&&K1(t,J)&&jh(J,Es)&&(sa=!0));var e=J.flags;e&256&&q1(t,J),!(e&512)||Bn||(Bn=!0,Os(97,function(){return Kn(),null})),J=J.nextEffect}}function Kn(){if(is!==90){var t=97<is?97:is;return is=90,hr(t,tw)}return!1}function ew(t,e){kc.push(e,t),Bn||(Bn=!0,Os(97,function(){return Kn(),null}))}function O_(t,e){Cc.push(e,t),Bn||(Bn=!0,Os(97,function(){return Kn(),null}))}function tw(){if(ys===null)return!1;var t=ys;if(ys=null,re&48)throw Error(H(331));var e=re;re|=32;var n=Cc;Cc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(c){if(s===null)throw Error(H(330));Mn(s,c)}}for(n=kc,kc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(s===null)throw Error(H(330));Mn(s,c)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return re=e,tn(),!0}function zp(t,e,n){e=Ld(n,e),e=C_(t,e,1),Rn(t,e),e=St(),t=iu(t,1),t!==null&&(Xa(t,1,e),Nt(t,e))}function Mn(t,e){if(t.tag===3)zp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){zp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){t=Ld(e,t);var i=A_(n,t,1);if(Rn(n,i),i=St(),n=iu(n,1),n!==null)Xa(n,1,i),Nt(n,i);else if(typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function nw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(ct&n)===n&&(Ye===4||Ye===3&&(ct&62914560)===ct&&500>lt()-Fd?Yr(t,0):jd|=n),Nt(t,e)}function rw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(un===0&&(un=vi),e=Dr(62914560&~un),e===0&&(e=4194304)):e=ri()===99?1:2:e=1),n=St(),t=iu(t,e),t!==null&&(Xa(t,e,n),Nt(t,n))}var L_;L_=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)Ut=!0;else if(n&r)Ut=!!(t.flags&16384);else{switch(Ut=!1,e.tag){case 3:Ap(e),yl();break;case 5:_p(e);break;case 1:wt(e.type)&&ta(e);break;case 4:dc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Me(Ea,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Ip(t,e,n):(Me(Ne,Ne.current&1),e=cn(t,e,n),e!==null?e.sibling:null);Me(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Np(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ne,Ne.current),r)break;return null;case 23:case 24:return e.lanes=0,wl(t,e,n)}return cn(t,e,n)}else Ut=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ni(e,dt.current),Gr(e,n),i=Nd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)){var s=!0;ta(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pd(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&ka(e,r,a,t),i.updater=nu,e.stateNode=i,i._reactInternals=e,cc(e,r,t,n),e=mc(null,e,r,!0,s,n)}else e.tag=0,vt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=sw(i),t=Bt(i,t),s){case 0:e=pc(null,e,i,t,n);break e;case 1:e=Cp(null,e,i,t,n);break e;case 11:e=Sp(null,e,i,t,n);break e;case 14:e=kp(null,e,i,Bt(i.type,t),r,n);break e}throw Error(H(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),pc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Cp(t,e,r,i,n);case 3:if(Ap(e),r=e.updateQueue,t===null||r===null)throw Error(H(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,a_(t,e),Ls(e,r,null,n),r=e.memoizedState.element,r===i)yl(),e=cn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(kn=Kr(e.stateNode.containerInfo.firstChild),ln=e,s=Qt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Qr.push(s);for(n=d_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else vt(t,e,r,n),yl();e=e.child}return e;case 5:return _p(e),t===null&&fc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,oc(r,i)?a=null:s!==null&&oc(r,s)&&(e.flags|=16),E_(t,e),vt(t,e,a,n),e.child;case 6:return t===null&&fc(e),null;case 13:return Ip(t,e,n);case 4:return dc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Sp(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value;var l=e.type._context;if(Me(Ea,l._currentValue),l._currentValue=s,a!==null)if(l=a.value,s=It(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(a.children===i.children&&!yt.current){e=cn(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var f=c.firstContext;f!==null;){if(f.context===r&&f.observedBits&s){l.tag===1&&(f=bn(-1,n&-n),f.tag=2,Rn(l,f)),l.lanes|=n,f=l.alternate,f!==null&&(f.lanes|=n),o_(l.return,n),c.lanes|=n;break}f=f.next}}else a=l.tag===10&&l.type===e.type?null:l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===e){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Gr(e,n),i=Dt(i,s.unstable_observedBits),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return i=e.type,s=Bt(i,e.pendingProps),s=Bt(i.type,s),kp(t,e,i,s,r,n);case 15:return w_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,wt(r)?(t=!0,ta(e)):t=!1,Gr(e,n),l_(e,r,i),cc(e,r,i,n),mc(null,e,r,!0,t,n);case 19:return Np(t,e,n);case 23:return wl(t,e,n);case 24:return wl(t,e,n)}throw Error(H(156,e.tag))};function iw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new iw(t,e,n,r)}function Bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sw(t){if(typeof t=="function")return Bd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ka)return 11;if(t===Ga)return 14}return 2}function Un(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function oa(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Bd(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case En:return Jr(n.children,i,s,e);case fg:a=8,i|=16;break;case rd:a=8,i|=1;break;case cs:return t=Pt(12,n,e,i|8),t.elementType=cs,t.type=cs,t.lanes=s,t;case ds:return t=Pt(13,n,e,i),t.type=ds,t.elementType=ds,t.lanes=s,t;case fa:return t=Pt(19,n,e,i),t.elementType=fa,t.lanes=s,t;case ld:return Ud(n,i,s,e);case Ul:return t=Pt(24,n,e,i),t.elementType=Ul,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:a=10;break e;case sd:a=9;break e;case Ka:a=11;break e;case Ga:a=14;break e;case od:a=16,r=null;break e;case ad:a=22;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jr(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=Pt(23,t,r,e),t.elementType=ld,t.lanes=n,t}function Sl(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function kl(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ow(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.mutableSourceEagerHydrationData=null}function aw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Va(t,e,n,r){var i=e.current,s=St(),a=Dn(i);e:if(n){n=n._reactInternals;t:{if(Er(n)!==n||n.tag!==1)throw Error(H(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(wt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(H(171))}if(n.tag===1){var c=n.type;if(wt(c)){n=Zg(n,c,l);break e}}n=l}else n=zn;return e.context===null?e.context=n:e.pendingContext=n,e=bn(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Rn(i,e),Nn(i,a,s),a}function Cl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $d(t,e){Bp(t,e),(t=t.alternate)&&Bp(t,e)}function uw(){return null}function Hd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new ow(t,e,n!=null&&n.hydrate===!0),e=Pt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Pd(e),t[_i]=n.current,Gg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Hd.prototype.render=function(t){Va(t,this._internalRoot,null,null)};Hd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Va(null,t,null,function(){e[_i]=null})};function no(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lw(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Hd(t,0,e?{hydrate:!0}:void 0)}function su(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var f=Cl(a);l.call(f)}}Va(e,a,t,i)}else{if(s=n._reactRootContainer=lw(n,r),a=s._internalRoot,typeof i=="function"){var c=i;i=function(){var f=Cl(a);c.call(f)}}R_(function(){Va(e,a,t,i)})}return Cl(a)}Ig=function(t){if(t.tag===13){var e=St();Nn(t,4,e),$d(t,4)}};pd=function(t){if(t.tag===13){var e=St();Nn(t,67108864,e),$d(t,67108864)}};Pg=function(t){if(t.tag===13){var e=St(),n=Dn(t);Nn(t,n,e),$d(t,n)}};bg=function(t,e){return e()};Jl=function(t,e,n){switch(e){case"input":if(Hl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eu(r);if(!i)throw Error(H(90));pg(r),Hl(r,i)}}}break;case"textarea":gg(t,n);break;case"select":e=n.value,e!=null&&Hr(t,!!n.multiple,e,!1)}};dd=b_;Sg=function(t,e,n,r,i){var s=re;re|=4;try{return hr(98,t.bind(null,e,n,r,i))}finally{re=s,re===0&&(wi(),tn())}};fd=function(){!(re&49)&&(Q1(),Kn())};kg=function(t,e){var n=re;re|=2;try{return t(e)}finally{re=n,re===0&&(wi(),tn())}};function x_(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!no(e))throw Error(H(200));return aw(t,e,null,n)}var cw={Events:[Zs,jr,eu,Eg,Tg,Kn,{current:!1}]},Yi={findFiberByHostInstance:sr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},dw={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ag(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{kd=Bo.inject(dw),lr=Bo}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cw;Mt.createPortal=x_;Mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):Error(H(268,Object.keys(t)));return t=Ag(e),t=t===null?null:t.stateNode,t};Mt.flushSync=function(t,e){var n=re;if(n&48)return t(e);re|=1;try{if(t)return hr(99,t.bind(null,e))}finally{re=n,tn()}};Mt.hydrate=function(t,e,n){if(!no(e))throw Error(H(200));return su(null,t,e,!0,n)};Mt.render=function(t,e,n){if(!no(e))throw Error(H(200));return su(null,t,e,!1,n)};Mt.unmountComponentAtNode=function(t){if(!no(t))throw Error(H(40));return t._reactRootContainer?(R_(function(){su(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};Mt.unstable_batchedUpdates=b_;Mt.unstable_createPortal=function(t,e){return x_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Mt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!no(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return su(t,e,n,!1,r)};Mt.version="17.0.2";function j_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j_)}catch(t){console.error(t)}}j_(),ug.exports=Mt;var fw=ug.exports;const hw=Qs(fw);function pw(t){const e=t.notes.map((n,r)=>ze.jsx("div",{children:ze.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[ze.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),ze.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:ze.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return ze.jsxs("section",{className:"pane sidebar",children:[ze.jsxs("div",{className:"sidebar--header",children:[ze.jsx("h3",{children:"Notes"}),ze.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var Al={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getBreaksNeededForEmptyLineAfter=Fe.getBreaksNeededForEmptyLineBefore=Fe.selectWord=Fe.getSurroundingWord=void 0;function F_(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(a){return a===" "||a.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Fe.getSurroundingWord=F_;function mw(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?F_(e,n.start):n}Fe.selectWord=mw;function gw(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Fe.getBreaksNeededForEmptyLineBefore=gw;function _w(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Fe.getBreaksNeededForEmptyLineAfter=_w;var Il={},ro={},gn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(gn,"__esModule",{value:!0});gn.classNames=void 0;function vw(t){return typeof t=="string"}function yw(t){return Array.isArray(t)&&t.length>0}function ww(t){return typeof t=="object"}function z_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(vw(i))n.push(i);else if(yw(i)){var s=z_.apply(null,i);s&&n.push(s)}else if(ww(i))for(var a in i)i.hasOwnProperty(a)&&i[a]&&n.push(a)}}return n.join(" ")}gn.classNames=z_;Object.defineProperty(ro,"__esModule",{value:!0});ro.ToolbarButtonGroup=void 0;var Ew=je,Tw=gn,Sw=function(t){return Ew.createElement("ul",{className:Tw.classNames("mde-header-group",{hidden:t.hidden})},t.children)};ro.ToolbarButtonGroup=Sw;var io={},Br=ue&&ue.__assign||function(){return Br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Br.apply(this,arguments)};Object.defineProperty(io,"__esModule",{value:!0});io.ToolbarButton=void 0;var Up=je,kw={tabIndex:-1},Cw=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,a=t.name,l=Br(Br({},kw),r||{}),c=e||"button";return Up.createElement("li",{className:"mde-header-item"},Up.createElement(c,Br(Br({"data-name":a},l),{onClick:i,disabled:s,type:"button"}),n))};io.ToolbarButton=Cw;var so={};Object.defineProperty(so,"__esModule",{value:!0});so.MdeFontAwesomeIcon=void 0;var Aw=je,Iw=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return Aw.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};so.MdeFontAwesomeIcon=Iw;var ou={},Pw=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(ou,"__esModule",{value:!0});ou.Preview=void 0;var Uo=je,bw=gn,Rw=function(t){Pw(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(a){n.setState({preview:a,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,a=n.refObject,l=n.heightUnits,c=this.state,f=c.preview,w=c.loading,P=w?s:f,A;typeof P=="string"?A=Uo.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:P||"<p>&nbsp;</p>"},ref:a}):A=Uo.createElement("div",{className:"mde-preview-content"},P);var M=i&&l?i+10+l:i+10;return Uo.createElement("div",{className:bw.classNames("mde-preview",r,{loading:w}),style:{minHeight:M},"data-testid":"mde-preview"},A)},e}(Uo.Component);ou.Preview=Rw;var au={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.getCaretCoordinates=void 0;var Dw=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],B_=typeof window<"u",Nw=B_&&window.mozInnerScreenX!=null;function Mw(t,e){if(!B_)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",Dw.forEach(function(l){r[l]=i[l]}),Nw?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var a={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),a}uu.getCaretCoordinates=Mw;var oo={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(oo,"__esModule",{value:!0});oo.insertText=void 0;function Vw(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(Ow(t)){var a=document.createTextNode(e),l=t.firstChild;if(!l)t.appendChild(a);else{for(var c=0,f=null,w=null,P=document.createRange();l&&(f===null||w===null);){var A=l.nodeValue.length;i>=c&&i<=c+A&&P.setStart(f=l,i-c),s>=c&&s<=c+A&&P.setEnd(w=l,s-c),c+=A,l=l.nextSibling}i!==s&&P.deleteContents(),P.insertNode(a)}}else{var M=t.value;t.value=M.slice(0,i)+e+M.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var V=document.createEvent("UIEvent");V.initEvent("input",!0,!1),t.dispatchEvent(V)}}oo.insertText=Vw;function Ow(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.mod=void 0;function Lw(t,e){return(t%e+e)%e}lu.mod=Lw;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.SuggestionsDropdown=void 0;var $p=je,xw=gn,jw=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,a=t.focusIndex,l=t.textAreaRef,c=function(N){N.preventDefault();var C=parseInt(N.currentTarget.attributes["data-index"].value);i(C)},f=function(N){return N.preventDefault()},w=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),P=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),A=r.left-l.current.scrollLeft,M=r.top-l.current.scrollTop,V={};return s&&M+l.current.getBoundingClientRect().top>P/2?V.bottom=l.current.offsetHeight-M:V.top=M,s&&A+l.current.getBoundingClientRect().left>w/2?V.right=l.current.offsetWidth-A:V.left=A,$p.createElement("ul",{className:xw.classNames("mde-suggestions",e),style:V},n.map(function(N,C){return $p.createElement("li",{onClick:c,onMouseDown:f,key:C,"aria-selected":a===C?"true":"false","data-index":""+C},N.preview)}))};ao.SuggestionsDropdown=jw;var Fw=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=ue&&ue.__assign||function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tt.apply(this,arguments)};Object.defineProperty(au,"__esModule",{value:!0});au.TextArea=void 0;var $o=je,zw=gn,Bw=uu,Uw=oo,$w=lu,Hw=ao,qw=function(t){Fw(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,a=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return a(i,r.state.mention.triggeredBy)}).then(function(l){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!l||!l.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Tt(Tt({},r.state.mention),{status:"active",suggestions:l,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var a=Bw.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:a,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),Uw.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var a=i.key,l=i.shiftKey,c=i.currentTarget,f=c.selectionStart,w=r.state.mention;switch(w.status){case"loading":case"active":if(a==="Escape"||a==="Backspace"&&f<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(w.status==="active"&&(a==="ArrowUp"||a==="ArrowDown")&&!l){i.preventDefault();var P=a==="ArrowUp"?-1:1;r.setState({mention:Tt(Tt({},w),{focusIndex:$w.mod(w.focusIndex+P,w.suggestions.length)})})}else a==="Enter"&&w.status==="active"&&w.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(w.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,a=r.state.mention,l=r.props,c=l.suggestionTriggerCharacters,f=l.value;switch(a.status){case"loading":case"active":if(s==="Backspace"){var w=f.substr(a.startPosition,r.getTextArea().selectionStart-a.startPosition);r.startLoadingSuggestions(w),a.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var P=f.charAt(r.getTextArea().selectionStart-1),A=c.includes(f.charAt(r.getTextArea().selectionStart-1));A&&r.loadEmptySuggestion(i.currentTarget,P)}break}},r.handleKeyPress=function(i){var s=r.props,a=s.suggestionTriggerCharacters,l=s.value,c=r.state.mention,f=i.key;switch(c.status){case"loading":case"active":if(f===" "){r.setState({mention:Tt(Tt({},r.state.mention),{status:"inactive"})});return}var w=l.substr(c.startPosition,r.getTextArea().selectionStart-c.startPosition)+f;r.startLoadingSuggestions(w),c.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})});break;case"inactive":if(a.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(l.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,a=r.textAreaProps,l=r.height,c=r.heightUnits,f=r.value,w=r.suggestionTriggerCharacters,P=r.loadSuggestions,A=r.suggestionsDropdownClasses,M=r.textAreaComponent,V=r.onPaste,N=r.onDrop,C=w&&w.length&&P,k=this.state.mention,I=M||"textarea",D=l&&c?l+c:l;return $o.createElement("div",{className:"mde-textarea-wrapper"},$o.createElement(I,Tt({className:zw.classNames("mde-text",i),style:{height:D},ref:this.props.refObject,readOnly:s,value:f,"data-testid":"text-area"},a,{onChange:function(u){var p;(p=a==null?void 0:a.onChange)===null||p===void 0||p.call(a,u),n.handleOnChange(u)},onBlur:function(u){var p;(p=a==null?void 0:a.onBlur)===null||p===void 0||p.call(a,u),C&&n.handleBlur()},onKeyDown:function(u){var p;(p=a==null?void 0:a.onKeyDown)===null||p===void 0||p.call(a,u),n.handleKeyDown(u)},onKeyUp:function(u){var p;(p=a==null?void 0:a.onKeyUp)===null||p===void 0||p.call(a,u),C&&n.handleKeyUp(u)},onKeyPress:function(u){var p;(p=a==null?void 0:a.onKeyPress)===null||p===void 0||p.call(a,u),C&&n.handleKeyPress(u)},onPaste:function(u){var p;(p=a==null?void 0:a.onPaste)===null||p===void 0||p.call(a,u),V(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var p;(p=a==null?void 0:a.onDrop)===null||p===void 0||p.call(a,u),N(u),u.preventDefault()}})),k.status==="active"&&k.suggestions.length&&$o.createElement(Hw.SuggestionsDropdown,{classes:A,caret:k.caret,suggestions:k.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:k.focusIndex,textAreaRef:this.props.refObject}))},e}($o.Component);au.TextArea=qw;var cu={},Ww=ue&&ue.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ur=ue&&ue.__assign||function(){return Ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ur.apply(this,arguments)};Object.defineProperty(cu,"__esModule",{value:!0});cu.Toolbar=void 0;var er=je,Pl=gn,Kw=ro,Gw=io,Qw=function(t){Ww(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,a=i.children,l=i.buttons,c=i.onCommand,f=i.readOnly,w=i.disablePreview,P=i.writeButtonProps,A=i.previewButtonProps,M=i.buttonProps;if((!l||l.length===0)&&!a)return null;var V=er.createElement("div",{className:"mde-tabs"},er.createElement("button",Ur({type:"button",className:Pl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},P),r.write),er.createElement("button",Ur({type:"button",className:Pl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},A),r.preview));return er.createElement("div",{className:Pl.classNames("mde-header",s)},!w&&V,l.map(function(N,C){return er.createElement(Kw.ToolbarButtonGroup,{key:C,hidden:n.props.tab==="preview"},N.map(function(k,I){return er.createElement(Gw.ToolbarButton,{key:I,name:k.commandName,buttonContent:k.buttonContent,buttonProps:Ur(Ur({},M||{}),k.buttonProps),onClick:function(){return c(k.commandName)},readOnly:f,buttonComponentClass:k.buttonComponentClass})}))}))},e}(er.Component);cu.Toolbar=Qw;var Ji={},Xt={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.headerCommand=void 0;var Xw=Fe;function Yw(t,e,n){var r=Xw.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}du.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;Yw(e,n,"### ")}};var fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.boldCommand=void 0;var Jw=Fe;fu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=Jw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.italicCommand=void 0;var Zw=Fe;hu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=Zw.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.strikeThroughCommand=void 0;var e3=Fe;pu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=e3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.linkCommand=void 0;var t3=Fe;mu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=t3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.quoteCommand=void 0;var bl=Fe;gu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=bl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=bl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),a=Array(s+1).join(`
`),l=bl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(l+1).join(`
`);n.replaceSelection(a+"> "+i.selectedText+c);var f=i.selection.start+s+2,w=f+i.selectedText.length;n.setSelectionRange({start:f,end:w})}};var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.codeCommand=void 0;var Rl=Fe;_u.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=Rl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,a=s+i.selectedText.length;n.setSelectionRange({start:s,end:a});return}var l=Rl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),c=Array(l+1).join(`
`),f=Rl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),w=Array(f+1).join(`
`);n.replaceSelection(c+"```\n"+i.selectedText+"\n```"+w);var P=i.selection.start+l+4,A=P+i.selectedText.length;n.setSelectionRange({start:P,end:A})}};var U_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Fe;function n(i,s){var a=i.split(/\n/),l=0,c=a.map(function(f,w){if(typeof s=="string")return l+=s.length,s+f;if(typeof s=="function"){var P=s(f,w);return l+=P.length,s(f,w)+f}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:c,insertionLength:l}}t.insertBeforeEachLine=n;var r=function(i,s,a){var l=e.selectWord({text:i.text,selection:i.selection}),c=s.setSelectionRange(l),f=e.getBreaksNeededForEmptyLineBefore(c.text,c.selection.start),w=Array(f+1).join(`
`),P=e.getBreaksNeededForEmptyLineAfter(c.text,c.selection.end),A=Array(P+1).join(`
`),M=n(c.selectedText,a);s.replaceSelection(""+w+M.modifiedText+A);var V=c.selectedText.indexOf(`
`)===-1?M.insertionLength:0,N=c.selection.start+f+V,C=N+M.modifiedText.length-V;s.setSelectionRange({start:N,end:C})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,a=i.textApi;t.makeList(s,a,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,a=i.textApi;t.makeList(s,a,function(l,c){return c+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,a=i.textApi;t.makeList(s,a,function(l,c){return"- [ ] "})}}})(U_);var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.imageCommand=void 0;var n3=Fe;vu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(n3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var yu={},wu={},r3=ue&&ue.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(w){try{f(r.next(w))}catch(P){a(P)}}function c(w){try{f(r.throw(w))}catch(P){a(P)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},i3=ue&&ue.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(wu,"__esModule",{value:!0});wu.readFileAsync=void 0;function s3(t){return r3(this,void 0,void 0,function(){return i3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}wu.readFileAsync=s3;var o3=ue&&ue.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(w){try{f(r.next(w))}catch(P){a(P)}}function c(w){try{f(r.throw(w))}catch(P){a(P)}}function f(w){w.done?s(w.value):i(w.value).then(l,c)}f((r=r.apply(t,e||[])).next())})},a3=ue&&ue.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(f){return function(w){return c([f,w])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(w){f=[6,w],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(yu,"__esModule",{value:!0});yu.saveImageCommand=void 0;var u3=wu,l3=Fe;function Hp(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function c3(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function d3(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),a=new Set(s.filter(function(f){return/^\.\w+/.test(f)}).map(function(f){return f.split(".")[1]})),l=new Set(s.filter(function(f){return/^[-\w.]+\/[-\w.]+$/.test(f)})),c=new Set(s.filter(function(f){return/(audio|video|image)\/\*/.test(f)}).map(function(f){return f.split("/")[0]}));i=i.filter(function(f){return a.has(f.name.split(".")[1])||l.has(f.type)||c.has(f.type.split("/")[0])})}return i}yu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return o3(this,void 0,void 0,function(){var i,s,a,l,c,f,w,P,A,M,V,N,C,k,I,D,u,p,h,m,g,v,y,E;return a3(this,function(b){switch(b.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,a=i.pasteOptions,l=a.saveImage,c=a.multiple,f=a.accept,w=f3(n)?Hp(s.clipboardData.items):h3(n)?Hp(s.dataTransfer.items):c3(s.target.files),P=d3(w,{multiple:c,accept:f}),A=[];for(M in P)A.push(M);V=0,b.label=1;case 1:return V<A.length?(N=A[V],C=e.getState(),k=l3.getBreaksNeededForEmptyLineBefore(C.text,C.selection.start),I=Array(k+1).join(`
`),D=I+"!["+r.uploadingImage+"]()",e.replaceSelection(D),u=w[N],[4,u3.readFileAsync(u)]):[3,5];case 2:return p=b.sent(),h=l(p,u),[4,h.next()];case 3:m=b.sent().value,g=e.getState(),v=g.text.substr(C.selection.start,D.length),v===D&&(e.setSelectionRange({start:C.selection.start,end:C.selection.start+D.length}),y=m?I+"![image]("+m+")":"",E=y.length-D.length,e.replaceSelection(y),e.setSelectionRange({start:g.selection.start+E,end:g.selection.end+E})),b.label=4;case 4:return V++,[3,1];case 5:return[2]}})})}};function f3(t){return t.event.clipboardData!==void 0}function h3(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getDefaultSaveImageCommandName=Xt.getDefaultCommandMap=Xt.getDefaultToolbarCommands=void 0;var p3=du,m3=fu,g3=hu,_3=pu,v3=mu,y3=gu,w3=_u,Dl=U_,E3=vu,T3=yu;function S3(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Xt.getDefaultToolbarCommands=S3;function k3(){return{header:p3.headerCommand,bold:m3.boldCommand,italic:g3.italicCommand,strikethrough:_3.strikeThroughCommand,link:v3.linkCommand,quote:y3.quoteCommand,code:w3.codeCommand,image:E3.imageCommand,"unordered-list":Dl.unorderedListCommand,"ordered-list":Dl.orderedListCommand,"checked-list":Dl.checkedListCommand,"save-image":T3.saveImageCommand}}Xt.getDefaultCommandMap=k3;function C3(){return"save-image"}Xt.getDefaultSaveImageCommandName=C3;var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.enL18n=void 0;Eu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var qd={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.SvgIcon=void 0;var Ve=je,A3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),I3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),P3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),b3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),R3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),D3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),N3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),M3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),V3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),O3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),L3=Ve.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ve.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),x3=function(t){var e=t.icon;switch(e){case"header":return O3;case"bold":return L3;case"italic":return V3;case"strikethrough":return M3;case"link":return N3;case"quote":return D3;case"code":return R3;case"image":return b3;case"unordered-list":return P3;case"ordered-list":return I3;case"checked-list":return A3;default:return null}};Tu.SvgIcon=x3;(function(t){var e=ue&&ue.__createBinding||(Object.create?function(r,i,s,a){a===void 0&&(a=s),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,a){a===void 0&&(a=s),r[a]=i[s]}),n=ue&&ue.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(so,t),n(Tu,t)})(qd);var sn={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.extractKeyActivatedCommands=void 0;function j3(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}Su.extractKeyActivatedCommands=j3;var qp;function F3(){if(qp)return sn;qp=1;var t=ue&&ue.__assign||function(){return t=Object.assign||function(w){for(var P,A=1,M=arguments.length;A<M;A++){P=arguments[A];for(var V in P)Object.prototype.hasOwnProperty.call(P,V)&&(w[V]=P[V])}return w},t.apply(this,arguments)},e=ue&&ue.__awaiter||function(w,P,A,M){function V(N){return N instanceof A?N:new A(function(C){C(N)})}return new(A||(A=Promise))(function(N,C){function k(u){try{D(M.next(u))}catch(p){C(p)}}function I(u){try{D(M.throw(u))}catch(p){C(p)}}function D(u){u.done?N(u.value):V(u.value).then(k,I)}D((M=M.apply(w,P||[])).next())})},n=ue&&ue.__generator||function(w,P){var A={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},M,V,N,C;return C={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function k(D){return function(u){return I([D,u])}}function I(D){if(M)throw new TypeError("Generator is already executing.");for(;A;)try{if(M=1,V&&(N=D[0]&2?V.return:D[0]?V.throw||((N=V.return)&&N.call(V),0):V.next)&&!(N=N.call(V,D[1])).done)return N;switch(V=0,N&&(D=[D[0]&2,N.value]),D[0]){case 0:case 1:N=D;break;case 4:return A.label++,{value:D[1],done:!1};case 5:A.label++,V=D[1],D=[0];continue;case 7:D=A.ops.pop(),A.trys.pop();continue;default:if(N=A.trys,!(N=N.length>0&&N[N.length-1])&&(D[0]===6||D[0]===2)){A=0;continue}if(D[0]===3&&(!N||D[1]>N[0]&&D[1]<N[3])){A.label=D[1];break}if(D[0]===6&&A.label<N[1]){A.label=N[1],N=D;break}if(N&&A.label<N[2]){A.label=N[2],A.ops.push(D);break}N[2]&&A.ops.pop(),A.trys.pop();continue}D=P.call(w,A)}catch(u){D=[6,u],V=0}finally{M=N=0}if(D[0]&5)throw D[1];return{value:D[0]?D[1]:void 0,done:!0}}};Object.defineProperty(sn,"__esModule",{value:!0}),sn.CommandOrchestrator=sn.getStateFromTextArea=sn.TextAreaTextApi=void 0;var r=H_(),i=oo,s=Su,a=Xt,l=function(){function w(P){this.textAreaRef=P}return w.prototype.replaceSelection=function(P){var A=this.textAreaRef.current;return i.insertText(A,P),c(A)},w.prototype.setSelectionRange=function(P){var A=this.textAreaRef.current;return A.focus(),A.selectionStart=P.start,A.selectionEnd=P.end,c(A)},w.prototype.getState=function(){var P=this.textAreaRef.current;return c(P)},w}();sn.TextAreaTextApi=l;function c(w){return{selection:{start:w.selectionStart,end:w.selectionEnd},text:w.value,selectedText:w.value.slice(w.selectionStart,w.selectionEnd)}}sn.getStateFromTextArea=c;var f=function(){function w(P,A,M,V){var N=this;if(this.getCommand=function(C){var k=N.commandMap[C];if(!k)throw new Error("Cannot execute command. Command not found: "+C);return k},this.handlePossibleKeyCommand=function(C){for(var k=0,I=N.keyActivatedCommands;k<I.length;k++){var D=I[k];if(N.getCommand(D).handleKeyCommand(C))return N.executeCommand(D).then(function(u){}),!0}return!1},V&&!V.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),P||{}),this.pasteOptions=V,this.keyActivatedCommands=s.extractKeyActivatedCommands(P),this.textAreaRef=A,this.textApi=new l(A),this.l18n=M}return w.prototype.executeCommand=function(P,A){return e(this,void 0,void 0,function(){var M,V;return n(this,function(N){switch(N.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,M=this.commandMap[P],V=M.execute({initialState:c(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:A}),[4,V]);case 1:return N.sent(),this.isExecuting=!1,[2]}})})},w.prototype.executePasteCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.executeDropCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.executeSelectImageCommand=function(P){return e(this,void 0,void 0,function(){return n(this,function(A){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||a.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:P})]:[2]})})},w.prototype.getCommandByName=function(P){return this.commandMap[P]},w}();return sn.CommandOrchestrator=f,sn}var Wp;function z3(){if(Wp)return Ji;Wp=1;var t=ue&&ue.__extends||function(){var M=function(V,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,k){C.__proto__=k}||function(C,k){for(var I in k)Object.prototype.hasOwnProperty.call(k,I)&&(C[I]=k[I])},M(V,N)};return function(V,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(V,N);function C(){this.constructor=V}V.prototype=N===null?Object.create(N):(C.prototype=N.prototype,new C)}}(),e=ue&&ue.__assign||function(){return e=Object.assign||function(M){for(var V,N=1,C=arguments.length;N<C;N++){V=arguments[N];for(var k in V)Object.prototype.hasOwnProperty.call(V,k)&&(M[k]=V[k])}return M},e.apply(this,arguments)},n=ue&&ue.__awaiter||function(M,V,N,C){function k(I){return I instanceof N?I:new N(function(D){D(I)})}return new(N||(N=Promise))(function(I,D){function u(m){try{h(C.next(m))}catch(g){D(g)}}function p(m){try{h(C.throw(m))}catch(g){D(g)}}function h(m){m.done?I(m.value):k(m.value).then(u,p)}h((C=C.apply(M,V||[])).next())})},r=ue&&ue.__generator||function(M,V){var N={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},C,k,I,D;return D={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function u(h){return function(m){return p([h,m])}}function p(h){if(C)throw new TypeError("Generator is already executing.");for(;N;)try{if(C=1,k&&(I=h[0]&2?k.return:h[0]?k.throw||((I=k.return)&&I.call(k),0):k.next)&&!(I=I.call(k,h[1])).done)return I;switch(k=0,I&&(h=[h[0]&2,I.value]),h[0]){case 0:case 1:I=h;break;case 4:return N.label++,{value:h[1],done:!1};case 5:N.label++,k=h[1],h=[0];continue;case 7:h=N.ops.pop(),N.trys.pop();continue;default:if(I=N.trys,!(I=I.length>0&&I[I.length-1])&&(h[0]===6||h[0]===2)){N=0;continue}if(h[0]===3&&(!I||h[1]>I[0]&&h[1]<I[3])){N.label=h[1];break}if(h[0]===6&&N.label<I[1]){N.label=I[1],I=h;break}if(I&&N.label<I[2]){N.label=I[2],N.ops.push(h);break}I[2]&&N.ops.pop(),N.trys.pop();continue}h=V.call(M,N)}catch(m){h=[6,m],k=0}finally{C=I=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.ReactMde=void 0;var i=je,s=$_(),a=Xt,l=Eu,c=qd,f=gn,w=F3(),P={accept:"image/*",multiple:!1},A=function(M){t(V,M);function V(N){var C,k=M.call(this,N)||this;k.handleTextChange=function(D){var u=k.props.onChange;u(D)},k.handlePaste=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(D)];case 1:return p.sent(),[2]}})})},k.handleDrop=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(D)];case 1:return p.sent(),[2]}})})},k.handleImageSelection=function(D){return n(k,void 0,void 0,function(){var u;return r(this,function(p){switch(p.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(D)];case 1:return p.sent(),[2]}})})},k.handleTabChange=function(D){var u=k.props.onTabChange;u(D)},k.handleCommand=function(D){return n(k,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(D)];case 1:return u.sent(),[2]}})})},k.finalRefs=e({},N.refs||{}),k.finalRefs.textarea||(k.finalRefs.textarea=i.createRef()),k.finalRefs.preview||(k.finalRefs.preview=i.createRef()),k.commandOrchestrator=new w.CommandOrchestrator(k.props.commands,k.finalRefs.textarea,k.props.l18n,k.props.paste?e(e({},P),k.props.paste):void 0);var I=Math.min(N.maxEditorHeight,N.minEditorHeight);return k.state={editorHeight:(C=N.initialEditorHeight)!==null&&C!==void 0?C:I},k}return V.prototype.render=function(){var N=this,C,k,I=this.props,D=I.getIcon,u=I.toolbarCommands,p=I.classes,h=I.loadingPreview,m=I.readOnly,g=I.disablePreview,v=I.value,y=I.l18n,E=I.minPreviewHeight,b=I.heightUnits,T=I.childProps,j=I.selectedTab,z=I.generateMarkdownPreview,R=I.loadSuggestions,F=I.suggestionTriggerCharacters,G=I.textAreaComponent,Y=T||{},ce=u.map(function(x){return x.map(function(Q){var X=N.commandOrchestrator.getCommand(Q);return{commandName:Q,buttonContent:X.icon?X.icon(D):D(Q),buttonProps:X.buttonProps,buttonComponentClass:X.buttonComponentClass}})});return i.createElement("div",{className:f.classNames("react-mde","react-mde-tabbed-layout",p==null?void 0:p.reactMde)},i.createElement(s.Toolbar,{classes:p==null?void 0:p.toolbar,buttons:ce,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:j,readOnly:m,disablePreview:g,l18n:y,buttonProps:Y.commandButtons,writeButtonProps:Y.writeButton,previewButtonProps:Y.previewButton}),i.createElement("div",{className:f.classNames({invisible:j!=="write"})},i.createElement(s.TextArea,{classes:p==null?void 0:p.textArea,suggestionsDropdownClasses:p==null?void 0:p.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:G,textAreaProps:T&&T.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:v,suggestionTriggerCharacters:F,loadSuggestions:R,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:f.classNames("image-tip")},i.createElement("input",{className:f.classNames("image-input"),type:"file",accept:(C=this.props.paste.accept)!==null&&C!==void 0?C:P.accept,multiple:(k=this.props.paste.multiple)!==null&&k!==void 0?k:P.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,y.pasteDropSelect))),j!=="write"&&i.createElement(s.Preview,{classes:p==null?void 0:p.preview,refObject:this.finalRefs.preview,loadingPreview:h,minHeight:E,heightUnits:b,generateMarkdownPreview:z,markdown:v}))},V.defaultProps={commands:a.getDefaultCommandMap(),toolbarCommands:a.getDefaultToolbarCommands(),getIcon:function(N){return i.createElement(c.SvgIcon,{icon:N})},readOnly:!1,l18n:l.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},V}(i.Component);return Ji.ReactMde=A,Ji}var Kp;function $_(){return Kp||(Kp=1,function(t){var e=ue&&ue.__createBinding||(Object.create?function(r,i,s,a){a===void 0&&(a=s),Object.defineProperty(r,a,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,a){a===void 0&&(a=s),r[a]=i[s]}),n=ue&&ue.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(ro,t),n(io,t),n(so,t),n(ou,t),n(au,t),n(cu,t),n(z3(),t),n(ao,t)}(Il)),Il}var Gp;function H_(){return Gp||(Gp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Fe;t.MarkdownUtil=e;var n=$_();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=qd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Xt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(Al)),Al}var B3=H_();const U3=Qs(B3);var q_={exports:{}};(function(t){(function(){function e(u){var p={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(p));var h={};for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m].defaultValue);return h}function n(){var u=e(!0),p={};for(var h in u)u.hasOwnProperty(h)&&(p[h]=!0);return p}var r={},i={},s={},a=e(!0),l="vanilla",c={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,p){return a[u]=p,this},r.getOption=function(u){return a[u]},r.getOptions=function(){return a},r.resetOptions=function(){a=e(!0)},r.setFlavor=function(u){if(!c.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var p=c[u];l=u;for(var h in p)p.hasOwnProperty(h)&&(a[h]=p[h])},r.getFlavor=function(){return l},r.getFlavorOptions=function(u){if(c.hasOwnProperty(u))return c[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,p){if(r.helper.isString(u))if(typeof p<"u")i[u]=p;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,p){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(p)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof p=="function"&&(p=p()),r.helper.isArray(p)||(p=[p]);var h=f(p,u);if(h.valid)s[u]=p;else throw Error(h.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function f(u,p){var h=p?"Error in "+p+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var g=0;g<u.length;++g){var v=h+" sub-extension "+g+": ",y=u[g];if(typeof y!="object")return m.valid=!1,m.error=v+"must be an object, but "+typeof y+" given",m;if(!r.helper.isString(y.type))return m.valid=!1,m.error=v+'property "type" must be a string, but '+typeof y.type+" given",m;var E=y.type=y.type.toLowerCase();if(E==="language"&&(E=y.type="lang"),E==="html"&&(E=y.type="output"),E!=="lang"&&E!=="output"&&E!=="listener")return m.valid=!1,m.error=v+"type "+E+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(E==="listener"){if(r.helper.isUndefined(y.listeners))return m.valid=!1,m.error=v+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(y.filter)&&r.helper.isUndefined(y.regex))return m.valid=!1,m.error=v+E+' extensions must define either a "regex" property or a "filter" method',m;if(y.listeners){if(typeof y.listeners!="object")return m.valid=!1,m.error=v+'"listeners" property must be an object but '+typeof y.listeners+" given",m;for(var b in y.listeners)if(y.listeners.hasOwnProperty(b)&&typeof y.listeners[b]!="function")return m.valid=!1,m.error=v+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+b+" must be a function but "+typeof y.listeners[b]+" given",m}if(y.filter){if(typeof y.filter!="function")return m.valid=!1,m.error=v+'"filter" must be a function, but '+typeof y.filter+" given",m}else if(y.regex){if(r.helper.isString(y.regex)&&(y.regex=new RegExp(y.regex,"g")),!(y.regex instanceof RegExp))return m.valid=!1,m.error=v+'"regex" property must either be a string or a RegExp object, but '+typeof y.regex+" given",m;if(r.helper.isUndefined(y.replace))return m.valid=!1,m.error=v+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var p=f(u,null);return p.valid?!0:(console.warn(p.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var p={};return u&&p.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,p){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(p))throw new Error("callback param is required");if(!r.helper.isFunction(p))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(p);else if(r.helper.isArray(u))for(var h=0;h<u.length;h++)p(u[h],h,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&p(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function w(u,p){var h=p.charCodeAt(0);return"E"+h+"E"}r.helper.escapeCharactersCallback=w,r.helper.escapeCharacters=function(u,p,h){var m="(["+p.replace(/([\[\]\\])/g,"\\$1")+"])";h&&(m="\\\\"+m);var g=new RegExp(m,"g");return u=u.replace(g,w),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var P=function(u,p,h,m){var g=m||"",v=g.indexOf("g")>-1,y=new RegExp(p+"|"+h,"g"+g.replace(/g/g,"")),E=new RegExp(p,g.replace(/g/g,"")),b=[],T,j,z,R,F;do for(T=0;z=y.exec(u);)if(E.test(z[0]))T++||(j=y.lastIndex,R=j-z[0].length);else if(T&&!--T){F=z.index+z[0].length;var G={left:{start:R,end:j},match:{start:j,end:z.index},right:{start:z.index,end:F},wholeMatch:{start:R,end:F}};if(b.push(G),!v)return b}while(T&&(y.lastIndex=j));return b};r.helper.matchRecursiveRegExp=function(u,p,h,m){for(var g=P(u,p,h,m),v=[],y=0;y<g.length;++y)v.push([u.slice(g[y].wholeMatch.start,g[y].wholeMatch.end),u.slice(g[y].match.start,g[y].match.end),u.slice(g[y].left.start,g[y].left.end),u.slice(g[y].right.start,g[y].right.end)]);return v},r.helper.replaceRecursiveRegExp=function(u,p,h,m,g){if(!r.helper.isFunction(p)){var v=p;p=function(){return v}}var y=P(u,h,m,g),E=u,b=y.length;if(b>0){var T=[];y[0].wholeMatch.start!==0&&T.push(u.slice(0,y[0].wholeMatch.start));for(var j=0;j<b;++j)T.push(p(u.slice(y[j].wholeMatch.start,y[j].wholeMatch.end),u.slice(y[j].match.start,y[j].match.end),u.slice(y[j].left.start,y[j].left.end),u.slice(y[j].right.start,y[j].right.end))),j<b-1&&T.push(u.slice(y[j].wholeMatch.end,y[j+1].wholeMatch.start));y[b-1].wholeMatch.end<u.length&&T.push(u.slice(y[b-1].wholeMatch.end)),E=T.join("")}return E},r.helper.regexIndexOf=function(u,p,h){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(p instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(h||0).search(p);return m>=0?m+(h||0):m},r.helper.splitAtIndex=function(u,p){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,p),u.substring(p)]},r.helper.encodeEmailAddress=function(u){var p=[function(h){return"&#"+h.charCodeAt(0)+";"},function(h){return"&#x"+h.charCodeAt(0).toString(16)+";"},function(h){return h}];return u=u.replace(/./g,function(h){if(h==="@")h=p[Math.floor(Math.random()*2)](h);else{var m=Math.random();h=m>.9?p[2](h):m>.45?p[1](h):p[0](h)}return h}),u},r.helper.padEnd=function(p,h,m){return h=h>>0,m=String(m||" "),p.length>h?String(p):(h=h-p.length,h>m.length&&(m+=m.repeat(h/m.length)),String(p)+m.slice(0,h))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var p={},h=[],m=[],g={},v=l,y={parsed:{},raw:"",format:""};E();function E(){u=u||{};for(var R in a)a.hasOwnProperty(R)&&(p[R]=a[R]);if(typeof u=="object")for(var F in u)u.hasOwnProperty(F)&&(p[F]=u[F]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");p.extensions&&r.helper.forEach(p.extensions,b)}function b(R,F){if(F=F||null,r.helper.isString(R))if(R=r.helper.stdExtName(R),F=R,r.extensions[R]){console.warn("DEPRECATION WARNING: "+R+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),T(r.extensions[R],R);return}else if(!r.helper.isUndefined(s[R]))R=s[R];else throw Error('Extension "'+R+'" could not be loaded. It was either not found or is not a valid extension.');typeof R=="function"&&(R=R()),r.helper.isArray(R)||(R=[R]);var G=f(R,F);if(!G.valid)throw Error(G.error);for(var Y=0;Y<R.length;++Y){switch(R[Y].type){case"lang":h.push(R[Y]);break;case"output":m.push(R[Y]);break}if(R[Y].hasOwnProperty("listeners"))for(var ce in R[Y].listeners)R[Y].listeners.hasOwnProperty(ce)&&j(ce,R[Y].listeners[ce])}}function T(R,F){typeof R=="function"&&(R=R(new r.Converter)),r.helper.isArray(R)||(R=[R]);var G=f(R,F);if(!G.valid)throw Error(G.error);for(var Y=0;Y<R.length;++Y)switch(R[Y].type){case"lang":h.push(R[Y]);break;case"output":m.push(R[Y]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function j(R,F){if(!r.helper.isString(R))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof R+" given");if(typeof F!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof F+" given");g.hasOwnProperty(R)||(g[R]=[]),g[R].push(F)}function z(R){var F=R.match(/^\s*/)[0].length,G=new RegExp("^\\s{0,"+F+"}","gm");return R.replace(G,"")}this._dispatch=function(F,G,Y,ce){if(g.hasOwnProperty(F))for(var x=0;x<g[F].length;++x){var Q=g[F][x](F,G,this,Y,ce);Q&&typeof Q<"u"&&(G=Q)}return G},this.listen=function(R,F){return j(R,F),this},this.makeHtml=function(R){if(!R)return R;var F={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:h,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return R=R.replace(//g,"T"),R=R.replace(/\$/g,"D"),R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/\u00A0/g,"&nbsp;"),p.smartIndentationFix&&(R=z(R)),R=`

`+R+`

`,R=r.subParser("detab")(R,p,F),R=R.replace(/^[ \t]+$/mg,""),r.helper.forEach(h,function(G){R=r.subParser("runExtension")(G,R,p,F)}),R=r.subParser("metadata")(R,p,F),R=r.subParser("hashPreCodeTags")(R,p,F),R=r.subParser("githubCodeBlocks")(R,p,F),R=r.subParser("hashHTMLBlocks")(R,p,F),R=r.subParser("hashCodeTags")(R,p,F),R=r.subParser("stripLinkDefinitions")(R,p,F),R=r.subParser("blockGamut")(R,p,F),R=r.subParser("unhashHTMLSpans")(R,p,F),R=r.subParser("unescapeSpecialChars")(R,p,F),R=R.replace(/D/g,"$$"),R=R.replace(/T/g,""),R=r.subParser("completeHTMLDocument")(R,p,F),r.helper.forEach(m,function(G){R=r.subParser("runExtension")(G,R,p,F)}),y=F.metadata,R},this.makeMarkdown=this.makeMd=function(R,F){if(R=R.replace(/\r\n/g,`
`),R=R.replace(/\r/g,`
`),R=R.replace(/>[ \t]+</,">NBSP;<"),!F)if(window&&window.document)F=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var G=F.createElement("div");G.innerHTML=R;var Y={preList:ae(G)};X(G);for(var ce=G.childNodes,x="",Q=0;Q<ce.length;Q++)x+=r.subParser("makeMarkdown.node")(ce[Q],Y);function X(se){for(var ve=0;ve<se.childNodes.length;++ve){var _e=se.childNodes[ve];_e.nodeType===3?/\S/.test(_e.nodeValue)?(_e.nodeValue=_e.nodeValue.split(`
`).join(" "),_e.nodeValue=_e.nodeValue.replace(/(\s)+/g,"$1")):(se.removeChild(_e),--ve):_e.nodeType===1&&X(_e)}}function ae(se){for(var ve=se.querySelectorAll("pre"),_e=[],q=0;q<ve.length;++q)if(ve[q].childElementCount===1&&ve[q].firstChild.tagName.toLowerCase()==="code"){var B=ve[q].firstChild.innerHTML.trim(),W=ve[q].firstChild.getAttribute("data-language")||"";if(W==="")for(var ee=ve[q].firstChild.className.split(" "),ke=0;ke<ee.length;++ke){var ye=ee[ke].match(/^language-(.+)$/);if(ye!==null){W=ye[1];break}}B=r.helper.unescapeHTMLEntities(B),_e.push(B),ve[q].outerHTML='<precode language="'+W+'" precodenum="'+q.toString()+'"></precode>'}else _e.push(ve[q].innerHTML),ve[q].innerHTML="",ve[q].setAttribute("prenum",q.toString());return _e}return x},this.setOption=function(R,F){p[R]=F},this.getOption=function(R){return p[R]},this.getOptions=function(){return p},this.addExtension=function(R,F){F=F||null,b(R,F)},this.useExtension=function(R){b(R)},this.setFlavor=function(R){if(!c.hasOwnProperty(R))throw Error(R+" flavor was not found");var F=c[R];v=R;for(var G in F)F.hasOwnProperty(G)&&(p[G]=F[G])},this.getFlavor=function(){return v},this.removeExtension=function(R){r.helper.isArray(R)||(R=[R]);for(var F=0;F<R.length;++F){for(var G=R[F],Y=0;Y<h.length;++Y)h[Y]===G&&h[Y].splice(Y,1);for(var ce=0;ce<m.length;++Y)m[ce]===G&&m[ce].splice(Y,1)}},this.getAllExtensions=function(){return{language:h,output:m}},this.getMetadata=function(R){return R?y.raw:y.parsed},this.getMetadataFormat=function(){return y.format},this._setMetadataPair=function(R,F){y.parsed[R]=F},this._setMetadataFormat=function(R){y.format=R},this._setMetadataRaw=function(R){y.raw=R}},r.subParser("anchors",function(u,p,h){u=h.converter._dispatch("anchors.before",u,p,h);var m=function(g,v,y,E,b,T,j){if(r.helper.isUndefined(j)&&(j=""),y=y.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)E="";else if(!E)if(y||(y=v.toLowerCase().replace(/ ?\n/g," ")),E="#"+y,!r.helper.isUndefined(h.gUrls[y]))E=h.gUrls[y],r.helper.isUndefined(h.gTitles[y])||(j=h.gTitles[y]);else return g;E=E.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var z='<a href="'+E+'"';return j!==""&&j!==null&&(j=j.replace(/"/g,"&quot;"),j=j.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),z+=' title="'+j+'"'),p.openLinksInNewWindow&&!/^#/.test(E)&&(z+=' rel="noopener noreferrer" target="E95Eblank"'),z+=">"+v+"</a>",z};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),p.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(g,v,y,E,b){if(y==="\\")return v+E;if(!r.helper.isString(p.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var T=p.ghMentionsLink.replace(/\{u}/g,b),j="";return p.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),v+'<a href="'+T+'"'+j+">"+E+"</a>"})),u=h.converter._dispatch("anchors.after",u,p,h),u});var A=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,M=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,V=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,N=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,C=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,k=function(u){return function(p,h,m,g,v,y,E){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var b=m,T="",j="",z=h||"",R=E||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&y&&(T=y),u.openLinksInNewWindow&&(j=' rel="noopener noreferrer" target="E95Eblank"'),z+'<a href="'+m+'"'+j+">"+b+"</a>"+T+R}},I=function(u,p){return function(h,m,g){var v="mailto:";return m=m||"",g=r.subParser("unescapeSpecialChars")(g,u,p),u.encodeEmails?(v=r.helper.encodeEmailAddress(v+g),g=r.helper.encodeEmailAddress(g)):v=v+g,m+'<a href="'+v+'">'+g+"</a>"}};r.subParser("autoLinks",function(u,p,h){return u=h.converter._dispatch("autoLinks.before",u,p,h),u=u.replace(V,k(p)),u=u.replace(C,I(p,h)),u=h.converter._dispatch("autoLinks.after",u,p,h),u}),r.subParser("simplifiedAutoLinks",function(u,p,h){return p.simplifiedAutoLink&&(u=h.converter._dispatch("simplifiedAutoLinks.before",u,p,h),p.excludeTrailingPunctuationFromURLs?u=u.replace(M,k(p)):u=u.replace(A,k(p)),u=u.replace(N,I(p,h)),u=h.converter._dispatch("simplifiedAutoLinks.after",u,p,h)),u}),r.subParser("blockGamut",function(u,p,h){return u=h.converter._dispatch("blockGamut.before",u,p,h),u=r.subParser("blockQuotes")(u,p,h),u=r.subParser("headers")(u,p,h),u=r.subParser("horizontalRule")(u,p,h),u=r.subParser("lists")(u,p,h),u=r.subParser("codeBlocks")(u,p,h),u=r.subParser("tables")(u,p,h),u=r.subParser("hashHTMLBlocks")(u,p,h),u=r.subParser("paragraphs")(u,p,h),u=h.converter._dispatch("blockGamut.after",u,p,h),u}),r.subParser("blockQuotes",function(u,p,h){u=h.converter._dispatch("blockQuotes.before",u,p,h),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return p.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=r.subParser("githubCodeBlocks")(g,p,h),g=r.subParser("blockGamut")(g,p,h),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(v,y){var E=y;return E=E.replace(/^  /mg,"0"),E=E.replace(/0/g,""),E}),r.subParser("hashBlock")(`<blockquote>
`+g+`
</blockquote>`,p,h)}),u=h.converter._dispatch("blockQuotes.after",u,p,h),u}),r.subParser("codeBlocks",function(u,p,h){u=h.converter._dispatch("codeBlocks.before",u,p,h),u+="0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return u=u.replace(m,function(g,v,y){var E=v,b=y,T=`
`;return E=r.subParser("outdent")(E,p,h),E=r.subParser("encodeCode")(E,p,h),E=r.subParser("detab")(E,p,h),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),p.omitExtraWLInCodeBlocks&&(T=""),E="<pre><code>"+E+T+"</code></pre>",r.subParser("hashBlock")(E,p,h)+b}),u=u.replace(/0/,""),u=h.converter._dispatch("codeBlocks.after",u,p,h),u}),r.subParser("codeSpans",function(u,p,h){return u=h.converter._dispatch("codeSpans.before",u,p,h),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,g,v,y){var E=y;return E=E.replace(/^([ \t]*)/g,""),E=E.replace(/[ \t]*$/g,""),E=r.subParser("encodeCode")(E,p,h),E=g+"<code>"+E+"</code>",E=r.subParser("hashHTMLSpans")(E,p,h),E}),u=h.converter._dispatch("codeSpans.after",u,p,h),u}),r.subParser("completeHTMLDocument",function(u,p,h){if(!p.completeHTMLDocument)return u;u=h.converter._dispatch("completeHTMLDocument.before",u,p,h);var m="html",g=`<!DOCTYPE HTML>
`,v="",y=`<meta charset="utf-8">
`,E="",b="";typeof h.metadata.parsed.doctype<"u"&&(g="<!DOCTYPE "+h.metadata.parsed.doctype+`>
`,m=h.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(y='<meta charset="utf-8">'));for(var T in h.metadata.parsed)if(h.metadata.parsed.hasOwnProperty(T))switch(T.toLowerCase()){case"doctype":break;case"title":v="<title>"+h.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?y='<meta charset="'+h.metadata.parsed.charset+`">
`:y='<meta name="charset" content="'+h.metadata.parsed.charset+`">
`;break;case"language":case"lang":E=' lang="'+h.metadata.parsed[T]+'"',b+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`;break;default:b+='<meta name="'+T+'" content="'+h.metadata.parsed[T]+`">
`}return u=g+"<html"+E+`>
<head>
`+v+y+b+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=h.converter._dispatch("completeHTMLDocument.after",u,p,h),u}),r.subParser("detab",function(u,p,h){return u=h.converter._dispatch("detab.before",u,p,h),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"AB"),u=u.replace(/B(.+?)A/g,function(m,g){for(var v=g,y=4-v.length%4,E=0;E<y;E++)v+=" ";return v}),u=u.replace(/A/g,"    "),u=u.replace(/B/g,""),u=h.converter._dispatch("detab.after",u,p,h),u}),r.subParser("ellipsis",function(u,p,h){return u=h.converter._dispatch("ellipsis.before",u,p,h),u=u.replace(/\.\.\./g,""),u=h.converter._dispatch("ellipsis.after",u,p,h),u}),r.subParser("emoji",function(u,p,h){if(!p.emoji)return u;u=h.converter._dispatch("emoji.before",u,p,h);var m=/:([\S]+?):/g;return u=u.replace(m,function(g,v){return r.helper.emojis.hasOwnProperty(v)?r.helper.emojis[v]:g}),u=h.converter._dispatch("emoji.after",u,p,h),u}),r.subParser("encodeAmpsAndAngles",function(u,p,h){return u=h.converter._dispatch("encodeAmpsAndAngles.before",u,p,h),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=h.converter._dispatch("encodeAmpsAndAngles.after",u,p,h),u}),r.subParser("encodeBackslashEscapes",function(u,p,h){return u=h.converter._dispatch("encodeBackslashEscapes.before",u,p,h),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeBackslashEscapes.after",u,p,h),u}),r.subParser("encodeCode",function(u,p,h){return u=h.converter._dispatch("encodeCode.before",u,p,h),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("encodeCode.after",u,p,h),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,p,h){u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,p,h);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,g=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(v){return v.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(g,function(v){return v.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=h.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,p,h),u}),r.subParser("githubCodeBlocks",function(u,p,h){return p.ghCodeBlocks?(u=h.converter._dispatch("githubCodeBlocks.before",u,p,h),u+="0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,g,v,y){var E=p.omitExtraWLInCodeBlocks?"":`
`;return y=r.subParser("encodeCode")(y,p,h),y=r.subParser("detab")(y,p,h),y=y.replace(/^\n+/g,""),y=y.replace(/\n+$/g,""),y="<pre><code"+(v?' class="'+v+" language-"+v+'"':"")+">"+y+E+"</code></pre>",y=r.subParser("hashBlock")(y,p,h),`

G`+(h.ghCodeBlocks.push({text:m,codeblock:y})-1)+`G

`}),u=u.replace(/0/,""),h.converter._dispatch("githubCodeBlocks.after",u,p,h)):u}),r.subParser("hashBlock",function(u,p,h){return u=h.converter._dispatch("hashBlock.before",u,p,h),u=u.replace(/(^\n+|\n+$)/g,""),u=`

K`+(h.gHtmlBlocks.push(u)-1)+`K

`,u=h.converter._dispatch("hashBlock.after",u,p,h),u}),r.subParser("hashCodeTags",function(u,p,h){u=h.converter._dispatch("hashCodeTags.before",u,p,h);var m=function(g,v,y,E){var b=y+r.subParser("encodeCode")(v,p,h)+E;return"C"+(h.gHtmlSpans.push(b)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=h.converter._dispatch("hashCodeTags.after",u,p,h),u}),r.subParser("hashElement",function(u,p,h){return function(m,g){var v=g;return v=v.replace(/\n\n/g,`
`),v=v.replace(/^\n/,""),v=v.replace(/\n+$/g,""),v=`

K`+(h.gHtmlBlocks.push(v)-1)+`K

`,v}}),r.subParser("hashHTMLBlocks",function(u,p,h){u=h.converter._dispatch("hashHTMLBlocks.before",u,p,h);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],g=function(R,F,G,Y){var ce=R;return G.search(/\bmarkdown\b/)!==-1&&(ce=G+h.converter.makeHtml(F)+Y),`

K`+(h.gHtmlBlocks.push(ce)-1)+`K

`};p.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(R,F){return"&lt;"+F+"&gt;"}));for(var v=0;v<m.length;++v)for(var y,E=new RegExp("^ {0,3}(<"+m[v]+"\\b[^>]*>)","im"),b="<"+m[v]+"\\b[^>]*>",T="</"+m[v]+">";(y=r.helper.regexIndexOf(u,E))!==-1;){var j=r.helper.splitAtIndex(u,y),z=r.helper.replaceRecursiveRegExp(j[1],g,b,T,"im");if(z===j[1])break;u=j[0].concat(z)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=r.helper.replaceRecursiveRegExp(u,function(R){return`

K`+(h.gHtmlBlocks.push(R)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,p,h)),u=h.converter._dispatch("hashHTMLBlocks.after",u,p,h),u}),r.subParser("hashHTMLSpans",function(u,p,h){u=h.converter._dispatch("hashHTMLSpans.before",u,p,h);function m(g){return"C"+(h.gHtmlSpans.push(g)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(g){return m(g)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return m(g)}),u=u.replace(/<[^>]+?>/gi,function(g){return m(g)}),u=h.converter._dispatch("hashHTMLSpans.after",u,p,h),u}),r.subParser("unhashHTMLSpans",function(u,p,h){u=h.converter._dispatch("unhashHTMLSpans.before",u,p,h);for(var m=0;m<h.gHtmlSpans.length;++m){for(var g=h.gHtmlSpans[m],v=0;/C(\d+)C/.test(g);){var y=RegExp.$1;if(g=g.replace("C"+y+"C",h.gHtmlSpans[y]),v===10){console.error("maximum nesting of 10 spans reached!!!");break}++v}u=u.replace("C"+m+"C",g)}return u=h.converter._dispatch("unhashHTMLSpans.after",u,p,h),u}),r.subParser("hashPreCodeTags",function(u,p,h){u=h.converter._dispatch("hashPreCodeTags.before",u,p,h);var m=function(g,v,y,E){var b=y+r.subParser("encodeCode")(v,p,h)+E;return`

G`+(h.ghCodeBlocks.push({text:g,codeblock:b})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=h.converter._dispatch("hashPreCodeTags.after",u,p,h),u}),r.subParser("headers",function(u,p,h){u=h.converter._dispatch("headers.before",u,p,h);var m=isNaN(parseInt(p.headerLevelStart))?1:parseInt(p.headerLevelStart),g=p.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,v=p.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(g,function(b,T){var j=r.subParser("spanGamut")(T,p,h),z=p.noHeaderId?"":' id="'+E(T)+'"',R=m,F="<h"+R+z+">"+j+"</h"+R+">";return r.subParser("hashBlock")(F,p,h)}),u=u.replace(v,function(b,T){var j=r.subParser("spanGamut")(T,p,h),z=p.noHeaderId?"":' id="'+E(T)+'"',R=m+1,F="<h"+R+z+">"+j+"</h"+R+">";return r.subParser("hashBlock")(F,p,h)});var y=p.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(y,function(b,T,j){var z=j;p.customizedHeaderId&&(z=j.replace(/\s?\{([^{]+?)}\s*$/,""));var R=r.subParser("spanGamut")(z,p,h),F=p.noHeaderId?"":' id="'+E(j)+'"',G=m-1+T.length,Y="<h"+G+F+">"+R+"</h"+G+">";return r.subParser("hashBlock")(Y,p,h)});function E(b){var T,j;if(p.customizedHeaderId){var z=b.match(/\{([^{]+?)}\s*$/);z&&z[1]&&(b=z[1])}return T=b,r.helper.isString(p.prefixHeaderId)?j=p.prefixHeaderId:p.prefixHeaderId===!0?j="section-":j="",p.rawPrefixHeaderId||(T=j+T),p.ghCompatibleHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():p.rawHeaderId?T=T.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():T=T.replace(/[^\w]/g,"").toLowerCase(),p.rawPrefixHeaderId&&(T=j+T),h.hashLinkCounts[T]?T=T+"-"+h.hashLinkCounts[T]++:h.hashLinkCounts[T]=1,T}return u=h.converter._dispatch("headers.after",u,p,h),u}),r.subParser("horizontalRule",function(u,p,h){u=h.converter._dispatch("horizontalRule.before",u,p,h);var m=r.subParser("hashBlock")("<hr />",p,h);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=h.converter._dispatch("horizontalRule.after",u,p,h),u}),r.subParser("images",function(u,p,h){u=h.converter._dispatch("images.before",u,p,h);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,g=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,v=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,y=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,E=/!\[([^\[\]]+)]()()()()()/g;function b(j,z,R,F,G,Y,ce,x){return F=F.replace(/\s/g,""),T(j,z,R,F,G,Y,ce,x)}function T(j,z,R,F,G,Y,ce,x){var Q=h.gUrls,X=h.gTitles,ae=h.gDimensions;if(R=R.toLowerCase(),x||(x=""),j.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)F="";else if(F===""||F===null)if((R===""||R===null)&&(R=z.toLowerCase().replace(/ ?\n/g," ")),F="#"+R,!r.helper.isUndefined(Q[R]))F=Q[R],r.helper.isUndefined(X[R])||(x=X[R]),r.helper.isUndefined(ae[R])||(G=ae[R].width,Y=ae[R].height);else return j;z=z.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),F=F.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var se='<img src="'+F+'" alt="'+z+'"';return x&&r.helper.isString(x)&&(x=x.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),se+=' title="'+x+'"'),G&&Y&&(G=G==="*"?"auto":G,Y=Y==="*"?"auto":Y,se+=' width="'+G+'"',se+=' height="'+Y+'"'),se+=" />",se}return u=u.replace(y,T),u=u.replace(v,b),u=u.replace(g,T),u=u.replace(m,T),u=u.replace(E,T),u=h.converter._dispatch("images.after",u,p,h),u}),r.subParser("italicsAndBold",function(u,p,h){u=h.converter._dispatch("italicsAndBold.before",u,p,h);function m(g,v,y){return v+g+y}return p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(g,v){return m(v,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(g,v){return m(v,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(g,v){return m(v,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(g,v){return/\S$/.test(v)?m(v,"<strong><em>","</em></strong>"):g}),u=u.replace(/__(\S[\s\S]*?)__/g,function(g,v){return/\S$/.test(v)?m(v,"<strong>","</strong>"):g}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(g,v){return/\S$/.test(v)?m(v,"<em>","</em>"):g})),p.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(g,v,y){return m(y,v+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,v){return/\S$/.test(v)?m(v,"<strong><em>","</em></strong>"):g}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,v){return/\S$/.test(v)?m(v,"<strong>","</strong>"):g}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(g,v){return/\S$/.test(v)?m(v,"<em>","</em>"):g})),u=h.converter._dispatch("italicsAndBold.after",u,p,h),u}),r.subParser("lists",function(u,p,h){function m(y,E){h.gListLevel++,y=y.replace(/\n{2,}$/,`
`),y+="0";var b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,T=/\n[ \t]*\n(?!0)/.test(y);return p.disableForced4SpacesIndentedSublists&&(b=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),y=y.replace(b,function(j,z,R,F,G,Y,ce){ce=ce&&ce.trim()!=="";var x=r.subParser("outdent")(G,p,h),Q="";return Y&&p.tasklists&&(Q=' class="task-list-item" style="list-style-type: none;"',x=x.replace(/^[ \t]*\[(x|X| )?]/m,function(){var X='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ce&&(X+=" checked"),X+=">",X})),x=x.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(X){return"A"+X}),z||x.search(/\n{2,}/)>-1?(x=r.subParser("githubCodeBlocks")(x,p,h),x=r.subParser("blockGamut")(x,p,h)):(x=r.subParser("lists")(x,p,h),x=x.replace(/\n$/,""),x=r.subParser("hashHTMLBlocks")(x,p,h),x=x.replace(/\n\n+/g,`

`),T?x=r.subParser("paragraphs")(x,p,h):x=r.subParser("spanGamut")(x,p,h)),x=x.replace("A",""),x="<li"+Q+">"+x+`</li>
`,x}),y=y.replace(/0/g,""),h.gListLevel--,E&&(y=y.replace(/\s+$/,"")),y}function g(y,E){if(E==="ol"){var b=y.match(/^ *(\d+)\./);if(b&&b[1]!=="1")return' start="'+b[1]+'"'}return""}function v(y,E,b){var T=p.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,j=p.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,z=E==="ul"?T:j,R="";if(y.search(z)!==-1)(function G(Y){var ce=Y.search(z),x=g(y,E);ce!==-1?(R+=`

<`+E+x+`>
`+m(Y.slice(0,ce),!!b)+"</"+E+`>
`,E=E==="ul"?"ol":"ul",z=E==="ul"?T:j,G(Y.slice(ce))):R+=`

<`+E+x+`>
`+m(Y,!!b)+"</"+E+`>
`})(y);else{var F=g(y,E);R=`

<`+E+F+`>
`+m(y,!!b)+"</"+E+`>
`}return R}return u=h.converter._dispatch("lists.before",u,p,h),u+="0",h.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b){var T=b.search(/[*+-]/g)>-1?"ul":"ol";return v(E,T,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(y,E,b,T){var j=T.search(/[*+-]/g)>-1?"ul":"ol";return v(b,j,!1)}),u=u.replace(/0/,""),u=h.converter._dispatch("lists.after",u,p,h),u}),r.subParser("metadata",function(u,p,h){if(!p.metadata)return u;u=h.converter._dispatch("metadata.before",u,p,h);function m(g){h.metadata.raw=g,g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),g=g.replace(/\n {4}/g," "),g.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(v,y,E){return h.metadata.parsed[y]=E,""})}return u=u.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(g,v,y){return m(y),"M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,v,y){return v&&(h.metadata.format=v),m(y),"M"}),u=u.replace(/M/g,""),u=h.converter._dispatch("metadata.after",u,p,h),u}),r.subParser("outdent",function(u,p,h){return u=h.converter._dispatch("outdent.before",u,p,h),u=u.replace(/^(\t|[ ]{1,4})/gm,"0"),u=u.replace(/0/g,""),u=h.converter._dispatch("outdent.after",u,p,h),u}),r.subParser("paragraphs",function(u,p,h){u=h.converter._dispatch("paragraphs.before",u,p,h),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),g=[],v=m.length,y=0;y<v;y++){var E=m[y];E.search(/(K|G)(\d+)\1/g)>=0?g.push(E):E.search(/\S/)>=0&&(E=r.subParser("spanGamut")(E,p,h),E=E.replace(/^([ \t]*)/g,"<p>"),E+="</p>",g.push(E))}for(v=g.length,y=0;y<v;y++){for(var b="",T=g[y],j=!1;/(K|G)(\d+)\1/.test(T);){var z=RegExp.$1,R=RegExp.$2;z==="K"?b=h.gHtmlBlocks[R]:j?b=r.subParser("encodeCode")(h.ghCodeBlocks[R].text,p,h):b=h.ghCodeBlocks[R].codeblock,b=b.replace(/\$/g,"$$$$"),T=T.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,b),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(T)&&(j=!0)}g[y]=T}return u=g.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),h.converter._dispatch("paragraphs.after",u,p,h)}),r.subParser("runExtension",function(u,p,h,m){if(u.filter)p=u.filter(p,m.converter,h);else if(u.regex){var g=u.regex;g instanceof RegExp||(g=new RegExp(g,"g")),p=p.replace(g,u.replace)}return p}),r.subParser("spanGamut",function(u,p,h){return u=h.converter._dispatch("spanGamut.before",u,p,h),u=r.subParser("codeSpans")(u,p,h),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,p,h),u=r.subParser("encodeBackslashEscapes")(u,p,h),u=r.subParser("images")(u,p,h),u=r.subParser("anchors")(u,p,h),u=r.subParser("autoLinks")(u,p,h),u=r.subParser("simplifiedAutoLinks")(u,p,h),u=r.subParser("emoji")(u,p,h),u=r.subParser("underline")(u,p,h),u=r.subParser("italicsAndBold")(u,p,h),u=r.subParser("strikethrough")(u,p,h),u=r.subParser("ellipsis")(u,p,h),u=r.subParser("hashHTMLSpans")(u,p,h),u=r.subParser("encodeAmpsAndAngles")(u,p,h),p.simpleLineBreaks?/\n\nK/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=h.converter._dispatch("spanGamut.after",u,p,h),u}),r.subParser("strikethrough",function(u,p,h){function m(g){return p.simplifiedAutoLink&&(g=r.subParser("simplifiedAutoLinks")(g,p,h)),"<del>"+g+"</del>"}return p.strikethrough&&(u=h.converter._dispatch("strikethrough.before",u,p,h),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,v){return m(v)}),u=h.converter._dispatch("strikethrough.after",u,p,h)),u}),r.subParser("stripLinkDefinitions",function(u,p,h){var m=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,g=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;u+="0";var v=function(y,E,b,T,j,z,R){return E=E.toLowerCase(),b.match(/^data:.+?\/.+?;base64,/)?h.gUrls[E]=b.replace(/\s/g,""):h.gUrls[E]=r.subParser("encodeAmpsAndAngles")(b,p,h),z?z+R:(R&&(h.gTitles[E]=R.replace(/"|'/g,"&quot;")),p.parseImgDimensions&&T&&j&&(h.gDimensions[E]={width:T,height:j}),"")};return u=u.replace(g,v),u=u.replace(m,v),u=u.replace(/0/,""),u}),r.subParser("tables",function(u,p,h){if(!p.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,g=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function v(j){return/^:[ \t]*--*$/.test(j)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(j)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(j)?' style="text-align:center;"':""}function y(j,z){var R="";return j=j.trim(),(p.tablesHeaderId||p.tableHeaderId)&&(R=' id="'+j.replace(/ /g,"_").toLowerCase()+'"'),j=r.subParser("spanGamut")(j,p,h),"<th"+R+z+">"+j+`</th>
`}function E(j,z){var R=r.subParser("spanGamut")(j,p,h);return"<td"+z+">"+R+`</td>
`}function b(j,z){for(var R=`<table>
<thead>
<tr>
`,F=j.length,G=0;G<F;++G)R+=j[G];for(R+=`</tr>
</thead>
<tbody>
`,G=0;G<z.length;++G){R+=`<tr>
`;for(var Y=0;Y<F;++Y)R+=z[G][Y];R+=`</tr>
`}return R+=`</tbody>
</table>
`,R}function T(j){var z,R=j.split(`
`);for(z=0;z<R.length;++z)/^ {0,3}\|/.test(R[z])&&(R[z]=R[z].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(R[z])&&(R[z]=R[z].replace(/\|[ \t]*$/,"")),R[z]=r.subParser("codeSpans")(R[z],p,h);var F=R[0].split("|").map(function(se){return se.trim()}),G=R[1].split("|").map(function(se){return se.trim()}),Y=[],ce=[],x=[],Q=[];for(R.shift(),R.shift(),z=0;z<R.length;++z)R[z].trim()!==""&&Y.push(R[z].split("|").map(function(se){return se.trim()}));if(F.length<G.length)return j;for(z=0;z<G.length;++z)x.push(v(G[z]));for(z=0;z<F.length;++z)r.helper.isUndefined(x[z])&&(x[z]=""),ce.push(y(F[z],x[z]));for(z=0;z<Y.length;++z){for(var X=[],ae=0;ae<ce.length;++ae)r.helper.isUndefined(Y[z][ae]),X.push(E(Y[z][ae],x[ae]));Q.push(X)}return b(ce,Q)}return u=h.converter._dispatch("tables.before",u,p,h),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,T),u=u.replace(g,T),u=h.converter._dispatch("tables.after",u,p,h),u}),r.subParser("underline",function(u,p,h){return p.underline&&(u=h.converter._dispatch("underline.before",u,p,h),p.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,g){return"<u>"+g+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,g){return"<u>"+g+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,g){return/\S$/.test(g)?"<u>"+g+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=h.converter._dispatch("underline.after",u,p,h)),u}),r.subParser("unescapeSpecialChars",function(u,p,h){return u=h.converter._dispatch("unescapeSpecialChars.before",u,p,h),u=u.replace(/E(\d+)E/g,function(m,g){var v=parseInt(g);return String.fromCharCode(v)}),u=h.converter._dispatch("unescapeSpecialChars.after",u,p,h),u}),r.subParser("makeMarkdown.blockquote",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,v=0;v<g;++v){var y=r.subParser("makeMarkdown.node")(m[v],p);y!==""&&(h+=y)}return h=h.trim(),h="> "+h.split(`
`).join(`
> `),h}),r.subParser("makeMarkdown.codeBlock",function(u,p){var h=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+h+`
`+p.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,p){var h="";if(u.hasChildNodes()){h+="*";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="*"}return h}),r.subParser("makeMarkdown.header",function(u,p,h){var m=new Array(h+1).join("#"),g="";if(u.hasChildNodes()){g=m+" ";for(var v=u.childNodes,y=v.length,E=0;E<y;++E)g+=r.subParser("makeMarkdown.node")(v[E],p)}return g}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var p="";return u.hasAttribute("src")&&(p+="!["+u.getAttribute("alt")+"](",p+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(p+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(p+=' "'+u.getAttribute("title")+'"'),p+=")"),p}),r.subParser("makeMarkdown.links",function(u,p){var h="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,g=m.length;h="[";for(var v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="](",h+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(h+=' "'+u.getAttribute("title")+'"'),h+=")"}return h}),r.subParser("makeMarkdown.list",function(u,p,h){var m="";if(!u.hasChildNodes())return"";for(var g=u.childNodes,v=g.length,y=u.getAttribute("start")||1,E=0;E<v;++E)if(!(typeof g[E].tagName>"u"||g[E].tagName.toLowerCase()!=="li")){var b="";h==="ol"?b=y.toString()+". ":b="- ",m+=b+r.subParser("makeMarkdown.listItem")(g[E],p),++y}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,p){for(var h="",m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);return/\n$/.test(h)?h=h.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):h+=`
`,h}),r.subParser("makeMarkdown.node",function(u,p,h){h=h||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,p);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var g=u.tagName.toLowerCase();switch(g){case"h1":h||(m=r.subParser("makeMarkdown.header")(u,p,1)+`

`);break;case"h2":h||(m=r.subParser("makeMarkdown.header")(u,p,2)+`

`);break;case"h3":h||(m=r.subParser("makeMarkdown.header")(u,p,3)+`

`);break;case"h4":h||(m=r.subParser("makeMarkdown.header")(u,p,4)+`

`);break;case"h5":h||(m=r.subParser("makeMarkdown.header")(u,p,5)+`

`);break;case"h6":h||(m=r.subParser("makeMarkdown.header")(u,p,6)+`

`);break;case"p":h||(m=r.subParser("makeMarkdown.paragraph")(u,p)+`

`);break;case"blockquote":h||(m=r.subParser("makeMarkdown.blockquote")(u,p)+`

`);break;case"hr":h||(m=r.subParser("makeMarkdown.hr")(u,p)+`

`);break;case"ol":h||(m=r.subParser("makeMarkdown.list")(u,p,"ol")+`

`);break;case"ul":h||(m=r.subParser("makeMarkdown.list")(u,p,"ul")+`

`);break;case"precode":h||(m=r.subParser("makeMarkdown.codeBlock")(u,p)+`

`);break;case"pre":h||(m=r.subParser("makeMarkdown.pre")(u,p)+`

`);break;case"table":h||(m=r.subParser("makeMarkdown.table")(u,p)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,p);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,p);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,p);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,p);break;case"a":m=r.subParser("makeMarkdown.links")(u,p);break;case"img":m=r.subParser("makeMarkdown.image")(u,p);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,p){var h="";if(u.hasChildNodes())for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);return h=h.trim(),h}),r.subParser("makeMarkdown.pre",function(u,p){var h=u.getAttribute("prenum");return"<pre>"+p.preList[h]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,p){var h="";if(u.hasChildNodes()){h+="~~";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="~~"}return h}),r.subParser("makeMarkdown.strong",function(u,p){var h="";if(u.hasChildNodes()){h+="**";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p);h+="**"}return h}),r.subParser("makeMarkdown.table",function(u,p){var h="",m=[[],[]],g=u.querySelectorAll("thead>tr>th"),v=u.querySelectorAll("tbody>tr"),y,E;for(y=0;y<g.length;++y){var b=r.subParser("makeMarkdown.tableCell")(g[y],p),T="---";if(g[y].hasAttribute("style")){var j=g[y].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(j){case"text-align:left;":T=":---";break;case"text-align:right;":T="---:";break;case"text-align:center;":T=":---:";break}}m[0][y]=b.trim(),m[1][y]=T}for(y=0;y<v.length;++y){var z=m.push([])-1,R=v[y].getElementsByTagName("td");for(E=0;E<g.length;++E){var F=" ";typeof R[E]<"u"&&(F=r.subParser("makeMarkdown.tableCell")(R[E],p)),m[z].push(F)}}var G=3;for(y=0;y<m.length;++y)for(E=0;E<m[y].length;++E){var Y=m[y][E].length;Y>G&&(G=Y)}for(y=0;y<m.length;++y){for(E=0;E<m[y].length;++E)y===1?m[y][E].slice(-1)===":"?m[y][E]=r.helper.padEnd(m[y][E].slice(-1),G-1,"-")+":":m[y][E]=r.helper.padEnd(m[y][E],G,"-"):m[y][E]=r.helper.padEnd(m[y][E],G);h+="| "+m[y].join(" | ")+` |
`}return h.trim()}),r.subParser("makeMarkdown.tableCell",function(u,p){var h="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,g=m.length,v=0;v<g;++v)h+=r.subParser("makeMarkdown.node")(m[v],p,!0);return h.trim()}),r.subParser("makeMarkdown.txt",function(u){var p=u.nodeValue;return p=p.replace(/ +/g," "),p=p.replace(/NBSP;/g," "),p=r.helper.unescapeHTMLEntities(p),p=p.replace(/([*_~|`])/g,"\\$1"),p=p.replace(/^(\s*)>/g,"\\$1>"),p=p.replace(/^#/gm,"\\#"),p=p.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),p=p.replace(/^( {0,3}\d+)\./gm,"$1\\."),p=p.replace(/^( {0,3})([+-])/gm,"$1\\$2"),p=p.replace(/]([\s]*)\(/g,"\\]$1\\("),p=p.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),p});var D=this;t.exports?t.exports=r:D.showdown=r}).call(ue)})(q_);var $3=q_.exports;const H3=Qs($3);function q3({tempNoteText:t,setTempNoteText:e}){const[n,r]=je.useState("write"),i=new H3.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return ze.jsx("section",{className:"pane editor",children:ze.jsx(U3,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var W_={exports:{}},W3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",K3=W3,G3=K3;function K_(){}function G_(){}G_.resetWarningCache=K_;var Q3=function(){function t(r,i,s,a,l,c){if(c!==G3){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G_,resetWarningCache:K_};return n.PropTypes=n,n};W_.exports=Q3();var X3=W_.exports;const Ee=Qs(X3);var At=typeof window<"u"?window:null,Wd=At===null,zs=Wd?void 0:At.document,xt="addEventListener",jt="removeEventListener",Nl="getBoundingClientRect",Zi="_a",Ft="_b",on="_c",Ho="horizontal",zt=function(){return!1},Y3=Wd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=zs.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Q_=function(t){return typeof t=="string"||t instanceof String},Qp=function(t){if(Q_(t)){var e=zs.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},it=function(t,e,n){var r=t[e];return r!==void 0?r:n},qo=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},J3=function(t,e){var n=zs.createElement("div");return n.className="gutter gutter-"+e,n},Z3=function(t,e,n){var r={};return Q_(e)?r[t]=e:r[t]=Y3+"("+e+"% - "+n+"px)",r},eE=function(t,e){var n;return n={},n[t]=e+"px",n},Xp=function(t,e){if(e===void 0&&(e={}),Wd)return{};var n=t,r,i,s,a,l,c;Array.from&&(n=Array.from(n));var f=Qp(n[0]),w=f.parentNode,P=getComputedStyle?getComputedStyle(w):null,A=P?P.flexDirection:null,M=it(e,"sizes")||n.map(function(){return 100/n.length}),V=it(e,"minSize",100),N=Array.isArray(V)?V:n.map(function(){return V}),C=it(e,"maxSize",1/0),k=Array.isArray(C)?C:n.map(function(){return C}),I=it(e,"expandToMin",!1),D=it(e,"gutterSize",10),u=it(e,"gutterAlign","center"),p=it(e,"snapOffset",30),h=Array.isArray(p)?p:n.map(function(){return p}),m=it(e,"dragInterval",1),g=it(e,"direction",Ho),v=it(e,"cursor",g===Ho?"col-resize":"row-resize"),y=it(e,"gutter",J3),E=it(e,"elementStyle",Z3),b=it(e,"gutterStyle",eE);g===Ho?(r="width",i="clientX",s="left",a="right",l="clientWidth"):g==="vertical"&&(r="height",i="clientY",s="top",a="bottom",l="clientHeight");function T(q,B,W,ee){var ke=E(r,B,W,ee);Object.keys(ke).forEach(function(ye){q.style[ye]=ke[ye]})}function j(q,B,W){var ee=b(r,B,W);Object.keys(ee).forEach(function(ke){q.style[ke]=ee[ke]})}function z(){return c.map(function(q){return q.size})}function R(q){return"touches"in q?q.touches[0][i]:q[i]}function F(q){var B=c[this.a],W=c[this.b],ee=B.size+W.size;B.size=q/this.size*ee,W.size=ee-q/this.size*ee,T(B.element,B.size,this[Ft],B.i),T(W.element,W.size,this[on],W.i)}function G(q){var B,W=c[this.a],ee=c[this.b];this.dragging&&(B=R(q)-this.start+(this[Ft]-this.dragOffset),m>1&&(B=Math.round(B/m)*m),B<=W.minSize+W.snapOffset+this[Ft]?B=W.minSize+this[Ft]:B>=this.size-(ee.minSize+ee.snapOffset+this[on])&&(B=this.size-(ee.minSize+this[on])),B>=W.maxSize-W.snapOffset+this[Ft]?B=W.maxSize+this[Ft]:B<=this.size-(ee.maxSize-ee.snapOffset+this[on])&&(B=this.size-(ee.maxSize+this[on])),F.call(this,B),it(e,"onDrag",zt)(z()))}function Y(){var q=c[this.a].element,B=c[this.b].element,W=q[Nl](),ee=B[Nl]();this.size=W[r]+ee[r]+this[Ft]+this[on],this.start=W[s],this.end=W[a]}function ce(q){if(!getComputedStyle)return null;var B=getComputedStyle(q);if(!B)return null;var W=q[l];return W===0?null:(g===Ho?W-=parseFloat(B.paddingLeft)+parseFloat(B.paddingRight):W-=parseFloat(B.paddingTop)+parseFloat(B.paddingBottom),W)}function x(q){var B=ce(w);if(B===null||N.reduce(function(ye,Ke){return ye+Ke},0)>B)return q;var W=0,ee=[],ke=q.map(function(ye,Ke){var Vt=B*ye/100,Gn=qo(D,Ke===0,Ke===q.length-1,u),Qn=N[Ke]+Gn;return Vt<Qn?(W+=Qn-Vt,ee.push(0),Qn):(ee.push(Vt-Qn),Vt)});return W===0?q:ke.map(function(ye,Ke){var Vt=ye;if(W>0&&ee[Ke]-W>0){var Gn=Math.min(W,ee[Ke]-W);W-=Gn,Vt=ye-Gn}return Vt/B*100})}function Q(){var q=this,B=c[q.a].element,W=c[q.b].element;q.dragging&&it(e,"onDragEnd",zt)(z()),q.dragging=!1,At[jt]("mouseup",q.stop),At[jt]("touchend",q.stop),At[jt]("touchcancel",q.stop),At[jt]("mousemove",q.move),At[jt]("touchmove",q.move),q.stop=null,q.move=null,B[jt]("selectstart",zt),B[jt]("dragstart",zt),W[jt]("selectstart",zt),W[jt]("dragstart",zt),B.style.userSelect="",B.style.webkitUserSelect="",B.style.MozUserSelect="",B.style.pointerEvents="",W.style.userSelect="",W.style.webkitUserSelect="",W.style.MozUserSelect="",W.style.pointerEvents="",q.gutter.style.cursor="",q.parent.style.cursor="",zs.body.style.cursor=""}function X(q){if(!("button"in q&&q.button!==0)){var B=this,W=c[B.a].element,ee=c[B.b].element;B.dragging||it(e,"onDragStart",zt)(z()),q.preventDefault(),B.dragging=!0,B.move=G.bind(B),B.stop=Q.bind(B),At[xt]("mouseup",B.stop),At[xt]("touchend",B.stop),At[xt]("touchcancel",B.stop),At[xt]("mousemove",B.move),At[xt]("touchmove",B.move),W[xt]("selectstart",zt),W[xt]("dragstart",zt),ee[xt]("selectstart",zt),ee[xt]("dragstart",zt),W.style.userSelect="none",W.style.webkitUserSelect="none",W.style.MozUserSelect="none",W.style.pointerEvents="none",ee.style.userSelect="none",ee.style.webkitUserSelect="none",ee.style.MozUserSelect="none",ee.style.pointerEvents="none",B.gutter.style.cursor=v,B.parent.style.cursor=v,zs.body.style.cursor=v,Y.call(B),B.dragOffset=R(q)-B.end}}M=x(M);var ae=[];c=n.map(function(q,B){var W={element:Qp(q),size:M[B],minSize:N[B],maxSize:k[B],snapOffset:h[B],i:B},ee;if(B>0&&(ee={a:B-1,b:B,dragging:!1,direction:g,parent:w},ee[Ft]=qo(D,B-1===0,!1,u),ee[on]=qo(D,!1,B===n.length-1,u),A==="row-reverse"||A==="column-reverse")){var ke=ee.a;ee.a=ee.b,ee.b=ke}if(B>0){var ye=y(B,g,W.element);j(ye,D,B),ee[Zi]=X.bind(ee),ye[xt]("mousedown",ee[Zi]),ye[xt]("touchstart",ee[Zi]),w.insertBefore(ye,W.element),ee.gutter=ye}return T(W.element,W.size,qo(D,B===0,B===n.length-1,u),B),B>0&&ae.push(ee),W});function se(q){var B=q.i===ae.length,W=B?ae[q.i-1]:ae[q.i];Y.call(W);var ee=B?W.size-q.minSize-W[on]:q.minSize+W[Ft];F.call(W,ee)}c.forEach(function(q){var B=q.element[Nl]()[r];B<q.minSize&&(I?se(q):q.minSize=B)});function ve(q){var B=x(q);B.forEach(function(W,ee){if(ee>0){var ke=ae[ee-1],ye=c[ke.a],Ke=c[ke.b];ye.size=B[ee-1],Ke.size=W,T(ye.element,ye.size,ke[Ft],ye.i),T(Ke.element,Ke.size,ke[on],Ke.i)}})}function _e(q,B){ae.forEach(function(W){if(B!==!0?W.parent.removeChild(W.gutter):(W.gutter[jt]("mousedown",W[Zi]),W.gutter[jt]("touchstart",W[Zi])),q!==!0){var ee=E(r,W.a.size,W[Ft]);Object.keys(ee).forEach(function(ke){c[W.a].element.style[ke]="",c[W.b].element.style[ke]=""})}})}return{setSizes:ve,getSizes:z,collapse:function(B){se(c[B])},destroy:_e,parent:w,pairs:ae}};function Ml(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var Kd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Ml(r,["children","gutter"]),a=s;a.gutter=function(l,c){var f;return i?f=i(l,c):(f=document.createElement("div"),f.className="gutter gutter-"+c),f.__isSplitGutter=!0,f},this.split=Xp(this.parent.children,a)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var a=s.minSize,l=s.sizes,c=s.collapsed,f=Ml(s,["children","minSize","sizes","collapsed"]),w=f,P=r.minSize,A=r.sizes,M=r.collapsed,V=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],N=V.map(function(I){return i.props[I]!==r[I]}).reduce(function(I,D){return I||D},!1);if(Array.isArray(a)&&Array.isArray(P)){var C=!1;a.forEach(function(I,D){C=C||I!==P[D]}),N=N||C}else Array.isArray(a)||Array.isArray(P)?N=!0:N=N||a!==P;if(N)w.minSize=a,w.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),w.gutter=function(I,D,u){return u.previousSibling},this.split=Xp(Array.from(this.parent.children).filter(function(I){return!I.__isSplitGutter}),w);else if(l){var k=!1;l.forEach(function(I,D){k=k||I!==A[D]}),k&&this.split.setSizes(this.props.sizes)}Number.isInteger(c)&&(c!==M||N)&&this.split.collapse(c)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,a=Ml(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=a;return Ah.createElement("div",Object.assign({},{ref:function(c){r.parent=c}},l),s)},e}(Ah.Component);Kd.propTypes={sizes:Ee.arrayOf(Ee.number),minSize:Ee.oneOfType([Ee.number,Ee.arrayOf(Ee.number)]),maxSize:Ee.oneOfType([Ee.number,Ee.arrayOf(Ee.number)]),expandToMin:Ee.bool,gutterSize:Ee.number,gutterAlign:Ee.string,snapOffset:Ee.number,dragInterval:Ee.number,direction:Ee.string,cursor:Ee.string,gutter:Ee.func,elementStyle:Ee.func,gutterStyle:Ee.func,onDrag:Ee.func,onDragStart:Ee.func,onDragEnd:Ee.func,collapsed:Ee.number,children:Ee.arrayOf(Ee.element)};Kd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,w=s>>2,P=(s&3)<<4|l>>4;let A=(l&15)<<2|f>>6,M=f&63;c||(M=64,a||(A=64)),r.push(n[w],n[P],n[A],n[M])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const P=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||P==null)throw new nE;const A=s<<2|l>>4;if(r.push(A),f!==64){const M=l<<4&240|f>>2;if(r.push(M),P!==64){const V=f<<6&192|P;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(t){const e=X_(t);return Y_.encodeByteArray(e,!0)},Oa=function(t){return rE(t).replace(/\./g,"")},iE=function(t){try{return Y_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=()=>sE().__FIREBASE_DEFAULTS__,aE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iE(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return oE()||aE()||uE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lE=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cE=t=>{const e=lE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J_=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Oa(JSON.stringify(n)),Oa(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pE(){var t;const e=(t=Gd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mE(){return!pE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vE,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z_.prototype.create)}}class Z_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?yE(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ei(i,l,r)}}function yE(t,e){return t.replace(wE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wE=/\{\$([^}]+)}/g;function Pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Yp(s)&&Yp(a)){if(!Pc(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Yp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SE(e))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nr){return this.instances.has(e)}getOptions(e=nr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nr){return this.component?this.component.multipleInstances?e:nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TE(t){return t===nr?void 0:t}function SE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const CE={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},AE=he.INFO,IE={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},PE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ev{constructor(e){this.name=e,this._logLevel=AE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const bE=(t,e)=>e.some(n=>t instanceof n);let Jp,Zp;function RE(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DE(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,bc=new WeakMap,nv=new WeakMap,Vl=new WeakMap,Qd=new WeakMap;function NE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Vn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&tv.set(n,t)}).catch(()=>{}),Qd.set(e,t),e}function ME(t){if(bc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});bc.set(t,e)}let Rc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VE(t){Rc=t(Rc)}function OE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ol(this),e,...n);return nv.set(r,e.sort?e.sort():[e]),Vn(r)}:DE().includes(t)?function(...e){return t.apply(Ol(this),e),Vn(tv.get(this))}:function(...e){return Vn(t.apply(Ol(this),e))}}function LE(t){return typeof t=="function"?OE(t):(t instanceof IDBTransaction&&ME(t),bE(t,RE())?new Proxy(t,Rc):t)}function Vn(t){if(t instanceof IDBRequest)return NE(t);if(Vl.has(t))return Vl.get(t);const e=LE(t);return e!==t&&(Vl.set(t,e),Qd.set(e,t)),e}const Ol=t=>Qd.get(t);function xE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Vn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Vn(a.result),c.oldVersion,c.newVersion,Vn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const jE=["get","getKey","getAll","getAllKeys","count"],FE=["put","add","delete","clear"],Ll=new Map;function em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ll.get(e))return Ll.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jE.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Ll.set(e,s),s}VE(t=>({...t,get:(e,n,r)=>em(e,n)||t.get(e,n,r),has:(e,n)=>!!em(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dc="@firebase/app",tm="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new ev("@firebase/app"),UE="@firebase/app-compat",$E="@firebase/analytics-compat",HE="@firebase/analytics",qE="@firebase/app-check-compat",WE="@firebase/app-check",KE="@firebase/auth",GE="@firebase/auth-compat",QE="@firebase/database",XE="@firebase/database-compat",YE="@firebase/functions",JE="@firebase/functions-compat",ZE="@firebase/installations",e8="@firebase/installations-compat",t8="@firebase/messaging",n8="@firebase/messaging-compat",r8="@firebase/performance",i8="@firebase/performance-compat",s8="@firebase/remote-config",o8="@firebase/remote-config-compat",a8="@firebase/storage",u8="@firebase/storage-compat",l8="@firebase/firestore",c8="@firebase/vertexai-preview",d8="@firebase/firestore-compat",f8="firebase",h8="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="[DEFAULT]",p8={[Dc]:"fire-core",[UE]:"fire-core-compat",[HE]:"fire-analytics",[$E]:"fire-analytics-compat",[WE]:"fire-app-check",[qE]:"fire-app-check-compat",[KE]:"fire-auth",[GE]:"fire-auth-compat",[QE]:"fire-rtdb",[XE]:"fire-rtdb-compat",[YE]:"fire-fn",[JE]:"fire-fn-compat",[ZE]:"fire-iid",[e8]:"fire-iid-compat",[t8]:"fire-fcm",[n8]:"fire-fcm-compat",[r8]:"fire-perf",[i8]:"fire-perf-compat",[s8]:"fire-rc",[o8]:"fire-rc-compat",[a8]:"fire-gcs",[u8]:"fire-gcs-compat",[l8]:"fire-fst",[d8]:"fire-fst-compat",[c8]:"fire-vertex","fire-js":"fire-js",[f8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map,m8=new Map,Mc=new Map;function nm(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(Mc.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Mc.set(e,t);for(const n of La.values())nm(n,t);for(const n of m8.values())nm(n,t);return!0}function g8(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},On=new Z_("app","Firebase",_8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=h8;function rv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw On.create("bad-app-name",{appName:String(i)});if(n||(n=J_()),!n)throw On.create("no-options");const s=La.get(i);if(s){if(Pc(n,s.options)&&Pc(r,s.config))return s;throw On.create("duplicate-app",{appName:i})}const a=new kE(i);for(const c of Mc.values())a.addComponent(c);const l=new v8(n,r,a);return La.set(i,l),l}function w8(t=Nc){const e=La.get(t);if(!e&&t===Nc&&J_())return rv();if(!e)throw On.create("no-app",{appName:t});return e}function Zr(t,e,n){var r;let i=(r=p8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}xa(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="firebase-heartbeat-database",T8=1,Us="firebase-heartbeat-store";let xl=null;function iv(){return xl||(xl=xE(E8,T8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(t=>{throw On.create("idb-open",{originalErrorMessage:t.message})})),xl}async function S8(t){try{const n=(await iv()).transaction(Us),r=await n.objectStore(Us).get(sv(t));return await n.done,r}catch(e){if(e instanceof Ei)mr.warn(e.message);else{const n=On.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function rm(t,e){try{const r=(await iv()).transaction(Us,"readwrite");await r.objectStore(Us).put(e,sv(t)),await r.done}catch(n){if(n instanceof Ei)mr.warn(n.message);else{const r=On.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=1024,C8=30*24*60*60*1e3;class A8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=im();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=C8}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=im(),{heartbeatsToSend:r,unsentEntries:i}=I8(this._heartbeatsCache.heartbeats),s=Oa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function im(){return new Date().toISOString().substring(0,10)}function I8(t,e=k8){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),sm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sm(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){xa(new Bs("platform-logger",e=>new zE(e),"PRIVATE")),xa(new Bs("heartbeat",e=>new A8(e),"PRIVATE")),Zr(Dc,tm,t),Zr(Dc,tm,"esm2017"),Zr("fire-js","")}b8("");var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,ov;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,g){function v(){}v.prototype=g.prototype,m.D=g.prototype,m.prototype=new v,m.prototype.constructor=m,m.C=function(y,E,b){for(var T=Array(arguments.length-2),j=2;j<arguments.length;j++)T[j-2]=arguments[j];return g.prototype[E].apply(y,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(m,g,v){v||(v=0);var y=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)y[E]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(E=0;16>E;++E)y[E]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=m.g[0],v=m.g[1],E=m.g[2];var b=m.g[3],T=g+(b^v&(E^b))+y[0]+3614090360&4294967295;g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[1]+3905402710&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[2]+606105819&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[3]+3250441966&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[4]+4118548399&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[5]+1200080426&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[6]+2821735955&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[7]+4249261313&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[8]+1770035416&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[9]+2336552879&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[10]+4294925233&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[11]+2304563134&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(b^v&(E^b))+y[12]+1804603682&4294967295,g=v+(T<<7&4294967295|T>>>25),T=b+(E^g&(v^E))+y[13]+4254626195&4294967295,b=g+(T<<12&4294967295|T>>>20),T=E+(v^b&(g^v))+y[14]+2792965006&4294967295,E=b+(T<<17&4294967295|T>>>15),T=v+(g^E&(b^g))+y[15]+1236535329&4294967295,v=E+(T<<22&4294967295|T>>>10),T=g+(E^b&(v^E))+y[1]+4129170786&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[6]+3225465664&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[11]+643717713&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[0]+3921069994&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[5]+3593408605&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[10]+38016083&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[15]+3634488961&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[4]+3889429448&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[9]+568446438&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[14]+3275163606&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[3]+4107603335&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[8]+1163531501&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(E^b&(v^E))+y[13]+2850285829&4294967295,g=v+(T<<5&4294967295|T>>>27),T=b+(v^E&(g^v))+y[2]+4243563512&4294967295,b=g+(T<<9&4294967295|T>>>23),T=E+(g^v&(b^g))+y[7]+1735328473&4294967295,E=b+(T<<14&4294967295|T>>>18),T=v+(b^g&(E^b))+y[12]+2368359562&4294967295,v=E+(T<<20&4294967295|T>>>12),T=g+(v^E^b)+y[5]+4294588738&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[8]+2272392833&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[11]+1839030562&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[14]+4259657740&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[1]+2763975236&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[4]+1272893353&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[7]+4139469664&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[10]+3200236656&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[13]+681279174&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[0]+3936430074&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[3]+3572445317&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[6]+76029189&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(v^E^b)+y[9]+3654602809&4294967295,g=v+(T<<4&4294967295|T>>>28),T=b+(g^v^E)+y[12]+3873151461&4294967295,b=g+(T<<11&4294967295|T>>>21),T=E+(b^g^v)+y[15]+530742520&4294967295,E=b+(T<<16&4294967295|T>>>16),T=v+(E^b^g)+y[2]+3299628645&4294967295,v=E+(T<<23&4294967295|T>>>9),T=g+(E^(v|~b))+y[0]+4096336452&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[7]+1126891415&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[14]+2878612391&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[5]+4237533241&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[12]+1700485571&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[3]+2399980690&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[10]+4293915773&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[1]+2240044497&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[8]+1873313359&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[15]+4264355552&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[6]+2734768916&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[13]+1309151649&4294967295,v=E+(T<<21&4294967295|T>>>11),T=g+(E^(v|~b))+y[4]+4149444226&4294967295,g=v+(T<<6&4294967295|T>>>26),T=b+(v^(g|~E))+y[11]+3174756917&4294967295,b=g+(T<<10&4294967295|T>>>22),T=E+(g^(b|~v))+y[2]+718787259&4294967295,E=b+(T<<15&4294967295|T>>>17),T=v+(b^(E|~g))+y[9]+3951481745&4294967295,m.g[0]=m.g[0]+g&4294967295,m.g[1]=m.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,m.g[2]=m.g[2]+E&4294967295,m.g[3]=m.g[3]+b&4294967295}r.prototype.u=function(m,g){g===void 0&&(g=m.length);for(var v=g-this.blockSize,y=this.B,E=this.h,b=0;b<g;){if(E==0)for(;b<=v;)i(this,m,b),b+=this.blockSize;if(typeof m=="string"){for(;b<g;)if(y[E++]=m.charCodeAt(b++),E==this.blockSize){i(this,y),E=0;break}}else for(;b<g;)if(y[E++]=m[b++],E==this.blockSize){i(this,y),E=0;break}}this.h=E,this.o+=g},r.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var g=1;g<m.length-8;++g)m[g]=0;var v=8*this.o;for(g=m.length-8;g<m.length;++g)m[g]=v&255,v/=256;for(this.u(m),m=Array(16),g=v=0;4>g;++g)for(var y=0;32>y;y+=8)m[v++]=this.g[g]>>>y&255;return m};function s(m,g){var v=l;return Object.prototype.hasOwnProperty.call(v,m)?v[m]:v[m]=g(m)}function a(m,g){this.h=g;for(var v=[],y=!0,E=m.length-1;0<=E;E--){var b=m[E]|0;y&&b==g||(v[E]=b,y=!1)}this.g=v}var l={};function c(m){return-128<=m&&128>m?s(m,function(g){return new a([g|0],0>g?-1:0)}):new a([m|0],0>m?-1:0)}function f(m){if(isNaN(m)||!isFinite(m))return P;if(0>m)return C(f(-m));for(var g=[],v=1,y=0;m>=v;y++)g[y]=m/v|0,v*=4294967296;return new a(g,0)}function w(m,g){if(m.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(m.charAt(0)=="-")return C(w(m.substring(1),g));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=f(Math.pow(g,8)),y=P,E=0;E<m.length;E+=8){var b=Math.min(8,m.length-E),T=parseInt(m.substring(E,E+b),g);8>b?(b=f(Math.pow(g,b)),y=y.j(b).add(f(T))):(y=y.j(v),y=y.add(f(T)))}return y}var P=c(0),A=c(1),M=c(16777216);t=a.prototype,t.m=function(){if(N(this))return-C(this).m();for(var m=0,g=1,v=0;v<this.g.length;v++){var y=this.i(v);m+=(0<=y?y:4294967296+y)*g,g*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(V(this))return"0";if(N(this))return"-"+C(this).toString(m);for(var g=f(Math.pow(m,6)),v=this,y="";;){var E=u(v,g).g;v=k(v,E.j(g));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(m);if(v=E,V(v))return b+y;for(;6>b.length;)b="0"+b;y=b+y}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function V(m){if(m.h!=0)return!1;for(var g=0;g<m.g.length;g++)if(m.g[g]!=0)return!1;return!0}function N(m){return m.h==-1}t.l=function(m){return m=k(this,m),N(m)?-1:V(m)?0:1};function C(m){for(var g=m.g.length,v=[],y=0;y<g;y++)v[y]=~m.g[y];return new a(v,~m.h).add(A)}t.abs=function(){return N(this)?C(this):this},t.add=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0,E=0;E<=g;E++){var b=y+(this.i(E)&65535)+(m.i(E)&65535),T=(b>>>16)+(this.i(E)>>>16)+(m.i(E)>>>16);y=T>>>16,b&=65535,T&=65535,v[E]=T<<16|b}return new a(v,v[v.length-1]&-2147483648?-1:0)};function k(m,g){return m.add(C(g))}t.j=function(m){if(V(this)||V(m))return P;if(N(this))return N(m)?C(this).j(C(m)):C(C(this).j(m));if(N(m))return C(this.j(C(m)));if(0>this.l(M)&&0>m.l(M))return f(this.m()*m.m());for(var g=this.g.length+m.g.length,v=[],y=0;y<2*g;y++)v[y]=0;for(y=0;y<this.g.length;y++)for(var E=0;E<m.g.length;E++){var b=this.i(y)>>>16,T=this.i(y)&65535,j=m.i(E)>>>16,z=m.i(E)&65535;v[2*y+2*E]+=T*z,I(v,2*y+2*E),v[2*y+2*E+1]+=b*z,I(v,2*y+2*E+1),v[2*y+2*E+1]+=T*j,I(v,2*y+2*E+1),v[2*y+2*E+2]+=b*j,I(v,2*y+2*E+2)}for(y=0;y<g;y++)v[y]=v[2*y+1]<<16|v[2*y];for(y=g;y<2*g;y++)v[y]=0;return new a(v,0)};function I(m,g){for(;(m[g]&65535)!=m[g];)m[g+1]+=m[g]>>>16,m[g]&=65535,g++}function D(m,g){this.g=m,this.h=g}function u(m,g){if(V(g))throw Error("division by zero");if(V(m))return new D(P,P);if(N(m))return g=u(C(m),g),new D(C(g.g),C(g.h));if(N(g))return g=u(m,C(g)),new D(C(g.g),g.h);if(30<m.g.length){if(N(m)||N(g))throw Error("slowDivide_ only works with positive integers.");for(var v=A,y=g;0>=y.l(m);)v=p(v),y=p(y);var E=h(v,1),b=h(y,1);for(y=h(y,2),v=h(v,2);!V(y);){var T=b.add(y);0>=T.l(m)&&(E=E.add(v),b=T),y=h(y,1),v=h(v,1)}return g=k(m,E.j(g)),new D(E,g)}for(E=P;0<=m.l(g);){for(v=Math.max(1,Math.floor(m.m()/g.m())),y=Math.ceil(Math.log(v)/Math.LN2),y=48>=y?1:Math.pow(2,y-48),b=f(v),T=b.j(g);N(T)||0<T.l(m);)v-=y,b=f(v),T=b.j(g);V(b)&&(b=A),E=E.add(b),m=k(m,T)}return new D(E,m)}t.A=function(m){return u(this,m).h},t.and=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)&m.i(y);return new a(v,this.h&m.h)},t.or=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)|m.i(y);return new a(v,this.h|m.h)},t.xor=function(m){for(var g=Math.max(this.g.length,m.g.length),v=[],y=0;y<g;y++)v[y]=this.i(y)^m.i(y);return new a(v,this.h^m.h)};function p(m){for(var g=m.g.length+1,v=[],y=0;y<g;y++)v[y]=m.i(y)<<1|m.i(y-1)>>>31;return new a(v,m.h)}function h(m,g){var v=g>>5;g%=32;for(var y=m.g.length-v,E=[],b=0;b<y;b++)E[b]=0<g?m.i(b+v)>>>g|m.i(b+v+1)<<32-g:m.i(b+v);return new a(E,m.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ov=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=w,cr=a}).apply(typeof om<"u"?om:typeof self<"u"?self:typeof window<"u"?window:{});var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var av,uv,os,lv,aa,Vc,cv,dv,fv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,_){return o==Array.prototype||o==Object.prototype||(o[d]=_.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wo=="object"&&Wo];for(var d=0;d<o.length;++d){var _=o[d];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function i(o,d){if(d)e:{var _=r;o=o.split(".");for(var S=0;S<o.length-1;S++){var O=o[S];if(!(O in _))break e;_=_[O]}o=o[o.length-1],S=_[o],d=d(S),d!=S&&d!=null&&e(_,o,{configurable:!0,writable:!0,value:d})}}function s(o,d){o instanceof String&&(o+="");var _=0,S=!1,O={next:function(){if(!S&&_<o.length){var L=_++;return{value:d(L,o[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(o){return o||function(){return s(this,function(d,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function f(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function w(o,d,_){return o.call.apply(o.bind,arguments)}function P(o,d,_){if(!o)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,S),o.apply(d,O)}}return function(){return o.apply(d,arguments)}}function A(o,d,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:P,A.apply(null,arguments)}function M(o,d){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),o.apply(this,S)}}function V(o,d){function _(){}_.prototype=d.prototype,o.aa=d.prototype,o.prototype=new _,o.prototype.constructor=o,o.Qb=function(S,O,L){for(var K=Array(arguments.length-2),we=2;we<arguments.length;we++)K[we-2]=arguments[we];return d.prototype[O].apply(S,K)}}function N(o){const d=o.length;if(0<d){const _=Array(d);for(let S=0;S<d;S++)_[S]=o[S];return _}return[]}function C(o,d){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(c(S)){const O=o.length||0,L=S.length||0;o.length=O+L;for(let K=0;K<L;K++)o[O+K]=S[K]}else o.push(S)}}class k{constructor(d,_){this.i=d,this.j=_,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function I(o){return/^[\s\xa0]*$/.test(o)}function D(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function u(o){return u[" "](o),o}u[" "]=function(){};var p=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function h(o,d,_){for(const S in o)d.call(_,o[S],S,o)}function m(o,d){for(const _ in o)d.call(void 0,o[_],_,o)}function g(o){const d={};for(const _ in o)d[_]=o[_];return d}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y(o,d){let _,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(_ in S)o[_]=S[_];for(let L=0;L<v.length;L++)_=v[L],Object.prototype.hasOwnProperty.call(S,_)&&(o[_]=S[_])}}function E(o){var d=1;o=o.split(":");const _=[];for(;0<d&&o.length;)_.push(o.shift()),d--;return o.length&&_.push(o.join(":")),_}function b(o){l.setTimeout(()=>{throw o},0)}function T(){var o=Y;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class j{constructor(){this.h=this.g=null}add(d,_){const S=z.get();S.set(d,_),this.h?this.h.next=S:this.g=S,this.h=S}}var z=new k(()=>new R,o=>o.reset());class R{constructor(){this.next=this.g=this.h=null}set(d,_){this.h=d,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,Y=new j,ce=()=>{const o=l.Promise.resolve(void 0);F=()=>{o.then(x)}};var x=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(_){b(_)}var d=z;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}G=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const _=()=>{};l.addEventListener("test",_,d),l.removeEventListener("test",_,d)}catch{}return o}();function se(o,d){if(X.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var _=this.type=o.type,S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(p){e:{try{u(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else _=="mouseover"?d=o.fromElement:_=="mouseout"&&(d=o.toElement);this.relatedTarget=d,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ve[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&se.aa.h.call(this)}}V(se,X);var ve={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),q=0;function B(o,d,_,S,O){this.listener=o,this.proxy=null,this.src=d,this.type=_,this.capture=!!S,this.ha=O,this.key=++q,this.da=this.fa=!1}function W(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ee(o){this.src=o,this.g={},this.h=0}ee.prototype.add=function(o,d,_,S,O){var L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);var K=ye(o,d,S,O);return-1<K?(d=o[K],_||(d.fa=!1)):(d=new B(d,this.src,L,!!S,O),d.fa=_,o.push(d)),d};function ke(o,d){var _=d.type;if(_ in o.g){var S=o.g[_],O=Array.prototype.indexOf.call(S,d,void 0),L;(L=0<=O)&&Array.prototype.splice.call(S,O,1),L&&(W(d),o.g[_].length==0&&(delete o.g[_],o.h--))}}function ye(o,d,_,S){for(var O=0;O<o.length;++O){var L=o[O];if(!L.da&&L.listener==d&&L.capture==!!_&&L.ha==S)return O}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),Vt={};function Gn(o,d,_,S,O){if(S&&S.once)return Cf(o,d,_,S,O);if(Array.isArray(d)){for(var L=0;L<d.length;L++)Gn(o,d[L],_,S,O);return null}return _=Fu(_),o&&o[_e]?o.K(d,_,f(S)?!!S.capture:!!S,O):Qn(o,d,_,!1,S,O)}function Qn(o,d,_,S,O,L){if(!d)throw Error("Invalid event type");var K=f(O)?!!O.capture:!!O,we=xu(o);if(we||(o[Ke]=we=new ee(o)),_=we.add(d,_,S,K,L),_.proxy)return _;if(S=Ry(),_.proxy=S,S.src=o,S.listener=_,o.addEventListener)ae||(O=K),O===void 0&&(O=!1),o.addEventListener(d.toString(),S,O);else if(o.attachEvent)o.attachEvent(If(d.toString()),S);else if(o.addListener&&o.removeListener)o.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ry(){function o(_){return d.call(o.src,o.listener,_)}const d=Dy;return o}function Cf(o,d,_,S,O){if(Array.isArray(d)){for(var L=0;L<d.length;L++)Cf(o,d[L],_,S,O);return null}return _=Fu(_),o&&o[_e]?o.L(d,_,f(S)?!!S.capture:!!S,O):Qn(o,d,_,!0,S,O)}function Af(o,d,_,S,O){if(Array.isArray(d))for(var L=0;L<d.length;L++)Af(o,d[L],_,S,O);else S=f(S)?!!S.capture:!!S,_=Fu(_),o&&o[_e]?(o=o.i,d=String(d).toString(),d in o.g&&(L=o.g[d],_=ye(L,_,S,O),-1<_&&(W(L[_]),Array.prototype.splice.call(L,_,1),L.length==0&&(delete o.g[d],o.h--)))):o&&(o=xu(o))&&(d=o.g[d.toString()],o=-1,d&&(o=ye(d,_,S,O)),(_=-1<o?d[o]:null)&&Lu(_))}function Lu(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[_e])ke(d.i,o);else{var _=o.type,S=o.proxy;d.removeEventListener?d.removeEventListener(_,S,o.capture):d.detachEvent?d.detachEvent(If(_),S):d.addListener&&d.removeListener&&d.removeListener(S),(_=xu(d))?(ke(_,o),_.h==0&&(_.src=null,d[Ke]=null)):W(o)}}}function If(o){return o in Vt?Vt[o]:Vt[o]="on"+o}function Dy(o,d){if(o.da)o=!0;else{d=new se(d,this);var _=o.listener,S=o.ha||o.src;o.fa&&Lu(o),o=_.call(S,d)}return o}function xu(o){return o=o[Ke],o instanceof ee?o:null}var ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(o){return typeof o=="function"?o:(o[ju]||(o[ju]=function(d){return o.handleEvent(d)}),o[ju])}function tt(){Q.call(this),this.i=new ee(this),this.M=this,this.F=null}V(tt,Q),tt.prototype[_e]=!0,tt.prototype.removeEventListener=function(o,d,_,S){Af(this,o,d,_,S)};function ht(o,d){var _,S=o.F;if(S)for(_=[];S;S=S.F)_.push(S);if(o=o.M,S=d.type||d,typeof d=="string")d=new X(d,o);else if(d instanceof X)d.target=d.target||o;else{var O=d;d=new X(S,o),y(d,O)}if(O=!0,_)for(var L=_.length-1;0<=L;L--){var K=d.g=_[L];O=mo(K,S,!0,d)&&O}if(K=d.g=o,O=mo(K,S,!0,d)&&O,O=mo(K,S,!1,d)&&O,_)for(L=0;L<_.length;L++)K=d.g=_[L],O=mo(K,S,!1,d)&&O}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var _=o.g[d],S=0;S<_.length;S++)W(_[S]);delete o.g[d],o.h--}}this.F=null},tt.prototype.K=function(o,d,_,S){return this.i.add(String(o),d,!1,_,S)},tt.prototype.L=function(o,d,_,S){return this.i.add(String(o),d,!0,_,S)};function mo(o,d,_,S){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,L=0;L<d.length;++L){var K=d[L];if(K&&!K.da&&K.capture==_){var we=K.listener,Ge=K.ha||K.src;K.fa&&ke(o.i,K),O=we.call(Ge,S)!==!1&&O}}return O&&!S.defaultPrevented}function Pf(o,d,_){if(typeof o=="function")_&&(o=A(o,_));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(o,d||0)}function bf(o){o.g=Pf(()=>{o.g=null,o.i&&(o.i=!1,bf(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class Ny extends Q{constructor(d,_){super(),this.m=d,this.l=_,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:bf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(o){Q.call(this),this.h=o,this.g={}}V(Ai,Q);var Rf=[];function Df(o){h(o.g,function(d,_){this.g.hasOwnProperty(_)&&Lu(d)},o),o.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Df(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zu=l.JSON.stringify,My=l.JSON.parse,Vy=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Bu(){}Bu.prototype.h=null;function Nf(o){return o.h||(o.h=o.i())}function Mf(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uu(){X.call(this,"d")}V(Uu,X);function $u(){X.call(this,"c")}V($u,X);var Xn={},Vf=null;function go(){return Vf=Vf||new tt}Xn.La="serverreachability";function Of(o){X.call(this,Xn.La,o)}V(Of,X);function Pi(o){const d=go();ht(d,new Of(d))}Xn.STAT_EVENT="statevent";function Lf(o,d){X.call(this,Xn.STAT_EVENT,o),this.stat=d}V(Lf,X);function pt(o){const d=go();ht(d,new Lf(d,o))}Xn.Ma="timingevent";function xf(o,d){X.call(this,Xn.Ma,o),this.size=d}V(xf,X);function bi(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},d)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Oy(o,d,_,S,O,L){o.info(function(){if(o.g)if(L)for(var K="",we=L.split("&"),Ge=0;Ge<we.length;Ge++){var me=we[Ge].split("=");if(1<me.length){var nt=me[0];me=me[1];var rt=nt.split("_");K=2<=rt.length&&rt[1]=="type"?K+(nt+"="+me+"&"):K+(nt+"=redacted&")}}else K=null;else K=L;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+d+`
`+_+`
`+K})}function Ly(o,d,_,S,O,L,K){o.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+d+`
`+_+`
`+L+" "+K})}function Cr(o,d,_,S){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+jy(o,_)+(S?" "+S:"")})}function xy(o,d){o.info(function(){return"TIMEOUT: "+d})}Ri.prototype.info=function(){};function jy(o,d){if(!o.g)return d;if(!d)return null;try{var _=JSON.parse(d);if(_){for(o=0;o<_.length;o++)if(Array.isArray(_[o])){var S=_[o];if(!(2>S.length)){var O=S[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var K=1;K<O.length;K++)O[K]=""}}}}return zu(_)}catch{return d}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hu;function vo(){}V(vo,Bu),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Hu=new vo;function _n(o,d,_,S){this.j=o,this.i=d,this.l=_,this.R=S||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ff}function Ff(){this.i=null,this.g="",this.h=!1}var zf={},qu={};function Wu(o,d,_){o.L=1,o.v=To(nn(d)),o.m=_,o.P=!0,Bf(o,null)}function Bf(o,d){o.F=Date.now(),yo(o),o.A=nn(o.v);var _=o.A,S=o.R;Array.isArray(S)||(S=[String(S)]),th(_.i,"t",S),o.C=0,_=o.j.J,o.h=new Ff,o.g=yh(o.j,_?d:null,!o.m),0<o.O&&(o.M=new Ny(A(o.Y,o,o.g),o.O)),d=o.U,_=o.g,S=o.ca;var O="readystatechange";Array.isArray(O)||(O&&(Rf[0]=O.toString()),O=Rf);for(var L=0;L<O.length;L++){var K=Gn(_,O[L],S||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Pi(),Oy(o.i,o.u,o.A,o.l,o.R,o.m)}_n.prototype.ca=function(o){o=o.target;const d=this.M;d&&rn(o)==3?d.j():this.Y(o)},_n.prototype.Y=function(o){try{if(o==this.g)e:{const rt=rn(this.g);var d=this.g.Ba();const Pr=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||uh(this.g)))){this.J||rt!=4||d==7||(d==8||0>=Pr?Pi(3):Pi(2)),Ku(this);var _=this.g.Z();this.X=_;t:if(Uf(this)){var S=uh(this.g);o="";var O=S.length,L=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yn(this),Di(this);var K="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,o+=this.h.i.decode(S[d],{stream:!(L&&d==O-1)});S.length=0,this.h.g+=o,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=_==200,Ly(this.i,this.u,this.A,this.l,this.R,rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Ge=this.g;if((we=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(we)){var me=we;break t}}me=null}if(_=me)Cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,_);else{this.o=!1,this.s=3,pt(12),Yn(this),Di(this);break e}}if(this.P){_=!0;let Ot;for(;!this.J&&this.C<K.length;)if(Ot=Fy(this,K),Ot==qu){rt==4&&(this.s=4,pt(14),_=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==zf){this.s=4,pt(15),Cr(this.i,this.l,K,"[Invalid Chunk]"),_=!1;break}else Cr(this.i,this.l,Ot,null),Gu(this,Ot);if(Uf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||K.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Cr(this.i,this.l,K,"[Invalid Chunked Response]"),Yn(this),Di(this);else if(0<K.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),el(nt),nt.M=!0,pt(11))}}else Cr(this.i,this.l,K,null),Gu(this,K);rt==4&&Yn(this),this.o&&!this.J&&(rt==4?mh(this.j,this):(this.o=!1,yo(this)))}else n0(this.g),_==400&&0<K.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Yn(this),Di(this)}}}catch{}finally{}};function Uf(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fy(o,d){var _=o.C,S=d.indexOf(`
`,_);return S==-1?qu:(_=Number(d.substring(_,S)),isNaN(_)?zf:(S+=1,S+_>d.length?qu:(d=d.slice(S,S+_),o.C=S+_,d)))}_n.prototype.cancel=function(){this.J=!0,Yn(this)};function yo(o){o.S=Date.now()+o.I,$f(o,o.I)}function $f(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=bi(A(o.ba,o),d)}function Ku(o){o.B&&(l.clearTimeout(o.B),o.B=null)}_n.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(xy(this.i,this.A),this.L!=2&&(Pi(),pt(17)),Yn(this),this.s=2,Di(this)):$f(this,this.S-o)};function Di(o){o.j.G==0||o.J||mh(o.j,o)}function Yn(o){Ku(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,Df(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function Gu(o,d){try{var _=o.j;if(_.G!=0&&(_.g==o||Qu(_.h,o))){if(!o.K&&Qu(_.h,o)&&_.G==3){try{var S=_.Da.g.parse(d)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<o.F)Io(_),Co(_);else break e;Zu(_),pt(18)}}else _.za=O[1],0<_.za-_.T&&37500>O[2]&&_.F&&_.v==0&&!_.C&&(_.C=bi(A(_.Za,_),6e3));if(1>=Wf(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zn(_,11)}else if((o.K||_.g==o)&&Io(_),!I(d))for(O=_.Da.g.parse(d),d=0;d<O.length;d++){let me=O[d];if(_.T=me[0],me=me[1],_.G==2)if(me[0]=="c"){_.K=me[1],_.ia=me[2];const nt=me[3];nt!=null&&(_.la=nt,_.j.info("VER="+_.la));const rt=me[4];rt!=null&&(_.Aa=rt,_.j.info("SVER="+_.Aa));const Pr=me[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ot=o.g;if(Ot){const bo=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bo){var L=S.h;L.g||bo.indexOf("spdy")==-1&&bo.indexOf("quic")==-1&&bo.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Xu(L,L.h),L.h=null))}if(S.D){const tl=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,Ce(S.I,S.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-o.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var K=o;if(S.qa=vh(S,S.J?S.ia:null,S.W),K.K){Kf(S.h,K);var we=K,Ge=S.L;Ge&&(we.I=Ge),we.B&&(Ku(we),yo(we)),S.g=K}else hh(S);0<_.i.length&&Ao(_)}else me[0]!="stop"&&me[0]!="close"||Zn(_,7);else _.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Zn(_,7):Ju(_):me[0]!="noop"&&_.l&&_.l.ta(me),_.v=0)}}Pi(4)}catch{}}var zy=class{constructor(o,d){this.g=o,this.map=d}};function Hf(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qf(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Wf(o){return o.h?1:o.g?o.g.size:0}function Qu(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Xu(o,d){o.g?o.g.add(d):o.h=d}function Kf(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Hf.prototype.cancel=function(){if(this.i=Gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Gf(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const _ of o.g.values())d=d.concat(_.D);return d}return N(o.i)}function By(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var d=[],_=o.length,S=0;S<_;S++)d.push(o[S]);return d}d=[],_=0;for(S in o)d[_++]=o[S];return d}function Uy(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var d=[];o=o.length;for(var _=0;_<o;_++)d.push(_);return d}d=[],_=0;for(const S in o)d[_++]=S;return d}}}function Qf(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var _=Uy(o),S=By(o),O=S.length,L=0;L<O;L++)d.call(void 0,S[L],_&&_[L],o)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(o,d){if(o){o=o.split("&");for(var _=0;_<o.length;_++){var S=o[_].indexOf("="),O=null;if(0<=S){var L=o[_].substring(0,S);O=o[_].substring(S+1)}else L=o[_];d(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Jn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Jn){this.h=o.h,wo(this,o.j),this.o=o.o,this.g=o.g,Eo(this,o.s),this.l=o.l;var d=o.i,_=new Vi;_.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),Yf(this,_),this.m=o.m}else o&&(d=String(o).match(Xf))?(this.h=!1,wo(this,d[1]||"",!0),this.o=Ni(d[2]||""),this.g=Ni(d[3]||"",!0),Eo(this,d[4]),this.l=Ni(d[5]||"",!0),Yf(this,d[6]||"",!0),this.m=Ni(d[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Jn.prototype.toString=function(){var o=[],d=this.j;d&&o.push(Mi(d,Jf,!0),":");var _=this.g;return(_||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Mi(d,Jf,!0),"@"),o.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&o.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&o.push("/"),o.push(Mi(_,_.charAt(0)=="/"?Wy:qy,!0))),(_=this.i.toString())&&o.push("?",_),(_=this.m)&&o.push("#",Mi(_,Gy)),o.join("")};function nn(o){return new Jn(o)}function wo(o,d,_){o.j=_?Ni(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function Eo(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Yf(o,d,_){d instanceof Vi?(o.i=d,Qy(o.i,o.h)):(_||(d=Mi(d,Ky)),o.i=new Vi(d,o.h))}function Ce(o,d,_){o.i.set(d,_)}function To(o){return Ce(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ni(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Mi(o,d,_){return typeof o=="string"?(o=encodeURI(o).replace(d,Hy),_&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Hy(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Jf=/[#\/\?@]/g,qy=/[#\?:]/g,Wy=/[#\?]/g,Ky=/[#\?@]/g,Gy=/#/g;function Vi(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function vn(o){o.g||(o.g=new Map,o.h=0,o.i&&$y(o.i,function(d,_){o.add(decodeURIComponent(d.replace(/\+/g," ")),_)}))}t=Vi.prototype,t.add=function(o,d){vn(this),this.i=null,o=Ar(this,o);var _=this.g.get(o);return _||this.g.set(o,_=[]),_.push(d),this.h+=1,this};function Zf(o,d){vn(o),d=Ar(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function eh(o,d){return vn(o),d=Ar(o,d),o.g.has(d)}t.forEach=function(o,d){vn(this),this.g.forEach(function(_,S){_.forEach(function(O){o.call(d,O,S,this)},this)},this)},t.na=function(){vn(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),_=[];for(let S=0;S<d.length;S++){const O=o[S];for(let L=0;L<O.length;L++)_.push(d[S])}return _},t.V=function(o){vn(this);let d=[];if(typeof o=="string")eh(this,o)&&(d=d.concat(this.g.get(Ar(this,o))));else{o=Array.from(this.g.values());for(let _=0;_<o.length;_++)d=d.concat(o[_])}return d},t.set=function(o,d){return vn(this),this.i=null,o=Ar(this,o),eh(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},t.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function th(o,d,_){Zf(o,d),0<_.length&&(o.i=null,o.g.set(Ar(o,d),N(_)),o.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var _=0;_<d.length;_++){var S=d[_];const L=encodeURIComponent(String(S)),K=this.V(S);for(S=0;S<K.length;S++){var O=L;K[S]!==""&&(O+="="+encodeURIComponent(String(K[S]))),o.push(O)}}return this.i=o.join("&")};function Ar(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function Qy(o,d){d&&!o.j&&(vn(o),o.i=null,o.g.forEach(function(_,S){var O=S.toLowerCase();S!=O&&(Zf(this,S),th(this,O,_))},o)),o.j=d}function Xy(o,d){const _=new Ri;if(l.Image){const S=new Image;S.onload=M(yn,_,"TestLoadImage: loaded",!0,d,S),S.onerror=M(yn,_,"TestLoadImage: error",!1,d,S),S.onabort=M(yn,_,"TestLoadImage: abort",!1,d,S),S.ontimeout=M(yn,_,"TestLoadImage: timeout",!1,d,S),l.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=o}else d(!1)}function Yy(o,d){const _=new Ri,S=new AbortController,O=setTimeout(()=>{S.abort(),yn(_,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:S.signal}).then(L=>{clearTimeout(O),L.ok?yn(_,"TestPingServer: ok",!0,d):yn(_,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),yn(_,"TestPingServer: error",!1,d)})}function yn(o,d,_,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(_)}catch{}}function Jy(){this.g=new Vy}function Zy(o,d,_){const S=_||"";try{Qf(o,function(O,L){let K=O;f(O)&&(K=zu(O)),d.push(S+L+"="+encodeURIComponent(K))})}catch(O){throw d.push(S+"type="+encodeURIComponent("_badmap")),O}}function Oi(o){this.l=o.Ub||null,this.j=o.eb||!1}V(Oi,Bu),Oi.prototype.g=function(){return new So(this.l,this.j)},Oi.prototype.i=function(o){return function(){return o}}({});function So(o,d){tt.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(So,tt),t=So.prototype,t.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,xi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nh(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function nh(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Li(this):xi(this),this.readyState==3&&nh(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,Li(this))},t.Qa=function(o){this.g&&(this.response=o,Li(this))},t.ga=function(){this.g&&Li(this)};function Li(o){o.readyState=4,o.l=null,o.j=null,o.v=null,xi(o)}t.setRequestHeader=function(o,d){this.u.append(o,d)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var _=d.next();!_.done;)_=_.value,o.push(_[0]+": "+_[1]),_=d.next();return o.join(`\r
`)};function xi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function rh(o){let d="";return h(o,function(_,S){d+=S,d+=":",d+=_,d+=`\r
`}),d}function Yu(o,d,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=rh(_),typeof o=="string"?_!=null&&encodeURIComponent(String(_)):Ce(o,d,_))}function De(o){tt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(De,tt);var e0=/^https?$/i,t0=["POST","PUT"];t=De.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,d,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hu.g(),this.v=this.o?Nf(this.o):Nf(Hu),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(L){ih(this,L);return}if(o=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)_.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())_.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(L=>L.toLowerCase()=="content-type"),O=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(t0,d,void 0))||S||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,K]of _)this.g.setRequestHeader(L,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ah(this),this.u=!0,this.g.send(o),this.u=!1}catch(L){ih(this,L)}};function ih(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,sh(o),ko(o)}function sh(o){o.A||(o.A=!0,ht(o,"complete"),ht(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ht(this,"complete"),ht(this,"abort"),ko(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ko(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oh(this):this.bb())},t.bb=function(){oh(this)};function oh(o){if(o.h&&typeof a<"u"&&(!o.v[1]||rn(o)!=4||o.Z()!=2)){if(o.u&&rn(o)==4)Pf(o.Ea,0,o);else if(ht(o,"readystatechange"),rn(o)==4){o.h=!1;try{const K=o.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var _;if(!(_=d)){var S;if(S=K===0){var O=String(o.D).match(Xf)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),S=!e0.test(O?O.toLowerCase():"")}_=S}if(_)ht(o,"complete"),ht(o,"success");else{o.m=6;try{var L=2<rn(o)?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.Z()+"]",sh(o)}}finally{ko(o)}}}}function ko(o,d){if(o.g){ah(o);const _=o.g,S=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||ht(o,"ready");try{_.onreadystatechange=S}catch{}}}function ah(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function rn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),My(d)}};function uh(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function n0(o){const d={};o=(o.g&&2<=rn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<o.length;S++){if(I(o[S]))continue;var _=E(o[S]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const L=d[O]||[];d[O]=L,L.push(_)}m(d,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(o,d,_){return _&&_.internalChannelParams&&_.internalChannelParams[o]||d}function lh(o){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ji("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ji("baseRetryDelayMs",5e3,o),this.cb=ji("retryDelaySeedMs",1e4,o),this.Wa=ji("forwardChannelMaxRetries",2,o),this.wa=ji("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Hf(o&&o.concurrentRequestLimit),this.Da=new Jy,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lh.prototype,t.la=8,t.G=1,t.connect=function(o,d,_,S){pt(0),this.W=o,this.H=d||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=vh(this,null,this.W),Ao(this)};function Ju(o){if(ch(o),o.G==3){var d=o.U++,_=nn(o.I);if(Ce(_,"SID",o.K),Ce(_,"RID",d),Ce(_,"TYPE","terminate"),Fi(o,_),d=new _n(o,o.j,d),d.L=2,d.v=To(nn(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!_&&l.Image&&(new Image().src=d.v,_=!0),_||(d.g=yh(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yo(d)}_h(o)}function Co(o){o.g&&(el(o),o.g.cancel(),o.g=null)}function ch(o){Co(o),o.u&&(l.clearTimeout(o.u),o.u=null),Io(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Ao(o){if(!qf(o.h)&&!o.s){o.s=!0;var d=o.Ga;F||ce(),G||(F(),G=!0),Y.add(d,o),o.B=0}}function r0(o,d){return Wf(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=bi(A(o.Ga,o,d),gh(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const O=new _n(this,this.j,o);let L=this.o;if(this.S&&(L?(L=g(L),y(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var d=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(d+=S,4096<d){d=_;break e}if(d===4096||_===this.i.length-1){d=_+1;break e}}d=1e3}else d=1e3;d=fh(this,O,d),_=nn(this.I),Ce(_,"RID",o),Ce(_,"CVER",22),this.D&&Ce(_,"X-HTTP-Session-Id",this.D),Fi(this,_),L&&(this.O?d="headers="+encodeURIComponent(String(rh(L)))+"&"+d:this.m&&Yu(_,this.m,L)),Xu(this.h,O),this.Ua&&Ce(_,"TYPE","init"),this.P?(Ce(_,"$req",d),Ce(_,"SID","null"),O.T=!0,Wu(O,_,null)):Wu(O,_,d),this.G=2}}else this.G==3&&(o?dh(this,o):this.i.length==0||qf(this.h)||dh(this))};function dh(o,d){var _;d?_=d.l:_=o.U++;const S=nn(o.I);Ce(S,"SID",o.K),Ce(S,"RID",_),Ce(S,"AID",o.T),Fi(o,S),o.m&&o.o&&Yu(S,o.m,o.o),_=new _n(o,o.j,_,o.B+1),o.m===null&&(_.H=o.o),d&&(o.i=d.D.concat(o.i)),d=fh(o,_,1e3),_.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Xu(o.h,_),Wu(_,S,d)}function Fi(o,d){o.H&&h(o.H,function(_,S){Ce(d,S,_)}),o.l&&Qf({},function(_,S){Ce(d,S,_)})}function fh(o,d,_){_=Math.min(o.i.length,_);var S=o.l?A(o.l.Na,o.l,o):null;e:{var O=o.i;let L=-1;for(;;){const K=["count="+_];L==-1?0<_?(L=O[0].g,K.push("ofs="+L)):L=0:K.push("ofs="+L);let we=!0;for(let Ge=0;Ge<_;Ge++){let me=O[Ge].g;const nt=O[Ge].map;if(me-=L,0>me)L=Math.max(0,O[Ge].g-100),we=!1;else try{Zy(nt,K,"req"+me+"_")}catch{S&&S(nt)}}if(we){S=K.join("&");break e}}}return o=o.i.splice(0,_),d.D=o,S}function hh(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;F||ce(),G||(F(),G=!0),Y.add(d,o),o.v=0}}function Zu(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=bi(A(o.Fa,o),gh(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,ph(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=bi(A(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Co(this),ph(this))};function el(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function ph(o){o.g=new _n(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=nn(o.qa);Ce(d,"RID","rpc"),Ce(d,"SID",o.K),Ce(d,"AID",o.T),Ce(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ce(d,"TO",o.ja),Ce(d,"TYPE","xmlhttp"),Fi(o,d),o.m&&o.o&&Yu(d,o.m,o.o),o.L&&(o.g.I=o.L);var _=o.g;o=o.ia,_.L=1,_.v=To(nn(d)),_.m=null,_.P=!0,Bf(_,o)}t.Za=function(){this.C!=null&&(this.C=null,Co(this),Zu(this),pt(19))};function Io(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function mh(o,d){var _=null;if(o.g==d){Io(o),el(o),o.g=null;var S=2}else if(Qu(o.h,d))_=d.D,Kf(o.h,d),S=1;else return;if(o.G!=0){if(d.o)if(S==1){_=d.m?d.m.length:0,d=Date.now()-d.F;var O=o.B;S=go(),ht(S,new xf(S,_)),Ao(o)}else hh(o);else if(O=d.s,O==3||O==0&&0<d.X||!(S==1&&r0(o,d)||S==2&&Zu(o)))switch(_&&0<_.length&&(d=o.h,d.i=d.i.concat(_)),O){case 1:Zn(o,5);break;case 4:Zn(o,10);break;case 3:Zn(o,6);break;default:Zn(o,2)}}}function gh(o,d){let _=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(_*=2),_*d}function Zn(o,d){if(o.j.info("Error code "+d),d==2){var _=A(o.fb,o),S=o.Xa;const O=!S;S=new Jn(S||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||wo(S,"https"),To(S),O?Xy(S.toString(),_):Yy(S.toString(),_)}else pt(2);o.G=0,o.l&&o.l.sa(d),_h(o),ch(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function _h(o){if(o.G=0,o.ka=[],o.l){const d=Gf(o.h);(d.length!=0||o.i.length!=0)&&(C(o.ka,d),C(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function vh(o,d,_){var S=_ instanceof Jn?nn(_):new Jn(_);if(S.g!="")d&&(S.g=d+"."+S.g),Eo(S,S.s);else{var O=l.location;S=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var L=new Jn(null);S&&wo(L,S),d&&(L.g=d),O&&Eo(L,O),_&&(L.l=_),S=L}return _=o.D,d=o.ya,_&&d&&Ce(S,_,d),Ce(S,"VER",o.la),Fi(o,S),S}function yh(o,d,_){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new De(new Oi({eb:_})):new De(o.pa),d.Ha(o.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}t=wh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(o,d){return new Et(o,d)};function Et(o,d){tt.call(this),this.g=new lh(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!I(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!I(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new Ir(this)}V(Et,tt),Et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Et.prototype.close=function(){Ju(this.g)},Et.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var _={};_.__data__=o,o=_}else this.u&&(_={},_.__data__=zu(o),o=_);d.i.push(new zy(d.Ya++,o)),d.G==3&&Ao(d)},Et.prototype.N=function(){this.g.l=null,delete this.j,Ju(this.g),delete this.g,Et.aa.N.call(this)};function Eh(o){Uu.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){e:{for(const _ in d){o=_;break e}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}V(Eh,Uu);function Th(){$u.call(this),this.status=1}V(Th,$u);function Ir(o){this.g=o}V(Ir,wh),Ir.prototype.ua=function(){ht(this.g,"a")},Ir.prototype.ta=function(o){ht(this.g,new Eh(o))},Ir.prototype.sa=function(o){ht(this.g,new Th)},Ir.prototype.ra=function(){ht(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Et.prototype.send=Et.prototype.o,Et.prototype.open=Et.prototype.m,Et.prototype.close=Et.prototype.close,fv=function(){return new Po},dv=function(){return go()},cv=Xn,Vc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,aa=_o,jf.COMPLETE="complete",lv=jf,Mf.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",tt.prototype.listen=tt.prototype.K,os=Mf,uv=Oi,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,av=De}).apply(typeof Wo<"u"?Wo:typeof self<"u"?self:typeof window<"u"?window:{});const am="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ti="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new ev("@firebase/firestore");function es(){return gr.logLevel}function Z(t,...e){if(gr.logLevel<=he.DEBUG){const n=e.map(Xd);gr.debug(`Firestore (${Ti}): ${t}`,...n)}}function hn(t,...e){if(gr.logLevel<=he.ERROR){const n=e.map(Xd);gr.error(`Firestore (${Ti}): ${t}`,...n)}}function oi(t,...e){if(gr.logLevel<=he.WARN){const n=e.map(Xd);gr.warn(`Firestore (${Ti}): ${t}`,...n)}}function Xd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ti}) INTERNAL ASSERTION FAILED: `+t;throw hn(e),new Error(e)}function Se(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class D8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N8{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new hv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new at(e)}}class M8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new M8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new O8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=x8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function ai(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new $e(0,0))}static max(){return new oe(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $s.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends $s{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const j8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends $s{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return j8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new te($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new te($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new te($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Pe.fromString(e))}static fromName(e){return new ne(Pe.fromString(e).popFirst(5))}static empty(){return new ne(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Pe(e.slice()))}}function F8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new $n(i,ne.empty(),e)}function z8(t){return new $n(t.readTime,t.key,-1)}class $n{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $n(oe.min(),ne.empty(),-1)}static max(){return new $n(oe.max(),ne.empty(),-1)}}function B8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==U8)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(w=>{a[f]=w,++l,l===s&&r(a)},w=>i(w))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function H8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yd.oe=-1;function ku(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function q8(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ko(this.root,e,this.comparator,!0)}}class Ko{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=i??Xe.EMPTY,this.right=s??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Xe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lm(this.data.getIterator())}getIteratorFrom(e){return new lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ze(this.comparator);return n.data=e,n}}class lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new $t([])}unionWith(e){let n=new Ze(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ai(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gv("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const W8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(t){if(Se(!!t),typeof t=="string"){let e=0;const n=W8.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zd(t){const e=t.mapValue.fields.__previous_value__;return Jd(e)?Zd(e):e}function Hs(t){const e=Hn(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n,r,i,s,a,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f}}class qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new qs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jd(t)?4:G8(t)?9007199254740991:10:ie()}function Zt(t,e){if(t===e)return!0;const n=vr(t);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hs(t).isEqual(Hs(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Hn(i.timestampValue),l=Hn(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return _r(i.bytesValue).isEqual(_r(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=xe(i.doubleValue),l=xe(s.doubleValue);return a===l?ja(a)===ja(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ai(t.arrayValue.values||[],e.arrayValue.values||[],Zt);case 10:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(um(a)!==um(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Zt(a[c],l[c])))return!1;return!0}(t,e);default:return ie()}}function Ws(t,e){return(t.values||[]).find(n=>Zt(n,e))!==void 0}function ui(t,e){if(t===e)return 0;const n=vr(t),r=vr(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=xe(s.integerValue||s.doubleValue),c=xe(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return cm(t.timestampValue,e.timestampValue);case 4:return cm(Hs(t),Hs(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(s,a){const l=_r(s),c=_r(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let f=0;f<l.length&&f<c.length;f++){const w=ge(l[f],c[f]);if(w!==0)return w}return ge(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ge(xe(s.latitude),xe(a.latitude));return l!==0?l:ge(xe(s.longitude),xe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,a){const l=s.values||[],c=a.values||[];for(let f=0;f<l.length&&f<c.length;++f){const w=ui(l[f],c[f]);if(w)return w}return ge(l.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Go.mapValue&&a===Go.mapValue)return 0;if(s===Go.mapValue)return 1;if(a===Go.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),f=a.fields||{},w=Object.keys(f);c.sort(),w.sort();for(let P=0;P<c.length&&P<w.length;++P){const A=ge(c[P],w[P]);if(A!==0)return A;const M=ui(l[c[P]],f[w[P]]);if(M!==0)return M}return ge(c.length,w.length)}(t.mapValue,e.mapValue);default:throw ie()}}function cm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Hn(t),r=Hn(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function li(t){return Oc(t)}function Oc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Oc(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Oc(n.fields[a])}`;return i+"}"}(t.mapValue):ie()}function Lc(t){return!!t&&"integerValue"in t}function ef(t){return!!t&&"arrayValue"in t}function dm(t){return!!t&&"nullValue"in t}function fm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ua(t){return!!t&&"mapValue"in t}function Ts(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ts(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ts(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ua(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ts(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Ts(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ua(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ua(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(Ts(this.value))}}function _v(t){const e=[];return Si(t.fields,(n,r)=>{const i=new Je([n]);if(ua(r)){const s=_v(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ut(e,0,oe.min(),oe.min(),oe.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ut(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new ut(e,2,n,oe.min(),oe.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,oe.min(),oe.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function hm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=ui(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Be extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y8(e,n,r):n==="array-contains"?new e2(e,r):n==="in"?new t2(e,r):n==="not-in"?new n2(e,r):n==="array-contains-any"?new r2(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new J8(e,r):new Z8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ui(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class en extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new en(e,n)}matches(e){return yv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function yv(t){return t.op==="and"}function wv(t){return X8(t)&&yv(t)}function X8(t){for(const e of t.filters)if(e instanceof en)return!1;return!0}function xc(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+li(t.value);if(wv(t))return t.filters.map(e=>xc(e)).join(",");{const e=t.filters.map(n=>xc(n)).join(",");return`${t.op}(${e})`}}function Ev(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&Zt(r.value,i.value)}(t,e):t instanceof en?function(r,i){return i instanceof en&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&Ev(a,i.filters[l]),!0):!1}(t,e):void ie()}function Tv(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${li(n.value)}`}(t):t instanceof en?function(n){return n.op.toString()+" {"+n.getFilters().map(Tv).join(" ,")+"}"}(t):"Filter"}class Y8 extends Be{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class J8 extends Be{constructor(e,n){super(e,"in",n),this.keys=Sv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z8 extends Be{constructor(e,n){super(e,"not-in",n),this.keys=Sv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class e2 extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ef(n)&&Ws(n.arrayValue,this.value)}}class t2 extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ws(this.value.arrayValue,n)}}class n2 extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ws(this.value.arrayValue,n)}}class r2 extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ws(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function mm(t,e=null,n=[],r=[],i=null,s=null,a=null){return new i2(t,e,n,r,i,s,a)}function tf(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>li(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>li(r)).join(",")),e.ue=n}return e.ue}function nf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ev(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pm(t.startAt,e.startAt)&&pm(t.endAt,e.endAt)}function jc(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function s2(t,e,n,r,i,s,a,l){return new Cu(t,e,n,r,i,s,a,l)}function rf(t){return new Cu(t)}function gm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function o2(t){return t.collectionGroup!==null}function Ss(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Ze(Je.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new za(s,r))}),n.has(Je.keyField().canonicalString())||e.ce.push(new za(Je.keyField(),r))}return e.ce}function Yt(t){const e=le(t);return e.le||(e.le=a2(e,Ss(t))),e.le}function a2(t,e){if(t.limitType==="F")return mm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new za(i.field,s)});const n=t.endAt?new Fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fa(t.startAt.position,t.startAt.inclusive):null;return mm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fc(t,e,n){return new Cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return nf(Yt(t),Yt(e))&&t.limitType===e.limitType}function kv(t){return`${tf(Yt(t))}|lt:${t.limitType}`}function Nr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Tv(i)).join(", ")}]`),ku(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>li(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>li(i)).join(",")),`Target(${r})`}(Yt(t))}; limitType=${t.limitType})`}function Iu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ss(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const f=hm(a,l,c);return a.inclusive?f<=0:f<0}(r.startAt,Ss(r),i)||r.endAt&&!function(a,l,c){const f=hm(a,l,c);return a.inclusive?f>=0:f>0}(r.endAt,Ss(r),i))}(t,e)}function u2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Cv(t){return(e,n)=>{let r=!1;for(const i of Ss(t)){const s=l2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function l2(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),f=l.data.field(s);return c!==null&&f!==null?ui(c,f):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Re(ne.comparator);function pn(){return c2}const Av=new Re(ne.comparator);function as(...t){let e=Av;for(const n of t)e=e.insert(n.key,n);return e}function Iv(t){let e=Av;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ur(){return ks()}function Pv(){return ks()}function ks(){return new ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const d2=new Re(ne.comparator),f2=new Ze(ne.comparator);function de(...t){let e=f2;for(const n of t)e=e.add(n);return e}const h2=new Ze(ge);function p2(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function Rv(t){return{integerValue:""+t}}function m2(t,e){return q8(e)?Rv(e):bv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this._=void 0}}function g2(t,e,n){return t instanceof Ba?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jd(s)&&(s=Zd(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Ks?Nv(t,e):t instanceof Gs?Mv(t,e):function(i,s){const a=Dv(i,s),l=_m(a)+_m(i.Pe);return Lc(a)&&Lc(i.Pe)?Rv(l):bv(i.serializer,l)}(t,e)}function _2(t,e,n){return t instanceof Ks?Nv(t,e):t instanceof Gs?Mv(t,e):n}function Dv(t,e){return t instanceof Ua?function(r){return Lc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ba extends Pu{}class Ks extends Pu{constructor(e){super(),this.elements=e}}function Nv(t,e){const n=Vv(e);for(const r of t.elements)n.some(i=>Zt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gs extends Pu{constructor(e){super(),this.elements=e}}function Mv(t,e){let n=Vv(e);for(const r of t.elements)n=n.filter(i=>!Zt(i,r));return{arrayValue:{values:n}}}class Ua extends Pu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _m(t){return xe(t.integerValue||t.doubleValue)}function Vv(t){return ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function v2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ks&&i instanceof Ks||r instanceof Gs&&i instanceof Gs?ai(r.elements,i.elements,Zt):r instanceof Ua&&i instanceof Ua?Zt(r.Pe,i.Pe):r instanceof Ba&&i instanceof Ba}(t.transform,e.transform)}class y2{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function la(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bu{}function Ov(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sf(t.key,Ht.none()):new co(t.key,t.data,Ht.none());{const n=t.data,r=bt.empty();let i=new Ze(Je.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Sr(t.key,r,new $t(i.toArray()),Ht.none())}}function w2(t,e,n){t instanceof co?function(i,s,a){const l=i.value.clone(),c=ym(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(i,s,a){if(!la(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=ym(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Lv(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Cs(t,e,n,r){return t instanceof co?function(s,a,l,c){if(!la(s.precondition,a))return l;const f=s.value.clone(),w=wm(s.fieldTransforms,c,a);return f.setAll(w),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sr?function(s,a,l,c){if(!la(s.precondition,a))return l;const f=wm(s.fieldTransforms,c,a),w=a.data;return w.setAll(Lv(s)),w.setAll(f),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(P=>P.field))}(t,e,n,r):function(s,a,l){return la(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function E2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Dv(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function vm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ai(r,i,(s,a)=>v2(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class co extends bu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends bu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Lv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ym(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,_2(a,l,n[i]))}return r}function wm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,g2(s,a,e))}return r}class sf extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T2 extends bu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&w2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Pv();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=Ov(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&ai(this.mutations,e.mutations,(n,r)=>vm(n,r))&&ai(this.baseMutations,e.baseMutations,(n,r)=>vm(n,r))}}class of{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return d2}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new of(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,fe;function A2(t){switch(t){default:return ie();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function xv(t){if(t===void 0)return hn("GRPC error has no .code"),$.UNKNOWN;switch(t){case Le.OK:return $.OK;case Le.CANCELLED:return $.CANCELLED;case Le.UNKNOWN:return $.UNKNOWN;case Le.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Le.INTERNAL:return $.INTERNAL;case Le.UNAVAILABLE:return $.UNAVAILABLE;case Le.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Le.NOT_FOUND:return $.NOT_FOUND;case Le.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Le.ABORTED:return $.ABORTED;case Le.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Le.DATA_LOSS:return $.DATA_LOSS;default:return ie()}}(fe=Le||(Le={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new cr([4294967295,4294967295],0);function Em(t){const e=I2().encode(t),n=new ov;return n.update(e),new Uint8Array(n.digest())}function Tm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,r],0),new cr([i,s],0)]}class af{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new us(`Invalid padding: ${n}`);if(r<0)throw new us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new us(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new us(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cr.fromNumber(r)));return i.compare(P2)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Em(e),[r,i]=Tm(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new af(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Em(e),[r,i]=Tm(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class us extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ru(oe.min(),i,new Re(ge),pn(),de())}}class fo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fo(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jv{constructor(e,n){this.targetId=e,this.me=n}}class Fv{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Sm{constructor(){this.fe=0,this.ge=Cm(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=de(),n=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new fo(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Cm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class b2{constructor(e){this.Le=e,this.Be=new Map,this.ke=pn(),this.qe=km(),this.Qe=new Re(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(jc(s))if(r===0){const a=new ne(s.path);this.Ue(n,a,ut.newNoDocument(a,oe.min()))}else Se(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=_r(r).toUint8Array()}catch(c){if(c instanceof gv)return oi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new af(a,i,s)}catch(c){return oi(c instanceof us?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&jc(l.target)){const c=new ne(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,ut.newNoDocument(c,e))}s.be&&(n.set(a,s.Ce()),s.ve())}});let r=de();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Ru(e,n,this.Qe,this.ke,r);return this.ke=pn(),this.qe=km(),this.Qe=new Re(ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Sm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ze(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function km(){return new Re(ne.comparator)}function Cm(){return new Re(ne.comparator)}const R2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),D2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),N2=(()=>({and:"AND",or:"OR"}))();class M2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zc(t,e){return t.useProto3Json||ku(e)?e:{value:e}}function $a(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V2(t,e){return $a(t,e.toTimestamp())}function Jt(t){return Se(!!t),oe.fromTimestamp(function(n){const r=Hn(n);return new $e(r.seconds,r.nanos)}(t))}function uf(t,e){return Bc(t,e).canonicalString()}function Bc(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Bv(t){const e=Pe.fromString(t);return Se(Wv(e)),e}function Uc(t,e){return uf(t.databaseId,e.path)}function jl(t,e){const n=Bv(e);if(n.get(1)!==t.databaseId.projectId)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne($v(n))}function Uv(t,e){return uf(t.databaseId,e)}function O2(t){const e=Bv(t);return e.length===4?Pe.emptyPath():$v(e)}function $c(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $v(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Am(t,e,n){return{name:Uc(t,e),fields:n.value.mapValue.fields}}function L2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,w){return f.useProto3Json?(Se(w===void 0||typeof w=="string"),ft.fromBase64String(w||"")):(Se(w===void 0||w instanceof Buffer||w instanceof Uint8Array),ft.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const w=f.code===void 0?$.UNKNOWN:xv(f.code);return new te(w,f.message||"")}(a);n=new Fv(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jl(t,r.document.name),s=Jt(r.document.updateTime),a=r.document.createTime?Jt(r.document.createTime):oe.min(),l=new bt({mapValue:{fields:r.document.fields}}),c=ut.newFoundDocument(i,s,a,l),f=r.targetIds||[],w=r.removedTargetIds||[];n=new ca(f,w,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jl(t,r.document),s=r.readTime?Jt(r.readTime):oe.min(),a=ut.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ca([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jl(t,r.document),s=r.removedTargetIds||[];n=new ca([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new C2(i,s),l=r.targetId;n=new jv(l,a)}}return n}function x2(t,e){let n;if(e instanceof co)n={update:Am(t,e.key,e.value)};else if(e instanceof sf)n={delete:Uc(t,e.key)};else if(e instanceof Sr)n={update:Am(t,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof T2))return ie();n={verify:Uc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Ba)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ks)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ua)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:V2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function j2(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?Jt(i.updateTime):Jt(s);return a.isEqual(oe.min())&&(a=Jt(s)),new y2(a,i.transformResults||[])}(n,e))):[]}function F2(t,e){return{documents:[Uv(t,e.path)]}}function z2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Uv(t,i);const s=function(f){if(f.length!==0)return qv(en.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(w=>function(A){return{field:Mr(A.field),direction:$2(A.dir)}}(w))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=zc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function B2(t){let e=O2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const w=n.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];n.where&&(s=function(P){const A=Hv(P);return A instanceof en&&wv(A)?A.getFilters():[A]}(n.where));let a=[];n.orderBy&&(a=function(P){return P.map(A=>function(V){return new za(Vr(V.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(n.orderBy));let l=null;n.limit&&(l=function(P){let A;return A=typeof P=="object"?P.value:P,ku(A)?null:A}(n.limit));let c=null;n.startAt&&(c=function(P){const A=!!P.before,M=P.values||[];return new Fa(M,A)}(n.startAt));let f=null;return n.endAt&&(f=function(P){const A=!P.before,M=P.values||[];return new Fa(M,A)}(n.endAt)),s2(e,i,a,s,l,"F",c,f)}function U2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vr(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vr(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vr(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Vr(n.unaryFilter.field);return Be.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Vr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return en.create(n.compositeFilter.filters.map(r=>Hv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function $2(t){return R2[t]}function H2(t){return D2[t]}function q2(t){return N2[t]}function Mr(t){return{fieldPath:t.canonicalString()}}function Vr(t){return Je.fromServerFormat(t.fieldPath)}function qv(t){return t instanceof Be?function(n){if(n.op==="=="){if(fm(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NAN"}};if(dm(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fm(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NAN"}};if(dm(n.value))return{unaryFilter:{field:Mr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(n.field),op:H2(n.op),value:n.value}}}(t):t instanceof en?function(n){const r=n.getFilters().map(i=>qv(i));return r.length===1?r[0]:{compositeFilter:{op:q2(n.op),filters:r}}}(t):ie()}function W2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,i,s=oe.min(),a=oe.min(),l=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Cn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.ct=e}}function G2(t){const e=B2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._n=new X2}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve($n.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve($n.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class X2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ze(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ci(0)}static Ln(){return new ci(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.changes=new ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Cs(r.mutation,i,$t.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=as();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=pn();const a=ks(),l=function(){return ks()}();return n.forEach((c,f)=>{const w=r.get(f.key);i.has(f.key)&&(w===void 0||w.mutation instanceof Sr)?s=s.insert(f.key,f):w!==void 0?(a.set(f.key,w.mutation.getFieldMask()),Cs(w.mutation,f,w.mutation.getFieldMask(),$e.now())):a.set(f.key,$t.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,w)=>a.set(f,w)),n.forEach((f,w)=>{var P;return l.set(f,new J2(w,(P=a.get(f))!==null&&P!==void 0?P:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ks();let i=new Re((a,l)=>a-l),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let w=r.get(c)||$t.empty();w=l.applyToLocalView(f,w),r.set(c,w);const P=(i.get(l.batchId)||de()).add(c);i=i.insert(l.batchId,P)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,w=c.value,P=Pv();w.forEach(A=>{if(!s.has(A)){const M=Ov(n.get(A),r.get(A));M!==null&&P.set(A,M),s=s.add(A)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,P))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ur());let l=-1,c=s;return a.next(f=>U.forEach(f,(w,P)=>(l<P.largestBatchId&&(l=P.largestBatchId),s.get(w)?U.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{c=c.insert(w,A)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,de())).next(w=>({batchId:l,changes:Iv(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=as();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=as();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const f=function(P,A){return new Cu(A,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(w=>{w.forEach((P,A)=>{a=a.insert(P,A)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const w=f.getKey();a.get(w)===null&&(a=a.insert(w,ut.newInvalidDocument(w)))});let l=as();return a.forEach((c,f)=>{const w=s.get(c);w!==void 0&&Cs(w.mutation,f,$t.empty(),$e.now()),Iu(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jt(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:G2(i.bundledQuery),readTime:Jt(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.overlays=new Re(ne.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ur();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ur(),s=n.length+1,a=new ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((f,w)=>f-w);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let w=s.get(f.largestBatchId);w===null&&(w=ur(),s=s.insert(f.largestBatchId,w)),w.set(f.getKey(),f)}}const l=ur(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,w)=>l.set(f,w)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new k2(n,r));let s=this.hr.get(n);s===void 0&&(s=de(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.Pr=new Ze(qe.Ir),this.Tr=new Ze(qe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new qe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Pe([])),r=new qe(n,e),i=new qe(n,e+1),s=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),s.push(a.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Pe([])),r=new qe(n,e),i=new qe(n,e+1);let s=de();return this.Tr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new qe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||ge(e.pr,n.pr)}static Er(e,n){return ge(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ze(qe.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new S2(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new qe(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ze(ge);return n.forEach(i=>{const s=new qe(i,0),a=new qe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const a=new qe(new ne(s),0);let l=new Ze(ge);return this.wr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new qe(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.vr=e,this.docs=function(){return new Re(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ut.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pn();const a=n.path,l=new ne(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:w}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||B8(z8(w),r)<=0||(i.has(w.key)||Iu(n,w))&&(s=s.insert(w.key,w.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iT(this)}getSize(e){return U.resolve(this.size)}}class iT extends Y2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.persistence=e,this.Mr=new ki(n=>tf(n),nf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lf,this.targetCount=0,this.Lr=ci.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ci(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.Br={},this.overlays={},this.kr=new Yd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new sT(this),this.indexManager=new Q2,this.remoteDocumentCache=function(i){return new rT(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new K2(n),this.$r=new eT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nT(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new aT(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class aT extends $8{constructor(e){super(),this.currentSequenceNumber=e}}class cf{constructor(e){this.persistence=e,this.zr=new lf,this.jr=null}static Hr(e){return new cf(e)}get Jr(){if(this.jr)return this.jr;throw ie()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new df(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return mE()?8:H8(hE())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new uT;return this.Ji(e,n,a).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(es()<=he.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Nr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(es()<=he.DEBUG&&Z("QueryEngine","Query:",Nr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(es()<=he.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Nr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yt(n))):U.resolve())}ji(e,n){if(gm(n))return U.resolve(null);let r=Yt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fc(n,null,"F"),r=Yt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=de(...s);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Zi(n,l);return this.Xi(n,f,a,c.readTime)?this.ji(e,Fc(n,null,"F")):this.es(e,f,n,c)}))})))}Hi(e,n,r,i){return gm(n)||i.isEqual(oe.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const a=this.Zi(n,s);return this.Xi(n,a,r,i)?U.resolve(null):(es()<=he.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nr(n)),this.es(e,a,n,F8(i,-1)).next(l=>l))})}Zi(e,n){let r=new Ze(Cv(e));return n.forEach((i,s)=>{Iu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return es()<=he.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Nr(n)),this.zi.getDocumentsMatchingQuery(e,n,$n.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Re(ge),this.rs=new ki(s=>tf(s),nf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function dT(t,e,n,r){return new cT(t,e,n,r)}async function Kv(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=de();for(const f of i){a.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}for(const f of s){l.push(f.batchId);for(const w of f.mutations)c=c.add(w.key)}return n.localDocuments.getDocuments(r,c).next(f=>({us:f,removedBatchIds:a,addedBatchIds:l}))})})}function fT(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,c,f,w){const P=f.batch,A=P.keys();let M=U.resolve();return A.forEach(V=>{M=M.next(()=>w.getEntry(c,V)).next(N=>{const C=f.docVersions.get(V);Se(C!==null),N.version.compareTo(C)<0&&(P.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),w.addEntry(N)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(c,P))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=de();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Gv(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function hT(t,e){const n=le(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((w,P)=>{const A=i.get(P);if(!A)return;l.push(n.Qr.removeMatchingKeys(s,w.removedDocuments,P).next(()=>n.Qr.addMatchingKeys(s,w.addedDocuments,P)));let M=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(P)!==null?M=M.withResumeToken(ft.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,r)),i=i.insert(P,M),function(N,C,k){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(A,M,w)&&l.push(n.Qr.updateTargetData(s,M))});let c=pn(),f=de();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,w))}),l.push(pT(s,a,e.documentUpdates).next(w=>{c=w.cs,f=w.ls})),!r.isEqual(oe.min())){const w=n.Qr.getLastRemoteSnapshotVersion(s).next(P=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(w)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.ns=i,s))}function pT(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=pn();return n.forEach((l,c)=>{const f=s.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{cs:a,ls:i}})}function mT(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gT(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Cn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Hc(t,e,n){const r=le(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!lo(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Im(t,e,n){const r=le(t);let i=oe.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,w){const P=le(c),A=P.rs.get(w);return A!==void 0?U.resolve(P.ns.get(A)):P.Qr.getTargetData(f,w)}(r,a,Yt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:oe.min(),n?s:de())).next(l=>(_T(r,u2(e),l),{documents:l,hs:s})))}function _T(t,e,n){let r=t.ss.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Pm{constructor(){this.activeTargetIds=p2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vT{constructor(){this.no=new Pm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Pm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo=null;function Fl(){return Qo===null?Qo=function(){return 268435456+Math.round(2147483648*Math.random())}():Qo++,"0x"+Qo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st="WebChannelConnection";class TT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,a){const l=Fl(),c=this.vo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,s,a),this.Mo(n,c,f,i).then(w=>(Z("RestConnection",`Received RPC '${n}' ${l}: `,w),w),w=>{throw oi("RestConnection",`RPC '${n}' ${l} failed with error: `,w,"url: ",c,"request:",i),w})}xo(n,r,i,s,a,l){return this.Co(n,r,i,s,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ti}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}vo(n,r){const i=wT[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Fl();return new Promise((a,l)=>{const c=new av;c.setWithCredentials(!0),c.listenOnce(lv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case aa.NO_ERROR:const w=c.getResponseJson();Z(st,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),a(w);break;case aa.TIMEOUT:Z(st,`RPC '${e}' ${s} timed out`),l(new te($.DEADLINE_EXCEEDED,"Request time out"));break;case aa.HTTP_ERROR:const P=c.getStatus();if(Z(st,`RPC '${e}' ${s} failed with status:`,P,"response text:",c.getResponseText()),P>0){let A=c.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const V=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(k)>=0?k:$.UNKNOWN}(M.status);l(new te(V,M.message))}else l(new te($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new te($.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Z(st,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);Z(st,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Oo(e,n,r){const i=Fl(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fv(),l=dv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.xmlHttpFactory=new uv({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const w=s.join("");Z(st,`Creating RPC '${e}' stream ${i}: ${w}`,c);const P=a.createWebChannel(w,c);let A=!1,M=!1;const V=new ET({lo:C=>{M?Z(st,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(A||(Z(st,`Opening RPC '${e}' stream ${i} transport.`),P.open(),A=!0),Z(st,`RPC '${e}' stream ${i} sending:`,C),P.send(C))},ho:()=>P.close()}),N=(C,k,I)=>{C.listen(k,D=>{try{I(D)}catch(u){setTimeout(()=>{throw u},0)}})};return N(P,os.EventType.OPEN,()=>{M||(Z(st,`RPC '${e}' stream ${i} transport opened.`),V.mo())}),N(P,os.EventType.CLOSE,()=>{M||(M=!0,Z(st,`RPC '${e}' stream ${i} transport closed`),V.po())}),N(P,os.EventType.ERROR,C=>{M||(M=!0,oi(st,`RPC '${e}' stream ${i} transport errored:`,C),V.po(new te($.UNAVAILABLE,"The operation could not be completed")))}),N(P,os.EventType.MESSAGE,C=>{var k;if(!M){const I=C.data[0];Se(!!I);const D=I,u=D.error||((k=D[0])===null||k===void 0?void 0:k.error);if(u){Z(st,`RPC '${e}' stream ${i} received error:`,u);const p=u.status;let h=function(v){const y=Le[v];if(y!==void 0)return xv(y)}(p),m=u.message;h===void 0&&(h=$.INTERNAL,m="Unknown error status: "+p+" with message "+u.message),M=!0,V.po(new te(h,m)),P.close()}else Z(st,`RPC '${e}' stream ${i} received:`,I),V.yo(I)}}),N(l,cv.STAT_EVENT,C=>{C.stat===Vc.PROXY?Z(st,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Vc.NOPROXY&&Z(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){return new M2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r,i,s,a,l,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Qv(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new te($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ST extends Xv{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=L2(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?Jt(a.readTime):oe.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=$c(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=jc(c)?{documents:F2(s,c)}:{query:z2(s,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=zv(s,a.resumeToken);const f=zc(s,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(oe.min())>0){l.readTime=$a(s,a.snapshotVersion.toTimestamp());const f=zc(s,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=U2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=$c(this.serializer),n.removeTarget=e,this.i_(n)}}class kT extends Xv{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=j2(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.A_(r,n)}return Se(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=$c(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x2(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Bc(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te($.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,Bc(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te($.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class AT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(hn(n),this.y_=!1):Z("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(a=>{r.enqueueAndForget(async()=>{kr(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=le(c);f.M_.add(4),await ho(f),f.N_.set("Unknown"),f.M_.delete(4),await Nu(f)}(this))})}),this.N_=new AT(r,i)}}async function Nu(t){if(kr(t))for(const e of t.x_)await e(!0)}async function ho(t){for(const e of t.x_)await e(!1)}function Yv(t,e){const n=le(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),mf(n)?pf(n):Ci(n).Xo()&&hf(n,e))}function ff(t,e){const n=le(t),r=Ci(n);n.F_.delete(e),r.Xo()&&Jv(n,e),n.F_.size===0&&(r.Xo()?r.n_():kr(n)&&n.N_.set("Unknown"))}function hf(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ci(t).P_(e)}function Jv(t,e){t.L_.xe(e),Ci(t).I_(e)}function pf(t){t.L_=new b2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ci(t).start(),t.N_.w_()}function mf(t){return kr(t)&&!Ci(t).Zo()&&t.F_.size>0}function kr(t){return le(t).M_.size===0}function Zv(t){t.L_=void 0}async function PT(t){t.N_.set("Online")}async function bT(t){t.F_.forEach((e,n)=>{hf(t,e)})}async function RT(t,e){Zv(t),mf(t)?(t.N_.D_(e),pf(t)):t.N_.set("Unknown")}async function DT(t,e,n){if(t.N_.set("Online"),e instanceof Fv&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ha(t,r)}else if(e instanceof ca?t.L_.Ke(e):e instanceof jv?t.L_.He(e):t.L_.We(e),!n.isEqual(oe.min()))try{const r=await Gv(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.L_.rt(a);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const w=s.F_.get(f);w&&s.F_.set(f,w.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,f)=>{const w=s.F_.get(c);if(!w)return;s.F_.set(c,w.withResumeToken(ft.EMPTY_BYTE_STRING,w.snapshotVersion)),Jv(s,c);const P=new Cn(w.target,c,f,w.sequenceNumber);hf(s,P)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Ha(t,r)}}async function Ha(t,e,n){if(!lo(e))throw e;t.M_.add(1),await ho(t),t.N_.set("Offline"),n||(n=()=>Gv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Nu(t)})}function ey(t,e){return e().catch(n=>Ha(t,n,e))}async function Mu(t){const e=le(t),n=qn(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;NT(e);)try{const i=await mT(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,MT(e,i)}catch(i){await Ha(e,i)}ty(e)&&ny(e)}function NT(t){return kr(t)&&t.v_.length<10}function MT(t,e){t.v_.push(e);const n=qn(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ty(t){return kr(t)&&!qn(t).Zo()&&t.v_.length>0}function ny(t){qn(t).start()}async function VT(t){qn(t).V_()}async function OT(t){const e=qn(t);for(const n of t.v_)e.d_(n.mutations)}async function LT(t,e,n){const r=t.v_.shift(),i=of.from(r,e,n);await ey(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mu(t)}async function xT(t,e){e&&qn(t).E_&&await async function(r,i){if(function(a){return A2(a)&&a!==$.ABORTED}(i.code)){const s=r.v_.shift();qn(r).t_(),await ey(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Mu(r)}}(t,e),ty(t)&&ny(t)}async function Rm(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=kr(n);n.M_.add(3),await ho(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Nu(n)}async function jT(t,e){const n=le(t);e?(n.M_.delete(2),await Nu(n)):e||(n.M_.add(2),await ho(n),n.N_.set("Unknown"))}function Ci(t){return t.B_||(t.B_=function(n,r,i){const s=le(n);return s.f_(),new ST(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:PT.bind(null,t),To:bT.bind(null,t),Ao:RT.bind(null,t),h_:DT.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),mf(t)?pf(t):t.N_.set("Unknown")):(await t.B_.stop(),Zv(t))})),t.B_}function qn(t){return t.k_||(t.k_=function(n,r,i){const s=le(n);return s.f_(),new kT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:VT.bind(null,t),Ao:xT.bind(null,t),R_:OT.bind(null,t),A_:LT.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Mu(t)):(await t.k_.stop(),t.v_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new gf(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _f(t,e){if(hn("AsyncQueue",`${e}: ${t}`),lo(t))return new te($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=as(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new ei(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ei;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.q_=new Re(ne.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ie():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class di{constructor(e,n,r,i,s,a,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new di(e,n,ei.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class zT{constructor(){this.queries=new ki(e=>kv(e),Au),this.onlineState="Unknown",this.z_=new Set}}async function BT(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new FT,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=_f(a,`Initialization of query '${Nr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&vf(n)}async function UT(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.U_.indexOf(e);a>=0&&(s.U_.splice(a,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $T(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.U_)l.H_(i)&&(r=!0);a.K_=i}}r&&vf(n)}function HT(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function vf(t){t.z_.forEach(e=>{e.next()})}var qc,Nm;(Nm=qc||(qc={})).J_="default",Nm.Cache="cache";class qT{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new di(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==qc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class WT{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=de(),this.mutatedKeys=de(),this.Ia=Cv(e),this.Ta=new ei(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new Dm,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,P)=>{const A=i.get(w),M=Iu(this.query,P)?P:null,V=!!A&&this.mutatedKeys.has(A.key),N=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let C=!1;A&&M?A.data.isEqual(M.data)?V!==N&&(r.track({type:3,doc:M}),C=!0):this.Ra(A,M)||(r.track({type:2,doc:M}),C=!0,(c&&this.Ia(M,c)>0||f&&this.Ia(M,f)<0)&&(l=!0)):!A&&M?(r.track({type:0,doc:M}),C=!0):A&&!M&&(r.track({type:1,doc:A}),C=!0,(c||f)&&(l=!0)),C&&(M?(a=a.add(M),s=N?s.add(w):s.delete(w)):(a=a.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const w=this.query.limitType==="F"?a.last():a.first();a=a.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((w,P)=>function(M,V){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return N(M)-N(V)}(w.type,P.type)||this.Ia(w.doc,P.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,f=c!==this.ha;return this.ha=c,a.length!==0||f?{snapshot:new di(this.query,e.Ta,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Dm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=de(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new iy(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new ry(r))}),n}pa(e){this.la=e.hs,this.Pa=de();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return di.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class KT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GT{constructor(e){this.key=e,this.wa=!1}}class QT{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new ki(l=>kv(l),Au),this.Da=new Map,this.Ca=new Set,this.va=new Re(ne.comparator),this.Fa=new Map,this.Ma=new lf,this.xa={},this.Oa=new Map,this.Na=ci.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function XT(t,e,n=!0){const r=cy(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await sy(r,e,n,!0),i}async function YT(t,e){const n=cy(t);await sy(n,e,!0,!1)}async function sy(t,e,n,r){const i=await gT(t.localStore,Yt(e)),s=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await JT(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Yv(t.remoteStore,i),l}async function JT(t,e,n,r,i){t.Ba=(P,A,M)=>async function(N,C,k,I){let D=C.view.da(k);D.Xi&&(D=await Im(N.localStore,C.query,!1).then(({documents:m})=>C.view.da(m,D)));const u=I&&I.targetChanges.get(C.targetId),p=I&&I.targetMismatches.get(C.targetId)!=null,h=C.view.applyChanges(D,N.isPrimaryClient,u,p);return Vm(N,C.targetId,h.fa),h.snapshot}(t,P,A,M);const s=await Im(t.localStore,e,!0),a=new WT(e,s.hs),l=a.da(s.documents),c=fo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,c);Vm(t,n,f.fa);const w=new KT(e,n,a);return t.ba.set(e,w),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function ZT(t,e,n){const r=le(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(a=>!Au(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ff(r.remoteStore,i.targetId),Wc(r,i.targetId)}).catch(uo)):(Wc(r,i.targetId),await Hc(r.localStore,i.targetId,!0))}async function eS(t,e){const n=le(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ff(n.remoteStore,r.targetId))}async function tS(t,e,n){const r=uS(t);try{const i=await function(a,l){const c=le(a),f=$e.now(),w=l.reduce((M,V)=>M.add(V.key),de());let P,A;return c.persistence.runTransaction("Locally write mutations","readwrite",M=>{let V=pn(),N=de();return c.os.getEntries(M,w).next(C=>{V=C,V.forEach((k,I)=>{I.isValidDocument()||(N=N.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(M,V)).next(C=>{P=C;const k=[];for(const I of l){const D=E2(I,P.get(I.key).overlayedDocument);D!=null&&k.push(new Sr(I.key,D,_v(D.value.mapValue),Ht.exists(!0)))}return c.mutationQueue.addMutationBatch(M,f,k,l)}).next(C=>{A=C;const k=C.applyToLocalDocumentSet(P,N);return c.documentOverlayCache.saveOverlays(M,C.batchId,k)})}).then(()=>({batchId:A.batchId,changes:Iv(P)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let f=a.xa[a.currentUser.toKey()];f||(f=new Re(ge)),f=f.insert(l,c),a.xa[a.currentUser.toKey()]=f}(r,i.batchId,n),await po(r,i.changes),await Mu(r.remoteStore)}catch(i){const s=_f(i,"Failed to persist write");n.reject(s)}}async function oy(t,e){const n=le(t);try{const r=await hT(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Fa.get(s);a&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Se(a.wa):i.removedDocuments.size>0&&(Se(a.wa),a.wa=!1))}),await po(n,r,e)}catch(r){await uo(r)}}function Mm(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,a)=>{const l=a.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=le(a);c.onlineState=l;let f=!1;c.queries.forEach((w,P)=>{for(const A of P.U_)A.j_(l)&&(f=!0)}),f&&vf(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nS(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let a=new Re(ne.comparator);a=a.insert(s,ut.newNoDocument(s,oe.min()));const l=de().add(s),c=new Ru(oe.min(),new Map,new Re(ge),a,l);await oy(r,c),r.va=r.va.remove(s),r.Fa.delete(e),yf(r)}else await Hc(r.localStore,e,!1).then(()=>Wc(r,e,n)).catch(uo)}async function rS(t,e){const n=le(t),r=e.batch.batchId;try{const i=await fT(n.localStore,e);uy(n,r,null),ay(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await po(n,i)}catch(i){await uo(i)}}async function iS(t,e,n){const r=le(t);try{const i=await function(a,l){const c=le(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let w;return c.mutationQueue.lookupMutationBatch(f,l).next(P=>(Se(P!==null),w=P.keys(),c.mutationQueue.removeMutationBatch(f,P))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,w,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,w)).next(()=>c.localDocuments.getDocuments(f,w))})}(r.localStore,e);uy(r,e,n),ay(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await po(r,i)}catch(i){await uo(i)}}function ay(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function uy(t,e,n){const r=le(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Wc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||ly(t,r)})}function ly(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(ff(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),yf(t))}function Vm(t,e,n){for(const r of n)r instanceof ry?(t.Ma.addReference(r.key,e),sS(t,r)):r instanceof iy?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||ly(t,r.key)):ie()}function sS(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.Ca.add(r),yf(t))}function yf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ne(Pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new GT(n)),t.va=t.va.insert(n,r),Yv(t.remoteStore,new Cn(Yt(rf(n.path)),r,"TargetPurposeLimboResolution",Yd.oe))}}async function po(t,e,n){const r=le(t),i=[],s=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,c)=>{a.push(r.Ba(c,e,n).then(f=>{var w;if((f||n)&&r.isPrimaryClient){const P=f?!f.fromCache:(w=n==null?void 0:n.targetChanges.get(c.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(c.targetId,P?"current":"not-current")}if(f){i.push(f);const P=df.Ki(c.targetId,f);s.push(P)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(c,f){const w=le(c);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>U.forEach(f,A=>U.forEach(A.qi,M=>w.persistence.referenceDelegate.addReference(P,A.targetId,M)).next(()=>U.forEach(A.Qi,M=>w.persistence.referenceDelegate.removeReference(P,A.targetId,M)))))}catch(P){if(!lo(P))throw P;Z("LocalStore","Failed to update sequence numbers: "+P)}for(const P of f){const A=P.targetId;if(!P.fromCache){const M=w.ns.get(A),V=M.snapshotVersion,N=M.withLastLimboFreeSnapshotVersion(V);w.ns=w.ns.insert(A,N)}}}(r.localStore,s))}async function oS(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await Kv(n.localStore,e);n.currentUser=e,function(s,a){s.Oa.forEach(l=>{l.forEach(c=>{c.reject(new te($.CANCELLED,a))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await po(n,r.us)}}function aS(t,e){const n=le(t),r=n.Fa.get(e);if(r&&r.wa)return de().add(r.key);{let i=de();const s=n.Da.get(e);if(!s)return i;for(const a of s){const l=n.ba.get(a);i=i.unionWith(l.view.Ea)}return i}}function cy(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nS.bind(null,e),e.Sa.h_=$T.bind(null,e.eventManager),e.Sa.ka=HT.bind(null,e.eventManager),e}function uS(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iS.bind(null,e),e}class Om{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Du(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dT(this.persistence,new lT,e.initialUser,this.serializer)}createPersistence(e){return new oT(cf.Hr,this.serializer)}createSharedClientState(e){return new vT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oS.bind(null,this.syncEngine),await jT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zT}()}createDatastore(e){const n=Du(e.databaseInfo.databaseId),r=function(s){return new TT(s)}(e.databaseInfo);return function(s,a,l,c){return new CT(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new IT(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Mm(this.syncEngine,n,0),function(){return bm.D()?new bm:new yT}())}createSyncEngine(e,n){return function(i,s,a,l,c,f,w){const P=new QT(i,s,a,l,c,f);return w&&(P.La=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=le(r);Z("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ho(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):hn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new te($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_f(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bl(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Kv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hS(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Rm(e.remoteStore,i)),t._onlineComponents=e}function fS(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fS(n))throw n;oi("Error using user provided cache. Falling back to memory cache: "+n),await Bl(t,new Om)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Bl(t,new Om);return t._offlineComponents}async function dy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Lm(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Lm(t,new lS))),t._onlineComponents}function pS(t){return dy(t).then(e=>e.syncEngine)}async function xm(t){const e=await dy(t),n=e.eventManager;return n.onListen=XT.bind(null,e.syncEngine),n.onUnlisten=ZT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eS.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){if(!n)throw new te($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mS(t,e,n,r){if(e===!0&&r===!0)throw new te($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fm(t){if(!ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zm(t){if(ne.isDocumentKey(t))throw new te($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(t);throw new te($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new te($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new te($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new te($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new R8;switch(r.type){case"firstParty":return new V8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jm.get(n);r&&(Z("ComponentProvider","Removing Datastore"),jm.delete(n),r.terminate())}(this),Promise.resolve()}}function gS(t,e,n,r={}){var i;const s=(t=Ln(t,Vu))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=at.MOCK_USER;else{l=fE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new te($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new at(f)}t._authCredentials=new D8(new hv(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ou(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class xn extends Ou{constructor(e,n,r){super(e,n,rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ne(e))}withConverter(e){return new xn(this.firestore,e,this._path)}}function _S(t,e,...n){if(t=si(t),hy("collection","path",e),t instanceof Vu){const r=Pe.fromString(e,...n);return zm(r),new xn(t,null,r)}{if(!(t instanceof kt||t instanceof xn))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return zm(r),new xn(t.firestore,null,r)}}function Kc(t,e,...n){if(t=si(t),arguments.length===1&&(e=pv.newId()),hy("doc","path",e),t instanceof Vu){const r=Pe.fromString(e,...n);return Fm(r),new kt(t,null,new ne(r))}{if(!(t instanceof kt||t instanceof xn))throw new te($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Fm(r),new kt(t.firestore,t instanceof xn?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Qv(this,"async_queue_retry"),this.hu=()=>{const n=zl();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=zl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=zl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new dr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!lo(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw hn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=gf.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ie()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function Um(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class fi extends Vu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vS}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||my(this),this._firestoreClient.terminate()}}function yS(t,e){const n=typeof t=="object"?t:w8(),r=typeof t=="string"?t:e||"(default)",i=g8(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cE("firestore");s&&gS(i,...s)}return i}function py(t){return t._firestoreClient||my(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function my(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,f,w){return new K8(l,c,f,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,fy(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dS(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(ft.fromBase64String(e))}catch(n){throw new te($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=/^__.*__$/;class ES{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new co(e,this.data,n,this.fieldTransforms)}}function _y(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Sf{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return qa(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(_y(this.fu)&&wS.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class TS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Du(e)}Fu(e,n,r,i=!1){return new Sf({fu:e,methodName:n,vu:r,path:Je.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vy(t){const e=t._freezeSettings(),n=Du(t._databaseId);return new TS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yy(t,e,n,r,i,s={}){const a=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Sy("Data must be an object, but it was:",a,r);const l=Ey(r,a);let c,f;if(s.merge)c=new $t(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const w=[];for(const P of s.mergeFields){const A=SS(e,P,n);if(!a.contains(A))throw new te($.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);CS(w,A)||w.push(A)}c=new $t(w),f=a.fieldTransforms.filter(P=>c.covers(P.field))}else c=null,f=a.fieldTransforms;return new ES(new bt(l),c,f)}function wy(t,e){if(Ty(t=si(t)))return Sy("Unsupported field value:",e,t),Ey(t,e);if(t instanceof gy)return function(r,i){if(!_y(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=wy(l,i.bu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=si(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$e.fromDate(r);return{timestampValue:$a(i.serializer,s)}}if(r instanceof $e){const s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$a(i.serializer,s)}}if(r instanceof Tf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:zv(i.serializer,r._byteString)};if(r instanceof kt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uf(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${wf(r)}`)}(t,e)}function Ey(t,e){const n={};return mv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,i)=>{const s=wy(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ty(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Tf||t instanceof hi||t instanceof kt||t instanceof gy)}function Sy(t,e,n){if(!Ty(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function SS(t,e,n){if((e=si(e))instanceof Ef)return e._internalPath;if(typeof e=="string")return ky(t,e);throw qa("Field path arguments must be of type string or ",t,!1,void 0,n)}const kS=new RegExp("[~\\*/\\[\\]]");function ky(t,e,n){if(e.search(kS)>=0)throw qa(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ef(...e.split("."))._internalPath}catch{throw qa(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qa(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new te($.INVALID_ARGUMENT,l+t+c)}function CS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AS extends Cy{data(){return super.data()}}function Ay(t,e){return typeof e=="string"?ky(t,e):e instanceof Ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PS{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Tf(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hs(e));default:return null}}convertTimestamp(e){const n=Hn(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Se(Wv(r));const i=new qs(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||hn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Py extends Cy{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new da(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ay("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class da extends Py{data(e={}){return super.data(e)}}class bS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new da(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ls(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ls(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,w=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),w=a.indexOf(l.doc.key)),{type:RS(l.type),doc:c,oldIndex:f,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class by extends PS{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function DS(t,e,n){t=Ln(t,kt);const r=Ln(t.firestore,fi),i=Iy(t.converter,e,n);return kf(r,[yy(vy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ht.none())])}function NS(t){return kf(Ln(t.firestore,fi),[new sf(t._key,Ht.none())])}function MS(t,e){const n=Ln(t.firestore,fi),r=Kc(t),i=Iy(t.converter,e);return kf(n,[yy(vy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ht.exists(!1))]).then(()=>r)}function VS(t,...e){var n,r,i;t=si(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Um(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Um(e[a])){const P=e[a];e[a]=(n=P.next)===null||n===void 0?void 0:n.bind(P),e[a+1]=(r=P.error)===null||r===void 0?void 0:r.bind(P),e[a+2]=(i=P.complete)===null||i===void 0?void 0:i.bind(P)}let c,f,w;if(t instanceof kt)f=Ln(t.firestore,fi),w=rf(t._key.path),c={next:P=>{e[a]&&e[a](OS(f,t,P))},error:e[a+1],complete:e[a+2]};else{const P=Ln(t,Ou);f=Ln(P.firestore,fi),w=P._query;const A=new by(f);c={next:M=>{e[a]&&e[a](new bS(f,A,P,M))},error:e[a+1],complete:e[a+2]},IS(t._query)}return function(A,M,V,N){const C=new cS(N),k=new qT(M,C,V);return A.asyncQueue.enqueueAndForget(async()=>BT(await xm(A),k)),()=>{C.$a(),A.asyncQueue.enqueueAndForget(async()=>UT(await xm(A),k))}}(py(f),w,l,c)}function kf(t,e){return function(r,i){const s=new dr;return r.asyncQueue.enqueueAndForget(async()=>tS(await pS(r),i,s)),s.promise}(py(t),e)}function OS(t,e,n){const r=n.docs.get(e._key),i=new by(t);return new Py(t,i,e._key,r,new ls(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ti=i})(y8),xa(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new fi(new N8(r.getProvider("auth-internal")),new L8(r.getProvider("app-check-internal")),function(f,w){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new te($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qs(f.options.projectId,w)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Zr(am,"4.6.4",e),Zr(am,"4.6.4","esm2017")})();var LS="firebase",xS="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(LS,xS,"app");const jS={apiKey:"AIzaSyCK7BX4IaYqoOdDrS1Qi8o6KnjrLSrROHI",authDomain:"react-notes-842c7.firebaseapp.com",projectId:"react-notes-842c7",storageBucket:"react-notes-842c7.appspot.com",messagingSenderId:"646143194537",appId:"1:646143194537:web:d112fa0009497adf89c0b8"},FS=rv(jS),Gc=yS(FS),$m=_S(Gc,"notes");function zS(){const[t,e]=je.useState([]),[n,r]=je.useState(""),[i,s]=je.useState(""),a=t.find(P=>P.id===n)||t[0],l=t.sort((P,A)=>A.updatedAt-P.updatedAt);je.useEffect(()=>VS($m,function(A){const M=A.docs.map(V=>({...V.data(),id:V.id}));e(M)}),[]),je.useEffect(()=>{var P;n||r((P=t[0])==null?void 0:P.id)},[t]),je.useEffect(()=>{a&&s(a.body)},[a]),je.useEffect(()=>{const P=setTimeout(()=>{i!==a.body&&f(i)},500);return()=>clearTimeout(P)},[i]);async function c(){const P={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},A=await MS($m,P);r(A.id)}async function f(P){const A=Kc(Gc,"notes",n);await DS(A,{body:P,updatedAt:Date.now()},{merge:!0})}async function w(P){const A=Kc(Gc,"notes",P);await NS(A)}return ze.jsx("main",{children:t.length>0?ze.jsxs(Kd,{sizes:[30,70],direction:"horizontal",className:"split",children:[ze.jsx(pw,{notes:l,currentNote:a,setCurrentNoteId:r,newNote:c,deleteNote:w}),ze.jsx(q3,{tempNoteText:i,setTempNoteText:s})]}):ze.jsxs("div",{className:"no-notes",children:[ze.jsx("h1",{children:"You have no notes"}),ze.jsx("button",{className:"first-note",onClick:c,children:"Create one now"})]})})}hw.render(ze.jsx(zS,{}),document.getElementById("root"));
